/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/Activities/Activities.js":
/*!**************************************!*\
  !*** ./src/Activities/Activities.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   goOnDate: () => (/* reexport safe */ _goOnDate__WEBPACK_IMPORTED_MODULE_8__.goOnDate)\n/* harmony export */ });\n/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../App */ \"./src/App.js\");\n/* harmony import */ var _Definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Definitions */ \"./src/Definitions.js\");\n/* harmony import */ var _Missions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Missions */ \"./src/Missions.js\");\n/* harmony import */ var _Object2d__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Object2d */ \"./src/Object2d.js\");\n/* harmony import */ var _Pet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Pet */ \"./src/Pet.js\");\n/* harmony import */ var _PetDefinition__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../PetDefinition */ \"./src/PetDefinition.js\");\n/* harmony import */ var _UiHelper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../UiHelper */ \"./src/UiHelper.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Utils */ \"./src/Utils.js\");\n/* harmony import */ var _goOnDate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./goOnDate */ \"./src/Activities/goOnDate.js\");\n\n\n\n\n\n\n\n\n\n\n\nclass Activitiesxx {\n    static goToGarden(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.garden);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '100%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetX = 50;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayList([\n                {\n                    name: '<small> coming soon... </small>',\n                    type: 'text',\n                },\n                {\n                    name: '<i class=\"icon fa-solid fa-home\"></i> go inside',\n                    onclick: () => {\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '0%';\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetX = 50;\n                    }\n                }\n            ])\n        })\n    }\n    static getMail(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.garden);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '78%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = false;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle_side', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, false, true);\n        const mailManDef = new _PetDefinition__WEBPACK_IMPORTED_MODULE_5__.PetDefinition({\n            sprite: NPC_CHARACTERS[1],\n            name: 'Nazotchi'\n        });\n        const mailMan = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(mailManDef, {\n            x: '0%',\n            y: _App__WEBPACK_IMPORTED_MODULE_0__.App.scene.garden.petY,\n            targetX: 50,\n        });\n        const payload = () => {\n            mailMan.removeObject();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.handlers.show_newspaper();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n        }\n        mailMan.triggerScriptedState('moving', 2500, null, true, () => {\n            mailMan.stopMove();\n            mailMan.playCheeringAnimation(payload, true);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation();\n        });\n    }\n    static onlineHubTransition(onEndFn){\n        _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.visit_online_hub);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n        setTimeout(() => _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound('resources/sounds/online_hub_transition_01.ogg', true));\n        const fadeOverlay = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/cyberpunk_overlay_01.png',\n            x: 0, y: 0, z: 555, opacity: 0, direction: true,\n            onDraw: (me) => {\n                _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.flip(me, 1000);\n                if(me.direction) me.opacity += 0.00025* _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n                else me.opacity -= 0.001 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n                me.opacity = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.clamp)(me.opacity, 0, 2);\n                if(!me.direction && me.opacity == 0) me.removeObject();\n            }\n        })\n        const lightRays = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            parent: fadeOverlay,\n            img: 'resources/img/misc/light_rays_02.png',\n            z: 556, opacity: 0, x: '50%', y: '50%', composite: 'overlay',\n            onDraw: (me) => {\n                me.opacity = fadeOverlay.opacity * 3;\n                me.rotation += 0.01 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n                me.x = '50%'; me.y = '50%';\n            }\n        })\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('shocked', 4000, false, true, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetY = undefined;\n            onEndFn(fadeOverlay);\n        });\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetY = 50;\n    }\n    static async goToOnlineHub(){\n        const {hasUploadedPetDef, randomPetDefs} = _App__WEBPACK_IMPORTED_MODULE_0__.App.temp.online;\n        const INTERACTION_LIKES = {\n            outgoing: hasUploadedPetDef.interactionOutgoingLikes ?? 0,\n            receiving: hasUploadedPetDef.interactionReceivingLikes ?? 0,\n        }\n        const addInteraction = (def) => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.apiService.addInteraction(def.ownerId);\n            def.interactions = (def.interactions ?? 0) + INTERACTION_LIKES.outgoing;\n            hasUploadedPetDef.interactions = (hasUploadedPetDef.interactions ?? 0) + INTERACTION_LIKES.receiving;\n        }\n        \n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.online_hub);\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n\n        let npcY = 60;\n        const otherPlayersPets = randomPetDefs.slice(0, 7).map((def, i) => {\n            if(i && i % 2 == 0) npcY += 10;\n            const p = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(def, {\n                x: `${(0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(0, 100)}%`,\n                y: `${npcY}%`,\n                z: 4 + (i * 0.15),\n                opacity: 1,\n            });\n            p.stats.wander_max = 3;\n            return p;\n        });\n\n        if(hasUploadedPetDef.status){\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.apiService.addPetDef();\n        }\n\n        // handlers\n        const despawnAllPets = () => {\n            otherPlayersPets.forEach(p => p?.removeObject?.());\n        }\n        const handleHangout = (def) => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n            despawnAllPets();\n            addInteraction(def);\n            _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.online_interact);\n            Activities.invitePlaydate(def, _App__WEBPACK_IMPORTED_MODULE_0__.App.scene.online_hub, () => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(`Do you want to add ${def.getCSprite()} ${def.name} to your friends list?`, [\n                    {\n                        name: 'yes',\n                        onclick: () => {\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n                            const addedFriend = _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.addFriend(def, 1);\n                            if (addedFriend) {\n                                _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${def.getCSprite()} ${def.name} has been added to the friends list!`, 3000);\n                                addInteraction(def);\n                            } else {\n                                _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`You are already friends with ${def.name}`, 3000);\n                            }\n                            return false;\n                        }\n                    },\n                    {\n                        name: 'no',\n                        class: 'back-btn',\n                        onclick: () => { }\n                    },\n                ])\n                setTimeout(() => Activities.goToOnlineHub());\n            })\n        }\n        const handleDate = (def) => {\n            return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(`Do you want to go on a date with <div>${def.getCSprite()} ${def.name}</div>?`, [\n                {\n                    name: 'yes',\n                    onclick: () => {\n                        despawnAllPets();\n                        addInteraction(def);\n                        Activities.goOnDate(def, Activities.goToOnlineHub);\n                    }\n                },\n                {\n                    name: 'cancel',\n                    class: 'back-btn',\n                    onclick: () => {}\n                }\n            ])\n        }\n        const handleInteract = () => {\n            const petInteractions = otherPlayersPets.map(pet => {\n                const def = pet.petDefinition;\n                return {\n                    name: `${def.getCSprite()} ${def.name}`,\n                    onclick: () => {\n                        return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayList([\n                            {\n                                name: `\n                                <div style=\"\n                                    display: flex;\n                                    justify-content: space-between;\n                                    flex-wrap: wrap;   \n                                    align-items: center;                                     \n                                \">\n                                    <div>\n                                        <i class=\"fa-solid fa-user-circle\"></i> ${def.owner}\n                                    </div>\n                                    <div>\n                                        <i class=\"fa-solid fa-thumbs-up\"></i> ${def.interactions}\n                                    </div>\n                                </div>\n                                `,\n                                type: 'text',\n                                solid: true,\n                            },\n                            {\n                                name: 'hang out',\n                                onclick: () => handleHangout(def)\n                            },\n                            {\n                                _disable: _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.lifeStage !== 2 || def.lifeStage !== 2,\n                                name: `go on date`,\n                                onclick: () => handleDate(def)\n                            },\n                        ])\n                    }\n                }\n            })\n            return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayList([\n                ...petInteractions,\n                {\n                    name: `\n                    <small>\n                        <i class=\"fa-solid fa-info-circle\"></i>\n                        Every time you interact with another pet you'll receive \n                        <i class=\"fa-solid fa-thumbs-up\"></i> ${INTERACTION_LIKES.receiving} \n                        and they'll receive\n                        <i class=\"fa-solid fa-thumbs-up\"></i> ${INTERACTION_LIKES.outgoing} \n                    </small>\n                    `,\n                    type: 'text',\n                },\n            ])\n        }\n        const handleUploadCharacter = () => {\n            return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(`Do you want to upload ${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} to HUBCHI so that other players can see and interact with them?`, [\n                {\n                    name: 'yes',\n                    onclick: async () => {\n                        const popup = _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup('Uploading...', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF);\n                        const {status} = await _App__WEBPACK_IMPORTED_MODULE_0__.App.apiService.addPetDef();\n                        popup.close();\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n                        hasUploadedPetDef.status = status;\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup('Success!');\n                    }\n                },\n                {\n                    name: 'no',\n                    class: 'back-btn',\n                    onclick: () => {}\n                },\n            ])\n        }\n        const handleSyncCharacter = () => {\n            return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup('Syncing is now done automatically when entering Hubchi, this option will be removed later.', 4000);\n\n            const confirm = _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(`Do you want to update your HUBCHI persona to be in sync with ${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name}'s latest appearance?`, [\n                {\n                    name: 'yes',\n                    onclick: async () => {\n                        // confirm.close();\n                        // const popup = App.displayPopup('Syncing...', App.INF);\n                        // const {status} = await App.apiService.addPetDef();\n                        // popup.close();\n                        // App.displayPopup(status ? 'Success!' : 'Error!');\n                        return false;\n                    }\n                },\n                {\n                    name: 'no',\n                    class: 'back-btn',\n                    onclick: () => {}\n                },\n            ])\n            return true;\n        }\n        const handleReturnHome = () => {\n            return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(`Are you sure you want to return home?`, [\n                {\n                    name: 'yes',\n                    onclick: async () => {\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n                        otherPlayersPets.forEach(p => p?.removeObject?.());\n                        Activities.onlineHubTransition((fadeOverlay) => {\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                            fadeOverlay.direction = false;\n                            setTimeout(() => {\n                                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation(() => _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true));\n                            }, 500);\n                        });\n                    }\n                },\n                {\n                    name: 'no',\n                    class: 'back-btn',\n                    onclick: () => {}\n                },\n            ])\n        }\n        const handleFriendSearch = () => {\n            const prompt = _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPrompt(`Enter your friend's username (or UID): <small>(Case sensitive)</small>`, [\n                {\n                    name: '<i class=\"fa-solid fa-search icon\"></i> search',\n                    onclick: (query) => {\n                        if(!query.trim()) return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup('Please enter a valid username.');\n                        const searchingPopup = _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`Searching for \"${query}\"...`, _App__WEBPACK_IMPORTED_MODULE_0__.App.INF);\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.apiService.getPetDef(query)\n                            .then(data => {\n                                _App__WEBPACK_IMPORTED_MODULE_0__.App.sendAnalytics('username_search', JSON.stringify({\n                                    status: data.status,\n                                    username: query\n                                }));\n                                \n                                if(!data.status) return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`Username not found <br> <small>(Make sure you are searching for user id not pet name)</small>`);\n\n                                if(data.data === hasUploadedPetDef.data) {\n                                    return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`Something went wrong!`);\n                                }\n                                \n                                prompt.close();\n                                try {\n                                    const def = new _PetDefinition__WEBPACK_IMPORTED_MODULE_5__.PetDefinition(JSON.parse(data.data));\n                                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(`Do you want to add ${def.getCSprite()} ${def.name} to your friends list?`, [\n                                        {\n                                            name: 'yes',\n                                            onclick: () => {\n                                                _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n                                                const addedFriend = _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.addFriend(def, 1);\n                                                if (addedFriend) {\n                                                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${def.getCSprite()} ${def.name} has been added to the friends list!`, 3000);\n                                                    addInteraction(def);\n                                                } else {\n                                                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`You are already friends with ${def.name}`, 3000);\n                                                }\n                                                return false;\n                                            }\n                                        },\n                                        {\n                                            name: 'no',\n                                            class: 'back-btn',\n                                            onclick: () => { }\n                                        },\n                                    ])  \n                                } catch(e) {\n                                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup('Something went wrong!');\n                                }\n                            })\n                            .finally(() => searchingPopup.close())\n                        return true;\n                    }\n                },\n                {\n                    name: 'cancel',\n                    class: 'back-btn',\n                    onclick: () => {}\n                }\n            ])\n            return prompt;\n        }\n        const handleRewardStore = () => {\n            const showItem = (image, name, description, unlockLikesReq, unlockKey) => {\n                const isUnlocked = _App__WEBPACK_IMPORTED_MODULE_0__.App.getRecord(unlockKey);\n                const confirm = _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(\n                    `\n                        <img style=\"max-width: 128px\" src=\"${image}\"></img>\n                        <br>\n                        <b>${name}</b>\n                        <br>\n                        <span>${description}</span>\n                    `,\n                    [\n                        {\n                            _disable: isUnlocked,\n                            // name: !isUnlocked ? 'unlock' : 'reward collected',\n                            name: !isUnlocked ? `unlock <div style=\"margin-left: auto\"><i class=\"fa-solid fa-thumbs-up\"></i> ${unlockLikesReq} </div>` : 'reward collected',\n                            onclick: unlockKey \n                            ? () => {\n                                if((_App__WEBPACK_IMPORTED_MODULE_0__.App.temp.online?.hasUploadedPetDef?.interactions || 0) < unlockLikesReq){\n                                    return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`You don't have enough interactions to unlock ${name}.`)\n                                }\n                                _App__WEBPACK_IMPORTED_MODULE_0__.App.addRecord(unlockKey, 1, true);\n                                _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`<b>${name}</b> unlocked!`)\n                                _App__WEBPACK_IMPORTED_MODULE_0__.App.sendAnalytics('unlocked_hubchi_reward_item', name);\n                            } : undefined\n                        },\n                        {\n                            name: 'close',\n                            class: 'back-btn',\n                            onclick: () => {}\n                        }\n                    ]\n                )\n                return confirm;\n            }\n        \n            const createEntryButton = (icon, name, item, onClick) => {\n                /* let badge = ''\n                if(!App.getRecord(item.unlockKey)){\n                    if(App.temp.online?.hasUploadedPetDef?.interactions >= item.unlockLikes){\n                        badge = App.getBadge('★');\n                    }\n                } else badge = App.getBadge('<i class=\"fa-solid fa-check\"></i>', 'gray'); */\n                return {\n                    name: `<img class=\"icon\" src=\"${icon}\"></img> ${name}`,\n                    onclick: onClick\n                }\n            }\n        \n            // const accessories = Definitions.accessories.filter(e => e.onlineShopAccessible);\n            const accessories = Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.accessories)\n                .filter(e =>\n                    _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.accessories[e].onlineShopAccessible\n                )\n                .map(name => {\n                    const item = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.accessories[name];\n                    const icon = item.icon || item.image;\n                    return createEntryButton(icon, name, item, () => showItem(icon, name, 'accessory', item.unlockLikes, item.unlockKey))\n                })\n        \n            const backgrounds = Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background)\n                .filter(e =>\n                    _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background[e].onlineShopAccessible\n                )\n                .map(name => {\n                    const item = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background[name];\n                    const icon = item.image;\n                    return createEntryButton(icon, name, item, () => showItem(icon, name, 'background', item.unlockLikes, item.unlockKey))\n                })\n        \n            const shells = Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.shell_background)\n                .filter(e =>\n                    _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.shell_background[e].onlineShopAccessible\n                )\n                .map(key => {\n                    const item = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.shell_background[key];\n                    const icon = item.image;\n                    return createEntryButton(icon, item.name, item, () => showItem(icon, item.name, 'shell design', item.unlockLikes, item.unlockKey))\n                })\n        \n            return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayList(\n                [\n                    ...accessories,\n                    ...backgrounds,\n                    ...shells,\n                ]\n            )\n        }\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            if(!hasUploadedPetDef.status){\n                return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayList([\n                    {\n                        type: 'text',\n                        name: `\n                            Upload your character to get access to hubchi!\n                        `,\n                    },\n                    {\n                        _ignore: hasUploadedPetDef.status,\n                        name: 'Upload character',\n                        onclick: handleUploadCharacter\n                    },\n                    {\n                        name: '<i class=\"icon fa-solid fa-home\"></i> return home',\n                        onclick: handleReturnHome\n                    },\n                ])\n            }\n\n            return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayList([\n                {\n                    type: 'text',\n                    solid: true,\n                    name: `\n                        <div style=\"\n                            display: flex;\n                            justify-content: space-between;\n                            flex-wrap: wrap;\n                            align-items: center;\n                            width: 100%;\n                        \">\n                            <div style=\"\n                                display: flex;\n                                align-items: center;                        \n                            \">\n                                ${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.getCSprite()} You\n                            </div>\n                            <div>\n                                <i class=\"icon fa-solid fa-thumbs-up\"></i> ${hasUploadedPetDef.interactions ?? 0}\n                            </div>\n                        </div>\n                    `,\n                },\n                {\n                    name: 'interact',\n                    onclick: handleInteract\n                },\n                {\n                    name: 'sync character',\n                    onclick: handleSyncCharacter,\n                },\n                {\n                    name: `rewards store`,\n                    onclick: handleRewardStore,\n                },\n                {\n                    name: `add friend`,\n                    onclick: handleFriendSearch,\n                },\n                {\n                    name: '<i class=\"icon fa-solid fa-home\"></i> return home',\n                    onclick: handleReturnHome\n                },\n            ])\n        })\n    }\n    static encounter(){\n        if((0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(0, 256) != 1) return false;\n        const def = new _PetDefinition__WEBPACK_IMPORTED_MODULE_5__.PetDefinition({\n            sprite: NPC_CHARACTERS[0],\n            name: '-_-',\n        }).setStats({\n            current_hunger: 0,\n            current_health: 0,\n            current_fun: 0,\n            current_death_tick: 0,\n            speed: 0.1,\n            wander_min: 0.1,\n            wander_max: 0.11\n        })\n        new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(def, {\n            opacity: 0.5,\n            x: -50,\n            castShadow: false,\n            z: _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.ACTIVE_PET_Z + 1,\n            onDraw: (me) => {\n                if(!_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.is_sleeping){\n                    me.removeObject();\n                }\n            }\n        });\n        return true;\n    }\n    static goToVacation(vacationFn){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true, null);\n        Activities.task_foam(\n            () => {\n                vacationFn()\n            },\n        )\n    }\n    static seaVacation(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.is_at_vacation = true;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.save();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.seaVacation);\n\n        const end = () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n            Activities.task_foam(() => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.is_at_vacation = false;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.save();\n            })\n        }\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true, null, \n            _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet.scriptedEventDrivers.playingWithItem.bind({pet: _App__WEBPACK_IMPORTED_MODULE_0__.App.pet})\n        );\n\n        setTimeout(() => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '65%';\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = '67%';\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        })\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(`Are you sure you want to end ${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name}'s vacation?`, [\n                {\n                    name: 'yes',\n                    onclick: end\n                },\n                {\n                    name: 'no',\n                    class: 'back-btn',\n                    onclick: () => { }\n                }\n            ])\n        });\n    }\n    static async cookingGame(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, false);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.sendAnalytics('cooking_game');\n        _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.cook);\n        // App.setScene(App.scene.kitchen);\n\n        const potObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/cooking_pot_p01.png',\n            z: 30, x: 0, y: 0,\n        });\n        const potInsideObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/cooking_pot_p02.png',\n            z: 30.1, x: 0, y: 0, clipCircle: true, parent: potObject,\n            onDraw: (me) => {\n                _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.rotateAround(me, stirringSpeed * 50);\n            }\n        });\n        const potTopObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/cooking_pot_p03.png',\n            z: 30.4, x: 0, y: 0, parent: potObject,\n        });\n\n        let stirringSpeed = 0.001;\n        const starLogicHandler = (me) => {\n            if(!me._originX) me._originX = me.config.drawer.getRelativePositionX(50 - 11);\n            if(!me._originY) me._originY = me.config.drawer.getRelativePositionY(50 - 11);\n            if(me._current === undefined || me._current == Math.PI) me._current = 0;\n\n            me._current += stirringSpeed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n\n            _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.circleAround(me, 20, me._current, me._originX, me._originY);\n            _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.pulseScale(me, 0.01, Math.min(Math.abs(stirringSpeed) * 10, 0.03));\n        }\n\n        const starObjects = [];\n        for(let i = 0; i < 3; i++){\n            const img = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n                img: 'resources/img/misc/star_01.png',\n                width: 22, height: 22, y: '50%', x: '50%', z: 30.5,\n                _current: 2.0944 * i, pulseScaleFloat: i,\n                clipCircle: true, parent: potObject,\n                noPreload: true,\n                onDraw: starLogicHandler,\n            })\n            starObjects.push(img);\n        }\n\n        let failChance = 25;\n        let currentTargetImgIndex = 0;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            if(currentTargetImgIndex < starObjects.length){\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.useWebcam((imgData) => {\n                    if(!imgData || imgData == -1){\n                        // potObject.removeObject();\n                        // App.pet.stopScriptedState();\n                        // App.toggleGameplayControls(true);\n                        imgData = 'resources/img/misc/exclam_01.png';\n                        failChance += 35;\n                    }\n                    starObjects[currentTargetImgIndex].setImg(imgData);\n                    currentTargetImgIndex++;\n                    stirringSpeed += 0.001;\n                });\n            } else {\n                stirringSpeed += 0.001;\n                if(stirringSpeed > 0.02){\n                    const failed = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(0, 100) < failChance;\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n                    stirringSpeed = -100;\n                    let randomFoodName, backgroundObject;\n                    Activities.task_foam(\n                        () => { // mid\n                            potObject.removeObject();\n                            backgroundObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n                                img: 'resources/img/misc/light_rays_01.png',\n                                width: 144, height: 144,\n                                x: '50%', y: '50%', z: 30,\n                                onDraw: (me) => {\n                                    _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.rotateAround(me);\n                                }\n                            })\n                            randomFoodName = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.randomFromArray)(Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.food));\n                            const randomFood = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.food[randomFoodName];\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.FOOD_SPRITESHEET_DIMENSIONS.cellNumber = randomFood.sprite;\n                            if(!failed){\n                                setTimeout(() => _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound('resources/sounds/task_complete_02.ogg', true), 1000);\n                                new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n                                    img: _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.FOOD_SPRITESHEET,\n                                    spritesheet: _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.FOOD_SPRITESHEET_DIMENSIONS,\n                                    x: '50%', y: '50%', z: 31, parent: backgroundObject,\n                                    onDraw: (me) => {\n                                        _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.pulseScale(me, 0.01, 0.01);\n                                    }\n                                })\n                            } else {\n                                new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n                                    img: 'resources/img/misc/exclam_01.png',\n                                    width: 32, height: 32,\n                                    x: '50%', y: '50%', z: 31, parent: backgroundObject, clipCircle: true,\n                                    onDraw: (me) => {\n                                        _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.pulseScale(me, 0.01, 0.01);\n                                    }\n                                })\n                            }\n                        },\n                        () => { // end\n                            setTimeout(() => {\n                                function end(){\n                                    backgroundObject.removeObject();\n                                    _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n                                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n                                }\n                                if(!failed){\n                                    const amount = 1;\n                                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} <br>made x${amount}<br> <b>${randomFoodName}</b>!`, 3000, () => {\n                                        end();\n                                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation();\n                                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(10, 25);\n                                        _App__WEBPACK_IMPORTED_MODULE_0__.App.addNumToObject(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inventory.food, randomFoodName, amount);\n                                    });\n                                } else {\n                                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} <br>failed to make anything edible!<br>`, 3000, () => {\n                                        end();\n                                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun -= (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(5, 15);\n                                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playUncomfortableAnimation();\n                                    });\n                                }\n                            }, 2000);\n                        }\n                    );\n                }\n            }\n        });\n\n    }\n    // activities\n    static async getDressed(middleFn, onEndFn, cheer){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n\n        let curtainTargetElevation = 16, step = 0;\n        const curtainObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/dresser_curtain_01.png',\n            x: 0, y: -100, z: 9,\n            onDraw: (curtain) => {\n                // curtain.y = lerp(curtain.y, curtainTargetElevation, 0.001 * App.deltaTime);\n                curtain.targetY = curtainTargetElevation;\n                curtain.moveToTarget(0.03);\n                _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.bob(curtain, 0.01, 1);\n            }\n        })\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n        await _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', 4000, 0, true);\n        if(middleFn) middleFn();\n        curtainTargetElevation = -100;\n        await _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', 2000, 0, true);\n        curtainObject.removeObject();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimationIfTrue(cheer, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n            onEndFn();\n        });\n    }\n    static async pet(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.sendAnalytics('petting');\n        let idleTimer = null, closeTimer = null, y = _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetY = 132;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.shadowOffset = 999;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        await _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('cheering', 1000, null, true);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.scale = 2;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetY = 50;\n        await _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('cheering', 1000, null, true);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.scale = 3;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetY = 60;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.pat_x_times.advance();\n            _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.pat);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.setState('blush');\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(1, 4) * 0.1;\n            if(idleTimer) clearTimeout(idleTimer);\n            if(closeTimer) clearTimeout(closeTimer);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound('resources/sounds/cute.ogg', true);\n            Activities.task_floatingHearts();\n            idleTimer = setTimeout(() => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.setState('idle');\n                closeTimer = setTimeout(() => _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState(), 5000);\n                idleTimer = null;\n            }, 250);\n        });\n        await _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, null, true, () => {\n            // App.pet.y = y;\n            // App.pet.x = '50%';\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.currentScene);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.shadowOffset = 0;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.scale = 1;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation();\n        });\n    }\n    static standWork(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.stand);\n        _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.work_x_times.advance();\n        let totalMoneyMade = 0;\n\n        let standObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/stand_01_booth.png',\n            x: 0, y: 0, z: 19\n        })\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n        });\n\n        function spawnCustomer() {\n            const standDuration = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(2000, 5000);\n\n            const badAnimations = ['angry'];\n            const midAnimations = ['uncomfortable', 'shocked'];\n            const goodAnimations = ['eating', 'cheering'];\n\n            let possibleAnimations = [...goodAnimations, ...midAnimations, ...badAnimations];\n\n            const negativeMoodlets = _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.hasMoodlet('hungry') + _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.hasMoodlet('bored') + _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.hasMoodlet('sick') + _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.hasMoodlet('sleepy');\n            if(negativeMoodlets && negativeMoodlets <= 2) possibleAnimations = [...midAnimations, ...goodAnimations];\n            else if(negativeMoodlets && negativeMoodlets <= 4) possibleAnimations = [...badAnimations, ...midAnimations];\n            else possibleAnimations = [...goodAnimations];\n\n            const currentAnimation = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.randomFromArray)(possibleAnimations);\n\n            switch(currentAnimation){\n                case \"eating\":\n                case \"cheering\":\n                    totalMoneyMade += (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(8, 12);\n                    break;\n                case \"shocked\":\n                case \"uncomfortable\":\n                    totalMoneyMade += (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(3, 5);\n                    break;\n                case \"angry\":\n                    totalMoneyMade += 2;\n                    break;\n            }\n\n            let otherPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(_App__WEBPACK_IMPORTED_MODULE_0__.App.getRandomPetDef((0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(1, 2)));\n                otherPet.stopMove();\n                otherPet.x = -32;\n                otherPet.y = '100%';\n                otherPet.z = 20;\n                otherPet.inverted = true;\n                otherPet.targetX = 8;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.setState('idle_side');\n                otherPet.triggerScriptedState('moving', 4000, 0, true, () => {\n                    otherPet.stopMove();\n                    otherPet.x = 8;\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.setState('eating');\n                    otherPet.triggerScriptedState(currentAnimation, standDuration, 0, true, () => {\n                        otherPet.targetX = -100;\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.setState('idle');\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound('resources/sounds/task_complete.ogg', true);\n                        otherPet.triggerScriptedState('moving', 5000, 0, true, () => {\n                            otherPet.removeObject();\n                        })\n\n                    })\n                })\n\n            return otherPet;\n        }\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '68%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = '70%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = false;\n        let startTime = Date.now();\n        let nextCustomerSpawnTime = Date.now() + (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(0, 8000);\n        let currentCustomer;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', 200000, 0, true, () => {\n            standObject.removeObject();\n            let elapsedTime = Math.round((Date.now() - startTime) / 1000);\n            Activities.task_endWork(elapsedTime, totalMoneyMade);\n            currentCustomer?.removeObject();\n        }, () => {\n            // Object2d.animations.bob(App.pet, 0.01, 0.05);\n            if(Date.now() > nextCustomerSpawnTime){\n                nextCustomerSpawnTime = Date.now() + (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(8000, 45000);\n                currentCustomer = spawnCustomer();\n            }\n        });\n    }\n    static battle(otherPetDef){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.battle);\n\n        if(!otherPetDef) otherPetDef = _App__WEBPACK_IMPORTED_MODULE_0__.App.getRandomPetDef(_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.lifeStage);\n\n        let otherPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(otherPetDef);\n            otherPet.stopMove();\n            otherPet.x = '75%';\n            otherPet.y = '40%';\n            otherPet.inverted = false;\n            otherPet.triggerScriptedState('battle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true, () => {\n                otherPet.removeObject();\n            }, () => {\n                _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.bob(otherPet, 0.01, 0.1)\n            })\n        \n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '25%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = '90%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = true;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('battle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true, () => {\n            // end\n        }, () => {\n            _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.bob(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet, 0.01, 0.12)\n        })\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n\n        })\n    }\n    static playEggUfoAnimation(callback){\n        if(!_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.eggObject) return;\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n\n        let egg = _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.eggObject;\n            egg.y = -40;\n\n        let stage = 0;\n\n        this.ufoObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            image: _App__WEBPACK_IMPORTED_MODULE_0__.App.preloadedResources['resources/img/misc/ufo_01.png'],\n            y: -120,\n            x: 0,\n        });\n\n        let drawEvent = () => {\n            egg.y = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.lerp)(egg.y, 72, 0.0008 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime);\n            \n            if(stage == 0){\n                this.ufoObject.y = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.lerp)(this.ufoObject.y, 0, 0.007 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime);\n                if(egg.y >= 65) stage = 1;\n            } else {\n                this.ufoObject.y = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.lerp)(this.ufoObject.y, -120, 0.001 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime);\n                if(this.ufoObject.y <= -110) stage = 2;\n            }\n\n            if(stage == 2){\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                if(callback) callback();\n                this.ufoObject.removeObject();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.unregisterOnDrawEvent(drawEvent);\n            }\n        }\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.registerOnDrawEvent(drawEvent);\n    }\n    static stayAtParents(end){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.sendAnalytics('stay_at_parents');\n\n        if(end){\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.is_at_parents = false;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.save();\n            return;\n        }\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(`Pickup ${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} from their parents house?`, [\n                {\n                    name: 'yes',\n                    onclick: () => {\n                        Activities.stayAtParents(true); // ending\n                    }\n                },\n                {\n                    name: 'no',\n                    class: 'back-btn',\n                    onclick: () => { }\n                }\n            ])\n        });\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.parentsHome);\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.is_at_parents = true;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.save();\n    }\n    static goToClinic(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.visit_doctor);\n\n        function task_visit_doctor(){\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.hospitalInterior);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = -30;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetX = 50;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('moving', 4000, null, true, () => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`<b>Dr. Banzo:</b><br>let's see...`, 3500);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '20%';\n                // App.toggleGameplayControls(true);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = true;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle_side', 4100, null, true, () => {\n                    let health = _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_health;\n    \n                    let state = 'very healthy';\n                    if(health <= _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.max_health * 0.20) state = 'very sick';\n                    else if(health <= _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.max_health * 0.45) state = 'sick';\n                    else if(health <= _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.max_health * 0.75) state = 'healthy'\n    \n                    if(state == 'very sick' || state == 'sick'){\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('shocked', 2000, false, true, () => {\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.petDefinition.name} is ${state}`, 5000, () => _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%');\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                        })\n                    } else {\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('cheering_with_icon', 2000, false, true, () => {\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.petDefinition.name} is ${state}`, 5000, () => _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%');\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                        })\n                    }\n                });\n    \n            });\n        }\n\n        function task_goto_hospital(){\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.hospitalExterior);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = 130;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetY = 80;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('moving', 2500, 0, true, () => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n                task_visit_doctor();\n            })\n        }\n\n        task_goto_hospital();\n    }\n    static bathe(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.bathroom);\n        _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.use_bath);\n        let foams = [];\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = !_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted;\n            let flipTime = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(200, 300);\n\n            let foamSpeed = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(5, 13) * 0.001;\n            let foamStr = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(1, 4) * 0.1;\n            let foam = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n                img: 'resources/img/misc/foam_single.png',\n                x: 50 + (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(-15, 15) + Math.random(), \n                y: 42 + (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(-2, 2) + Math.random(),\n                z: 20,\n                onDraw: (me) => {\n                    _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.flip(me, flipTime);\n                    _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.bob(me, foamSpeed, foamStr);\n                }\n            })\n            foams.push(foam);\n\n            if(foams.length >= 10){\n                foams.forEach(f => f.removeObject());\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n            }\n\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_cleanliness += 25;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound(`resources/sounds/ui_click_03.ogg`, true);\n        });\n\n        let bathObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/bathroom_01_bath.png',\n            x: 0, y: 0, z: 19\n        })\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '64%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = '64%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = '100%';\n            bathObject.removeObject();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation(() => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n            });\n        });\n    }\n    static poop(){\n        // todo: add automatic pooping and poop training symbols to player\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.bathroom);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.use_toilet);\n\n        if(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_bladder > _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.max_bladder / 2){ // more than half\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playRefuseAnimation(() => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n            });\n            return;\n        }\n\n        _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.use_toilet_x_times.advance();\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.needsToiletOverlay.hidden = false;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_bladder = _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.max_bladder;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '21%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = '85%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = true;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('sitting', 5000, 0, true, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = '100%';\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation(() => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n            });\n        });\n    }\n    static wedding(otherPetDef){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.wedding);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.maxStats();\n\n        _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.marry_x_times.advance();\n\n        const otherPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(otherPetDef);\n\n        try {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.sendAnalytics('wedding', JSON.stringify({\n                a: _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.sprite,\n                b: otherPetDef.sprite\n            }));\n        } catch(e) {}\n\n        const overlay = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/background/house/wedding_overlay.png',\n            x: 0,\n            y: 0,\n            z: 99\n        })\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        otherPet.stopMove();\n\n        otherPet.x = '33%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '67%';\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = 0;\n        otherPet.y = 0;\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetY = 56;\n        otherPet.targetY = 56;\n\n        otherPet.inverted = true;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = false;\n\n        otherPet.triggerScriptedState('blush', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('blush', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true);\n\n        setTimeout(() => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound('resources/sounds/wedding_song_01.ogg', true);\n        })\n\n        setTimeout(() => {\n            otherPet.triggerScriptedState('idle_side', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle_side', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true);\n        }, 8000);\n\n        setTimeout(() => {\n            otherPet.triggerScriptedState('kissing', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('kissing', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true);\n        }, 12380);\n\n        setTimeout(() => {\n            Activities.task_foam(() => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.removeObject();\n                otherPet.removeObject();\n                overlay.removeObject();\n\n                let parentA = _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition,\n                    parentB = otherPetDef;\n\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition = _App__WEBPACK_IMPORTED_MODULE_0__.App.getPetDefFromParents(parentA, parentB);\n\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet = _App__WEBPACK_IMPORTED_MODULE_0__.App.createActivePet(_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition);\n            }, () => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.handlers.show_set_pet_name_dialog();\n            })\n        }, 18000);\n    }\n    static dbg_randomMarriage(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.removeObject();\n\n        let parentA = _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition;\n        const parentAFamily = parentA.family;\n        parentA = _App__WEBPACK_IMPORTED_MODULE_0__.App.getRandomPetDef(2);\n        parentA.family = parentAFamily;\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition = _App__WEBPACK_IMPORTED_MODULE_0__.App.getPetDefFromParents(parentA, _App__WEBPACK_IMPORTED_MODULE_0__.App.getRandomPetDef(2));\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet = _App__WEBPACK_IMPORTED_MODULE_0__.App.createActivePet(_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.is_egg = false;\n    }\n    static birthday(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.has_poop_out = false;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_bladder = 100;\n        _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.birthday_x_times.advance();\n\n        let otherPetDefs =  [..._App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.friends]\n                            .map(value => ({ value, sort: Math.random() }))\n                            .sort((a, b) => a.sort - b.sort)\n                            .map(({ value }) => value); // shuffling friends array\n        for(let i = 0; i < 3; i++){\n            let def = new _PetDefinition__WEBPACK_IMPORTED_MODULE_5__.PetDefinition({\n                sprite: (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.randomFromArray)(PET_TEEN_CHARACTERS),\n            });\n            otherPetDefs.push(def);\n        }\n\n        let otherPets = [];\n        otherPetDefs.slice(0, 3).forEach(def => {\n            let pet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(def);\n            otherPets.push(pet);\n        });\n        \n        const table = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/table_01.png',\n            x: 28,\n            y: 68,\n        });\n        const cake = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/cake_01.png',\n            x: 39,\n            y: 58,\n        });\n\n        otherPets.forEach((pet, i) => {\n            pet.stopMove();\n            pet.targetX = 20;\n            pet.x = -10 * i;\n            switch(i){\n                case 0:\n                    pet.targetX = 30;\n                    pet.targetY = 65;\n                    break;\n                case 1:\n                    pet.targetX = 15;\n                    pet.targetY = 75;\n                    break;\n                case 2:\n                    pet.targetX = 5;\n                    pet.targetY = 85;\n                    break;\n            }\n            pet.triggerScriptedState('moving', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, 0, true, null, (pet) => {\n                if(!pet.isMoving){\n                    pet.setState('cheering');\n                }\n            })\n        })\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '80%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = false;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle_side', 3000, 0, true, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound('resources/sounds/birthday_song_01.ogg', true);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('cheering', 13000, 0, true, () => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('cheering', 10000, 0, true);\n                Activities.task_foam(() => {\n                    otherPets.forEach(pet => pet.removeObject());\n                    table.removeObject();\n                    cake.removeObject();\n\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.ageUp();\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = 60;\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('blush', 3000, 0, true, () => {\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation();\n                    });\n\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.sendAnalytics('age_up', _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.lifeStage);\n                });\n            });\n        });\n    }\n    static redecorRoom(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        let otherPetDef = new _PetDefinition__WEBPACK_IMPORTED_MODULE_5__.PetDefinition({\n            sprite: 'resources/img/character/chara_290b.png',\n        })\n        let otherPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(otherPetDef);\n        _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.redecor_x_times.advance();\n\n        otherPet.stopMove();\n        otherPet.x = '100%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = 10;\n\n        function task_otherPetMoveIn(){\n            otherPet.triggerScriptedState('moving', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, null, true);\n            otherPet.targetX = 80 - otherPet.spritesheet.cellSize;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', 3000, null, true, () => {\n                otherPet.stopScriptedState();\n                task_redecor();\n            })\n        }\n\n        function task_redecor(){\n            otherPet.x = 80 - otherPet.spritesheet.cellSize;\n            otherPet.stopMove();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n\n            Activities.task_foam(\n            () => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = 10;\n            }, \n            () => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n            })\n\n            otherPet.triggerScriptedState('idle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, null, true, () => {\n                otherPet.stopScriptedState();\n                task_otherPetMoveOut();\n            });\n        }\n\n        function task_otherPetMoveOut(){\n            otherPet.triggerScriptedState('moving', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF);\n            otherPet.targetX = 120;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = true;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle_side', 3000, null, true, () => {\n                otherPet.stopScriptedState();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += 55;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.statsManager();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimationIfTrue(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.hasMoodlet('amused'), () => _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home));\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.drawer.removeObject(otherPet);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n            });\n        }\n\n        task_otherPetMoveIn();\n    }\n    static inviteGiveGift(otherPetDef){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        let otherPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(otherPetDef);\n        _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.give_gifts_x_times.advance();\n        _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.gift);\n\n        const wantedFriendDef = _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.friends[_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_want.item];\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.checkWant(otherPetDef == wantedFriendDef, _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.playdate)\n\n        otherPet.stopMove();\n        otherPet.x = '100%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = 10;\n\n        let gift = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/gift.png',\n            x: '50%', y: '80%'\n        });\n\n        function task_otherPetMoveIn(){\n            otherPet.triggerScriptedState('moving', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, null, true);\n            otherPet.targetX = 90 - otherPet.spritesheet.cellSize;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = true;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle_side', 2500, null, true, () => {\n                otherPet.stopScriptedState();\n                task_gift();\n            })\n        }\n\n        function task_gift(){\n            otherPet.x = 90 - otherPet.spritesheet.cellSize;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = 10;\n\n            otherPet.stopMove();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n\n            otherPet.triggerScriptedState('cheering', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('cheering', 3000, null, true, () => {\n                // App.drawer.removeObject(gift);\n                otherPet.stopScriptedState();\n                task_otherPetMoveOut();\n            });\n        }\n\n        function task_otherPetMoveOut(){\n            gift.y += 10;\n            otherPet.triggerScriptedState('moving', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, false, true, null, () => {\n                gift.x = otherPet.x + 10;\n            });\n            otherPet.targetX = 120;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = true;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('blush', 3000, null, true, () => {\n                otherPet.stopScriptedState();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += 55;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.statsManager();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimationIfTrue(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.hasMoodlet('amused'), () => _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home));\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.drawer.removeObject(otherPet);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.drawer.removeObject(gift);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n            });\n        }\n\n        task_otherPetMoveIn();\n    }\n    static officeWork(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.office);\n        _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.work_x_times.advance();\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n        });\n\n        let laptop = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: \"resources/img/misc/laptop.png\",\n            x: '70%', y: '50%',\n        });\n        laptop.x = '70%';\n        laptop.y = '50%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = true;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = '60%';\n        let startTime = Date.now();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('eating', 200000, false, true, () => {\n            laptop.removeObject();\n            let elapsedTime = Math.round((Date.now() - startTime) / 1000);\n            Activities.task_endWork(elapsedTime, Math.round(elapsedTime / 2.5));\n        })\n    }\n    static inviteDoctorVisit(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        let otherPetDef = new _PetDefinition__WEBPACK_IMPORTED_MODULE_5__.PetDefinition({\n            sprite: 'resources/img/character/chara_291b.png',\n        })\n        let otherPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(otherPetDef);\n\n        otherPet.stopMove();\n        otherPet.x = '100%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = 20;\n\n        function task_otherPetMoveIn(){\n            otherPet.triggerScriptedState('moving', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, null, true);\n            otherPet.targetX = 80 - otherPet.spritesheet.cellSize;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', 3000, null, true, () => {\n                otherPet.stopScriptedState();\n                task_visiting();\n            })\n        }\n\n        function task_visiting(){\n            otherPet.x = 80 - otherPet.spritesheet.cellSize;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = 20;\n\n            otherPet.stopMove();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = true;\n\n            otherPet.triggerScriptedState('eating', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('eating', 8000, null, true, () => {\n                otherPet.stopScriptedState();\n                task_otherPetMoveOut();\n            });\n        }\n\n        function task_otherPetMoveOut(){\n            otherPet.triggerScriptedState('moving', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF);\n            otherPet.targetX = 120;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = true;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle_side', 3000, null, true, () => {\n                otherPet.stopScriptedState();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n                // App.pet.playCheeringAnimationIfTrue(App.pet.hasMoodlet('amused'), () => App.setScene(App.scene.home));\n\n                let health = _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_health;\n\n                let state = 'very healthy';\n                if(health <= _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.max_health * 0.20) state = 'very sick';\n                else if(health <= _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.max_health * 0.45) state = 'sick';\n                else if(health <= _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.max_health * 0.75) state = 'healthy'\n\n                if(state == 'very sick' || state == 'sick'){\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('shocked', 2000, false, true, () => {\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.petDefinition.name} is ${state}`, 5000);\n                    })\n                } else {\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('cheering', 2000, false, true, () => {\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.petDefinition.name} is ${state}`, 5000);\n                    })\n                }\n\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.drawer.removeObject(otherPet);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n            });\n        }\n\n        task_otherPetMoveIn();\n    }\n    static goToMall(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n        });\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.walkway);\n        _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.visit_mall);\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '100%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.y = '74%';\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetX = -20;\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('moving', 3000, null, true, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.handlers.open_mall_activity_list();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n        });\n\n        // App.pet.triggerScriptedState('moving', 1000, null, true, () => {\n        //     App.setScene(App.scene.home);\n        //     App.handlers.open_mall_activity_list();\n        //     App.toggleGameplayControls(true);\n        // }, Pet.scriptedEventDrivers.movingOut.bind({pet: App.pet}));\n    }\n    static goToArcade(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n        });\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.arcade);\n\n        let randomNpcs = new Array(2).fill(undefined).map((item, i) => {\n\n            let petDef = _App__WEBPACK_IMPORTED_MODULE_0__.App.getRandomPetDef(1);\n            let npcPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(petDef);\n            \n            if(i == 1) npcPet.x = 15;\n            else npcPet.x = 0;\n\n            npcPet.stopMove();\n            npcPet.triggerScriptedState('cheering', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, null, true);\n\n            return npcPet;\n        })\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('moving', 2500, null, true, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.handlers.open_game_list();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n\n            randomNpcs.forEach(npc => npc.removeObject());\n        }, _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet.scriptedEventDrivers.movingIn.bind({pet: _App__WEBPACK_IMPORTED_MODULE_0__.App.pet}));\n    }\n    static goToMarket(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n        });\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.market);\n        _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.visit_market);\n\n        let randomNpcs = new Array(2).fill(undefined).map((item, i) => {\n\n            let petDef = _App__WEBPACK_IMPORTED_MODULE_0__.App.getRandomPetDef(2);\n            let npcPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(petDef);\n            \n            if(i == 1) npcPet.x = 30;\n            else {\n                npcPet.x = 0;\n                npcPet.inverted = true;\n            }\n\n            npcPet.stopMove();\n            npcPet.triggerScriptedState('eating', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, null, true);\n\n            return npcPet;\n        })\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('moving', 2500, null, true, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.handlers.open_market_menu();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n\n            randomNpcs.forEach(npc => npc.removeObject());\n        }, _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet.scriptedEventDrivers.movingIn.bind({pet: _App__WEBPACK_IMPORTED_MODULE_0__.App.pet}));\n    }\n    static invitePlaydate(otherPetDef, scene, onEndFn){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(scene ?? _App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        otherPetDef.increaseFriendship(8);\n        let otherPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(otherPetDef);\n        _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.playdate);\n\n        const wantedFriendDef = _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.friends[_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_want.item];\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.checkWant(otherPetDef == wantedFriendDef, _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.playdate)\n\n        otherPet.stopMove();\n        otherPet.x = '100%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = 20;\n\n        function task_otherPetMoveIn(){\n            otherPet.triggerScriptedState('moving', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, null, true);\n            otherPet.targetX = 80 - otherPet.spritesheet.cellSize;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', 3000, null, true, () => {\n                otherPet.stopScriptedState();\n                task_playing();\n            })\n        }\n\n        function task_playing(){\n            otherPet.x = 80 - otherPet.spritesheet.cellSize;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = 20;\n\n            otherPet.stopMove();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n\n            otherPet.triggerScriptedState('cheering', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('cheering', 5000, null, true, () => {\n                otherPet.stopScriptedState();\n                task_otherPetMoveOut();\n            });\n        }\n\n        function task_otherPetMoveOut(){\n            otherPet.triggerScriptedState('moving', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF);\n            otherPet.targetX = 120;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = true;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle_side_uncomfortable', 3000, null, true, () => {\n                otherPet.stopScriptedState();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += 30;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.statsManager();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.drawer.removeObject(otherPet);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimationIfTrue(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.hasMoodlet('amused'), () => {\n                    if(onEndFn) return onEndFn();\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                });\n            });\n        }\n\n        task_otherPetMoveIn();\n    }\n    static goToPark(otherPetDef){\n        if(!otherPetDef){\n            if((0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(1, 100) <= 60){\n                otherPetDef = _App__WEBPACK_IMPORTED_MODULE_0__.App.getRandomPetDef(_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.lifeStage);\n                _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.find_park_friend);\n            }\n        } else {\n            const wantedFriendDef = _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.friends[_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_want.item];\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.checkWant(otherPetDef == wantedFriendDef, _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.playdate)\n        }\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.park);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n\n        let otherPet;\n        if(otherPetDef){\n            otherPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(otherPetDef);\n            otherPet.nextRandomTargetSelect = 0;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.addFriend(otherPetDef, 1);\n            otherPetDef.increaseFriendship();\n        }\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('playing', 10000, null, true, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += 40;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.statsManager();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimationIfTrue(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.hasMoodlet('amused'), () => _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home));\n            if(otherPet) _App__WEBPACK_IMPORTED_MODULE_0__.App.drawer.removeObject(otherPet);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n        }, _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet.scriptedEventDrivers.playing.bind({pet: _App__WEBPACK_IMPORTED_MODULE_0__.App.pet}));\n    }\n\n\n    // games\n    static parkRngGame(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.park);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.checkWant(true, _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.minigame);\n\n        // const randomPetRef = App.getRandomPetDef();\n        const randomPetRef = new _PetDefinition__WEBPACK_IMPORTED_MODULE_5__.PetDefinition({\n            name: 'park_game_npc',\n            sprite: 'resources/img/character/chara_175b.png',\n        });\n        const randomPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(randomPetRef);\n        randomPet.stopMove();\n        randomPet.triggerScriptedState('eating', 5000, null, true);\n        randomPet.x = 20;\n        randomPet.inverted = true;\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = 80 - _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.spritesheet.cellSize;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = false;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('eating', 5000, null, true, () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.drawer.removeObject(randomPet);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n            if(Math.random() > 0.5){ // win\n                let winningGold = 25;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.gold += winningGold;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += 35;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation(() => {\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} won $${winningGold}`);\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.handlers.open_game_list();\n                });\n            } else {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playAngryAnimation(() => {\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} lost!`);\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun -= 15;\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.handlers.open_game_list();\n                });\n            }\n        });\n        \n        return false;  \n    }\n    static barTimingGame(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.checkWant(true, _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.minigame);\n\n        let screen = _App__WEBPACK_IMPORTED_MODULE_0__.App.displayEmpty();\n        screen.innerHTML = `\n        <div class=\"flex-container flex-row-down height-100p\" style=\"background: url(${_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.arcade_game01.image});background-size: contain;image-rendering: pixelated;\">\n            <div class=\"timing-bar-container\">\n                <div class=\"timing-bar-rod\"></div>\n                <div class=\"timing-bar-rod\"></div>\n                <div class=\"timing-bar-rod\"></div>\n                <div class=timing-bar-cursor></div>\n            </div>\n        </div>\n        `;\n\n        const cursor = screen.querySelector('.timing-bar-cursor');\n        \n        let moneyWon = 0, round = 0, roundsWin = 0;\n        let cursorSpeed = 0.19;\n        let cursorCurrentPos = 0;\n\n        let reset = (cursorSpeedAdd) => {\n            cursorCurrentPos = 0;\n            cursor.style.opacity = 1;\n        }\n\n        reset();\n\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.onDraw = () => {\n            cursorCurrentPos += cursorSpeed * _App__WEBPACK_IMPORTED_MODULE_0__.App.nDeltaTime;\n            if(cursorCurrentPos >= 98 || cursorCurrentPos <= 0){\n                cursorSpeed *= -1;\n                cursorCurrentPos = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.clamp)(cursorCurrentPos, 0, 100);\n                // App.vibrate(25);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound(`resources/sounds/ui_click_04.ogg`, true);\n            }\n            cursor.style.left = `${cursorCurrentPos}%`;\n        }\n\n        screen.onclick = () => {\n            if(cursorSpeed == 0) return;\n\n            cursorSpeed = 0;\n            cursor.style.opacity = 0.3;\n\n            if(cursorCurrentPos >= 90) {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound(`resources/sounds/ui_click_03.ogg`, true);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.vibrate(80);\n                // success\n                moneyWon += 20;\n                roundsWin++;\n            } else if(cursorCurrentPos >= 70) {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound(`resources/sounds/ui_click_01.ogg`, true);\n                moneyWon += 3;\n            } else {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound(`resources/sounds/ui_click_01.ogg`, true);\n                moneyWon -= 5;\n                moneyWon = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.clamp)(moneyWon, 0, 999);\n            }\n\n            round++;\n\n            if(round == 3){\n                setTimeout(() => {\n                    screen.close();\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.onDraw = null;\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} won $${moneyWon}!`, null, () => {\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.gold += moneyWon;\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += roundsWin * 10;\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.arcade);\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n                        const onEnd = () => {\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.handlers.open_game_list();\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                        }\n                        if(roundsWin <= 1){\n                            // App.pet.triggerScriptedState('uncomfortable', 3000, 0, true, onEnd);\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playAngryAnimation(onEnd);\n                        } else {\n                            if(roundsWin == 3){\n                                _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.perfect_minigame_rodrush_win_x_times.advance();\n                            }\n                            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimationIfTrue(roundsWin == 3, onEnd);\n                            _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.win_game);\n                        }\n                    });\n                }, 500);\n            } else {\n                setTimeout(() => {\n                    reset(0.15);\n\n                    cursorSpeed = round == 1 ? 0.27 : 0.37;\n                }, 500);\n            }\n        }\n    }\n    static fallingStuffGame(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.park);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.checkWant(true, _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.minigame);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.mouse.x = null;\n        \n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.speedOverride = 0.07;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', 99999999, 0, true, null, (pet) => {\n            if(_App__WEBPACK_IMPORTED_MODULE_0__.App.mouse.x === null) return;\n\n            const center = _App__WEBPACK_IMPORTED_MODULE_0__.App.mouse.x - pet.spritesheet.cellSize/2;\n\n            if(pet.x != center){\n                const diff = pet.x - center;\n                if(diff > 0) pet.inverted = false;\n                else pet.inverted = true;\n                pet.targetX = center;\n                if(Math.abs(diff) > 0.5) pet.setState('moving');\n            } else {\n                pet.setState('idle_side');\n            }\n        });\n\n        let lives = 2, moneyWon = 0;\n        let nextSpawnMs = 0, projectileSpeed = 0.05, spawnDelay = 1250;\n        const petHeight = 80 - _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.spritesheet.cellSize/1.2;\n        const petWidth = 32/2;\n        const spawnerObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            x: -999, y: -999,\n            onDraw: () => {\n                if(_App__WEBPACK_IMPORTED_MODULE_0__.App.lastTime > nextSpawnMs){\n                    nextSpawnMs = _App__WEBPACK_IMPORTED_MODULE_0__.App.lastTime + spawnDelay;\n\n                    projectileSpeed += 0.0018;\n                    if(projectileSpeed > 0.15) projectileSpeed = 0.15;\n                    spawnDelay -= 20;\n                    if(spawnDelay < 800) spawnDelay = 800;\n\n                    const xPercentage = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.randomFromArray)(['10%', '37%', '63%', '90%']);\n                    const currentIsFaulty = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(0, 3) == 1;\n                    const projectileObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n                        parent: spawnerObject,\n                        img: currentIsFaulty ? 'resources/img/misc/falling_poop.png' : 'resources/img/misc/heart_particle_01.png',\n                        y: -20, x: xPercentage, rotation: (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(0, 180), z: 6, width: 15, height: 13,\n                        speed: projectileSpeed,\n                        onDraw: (me) => {\n                            const xCenter = me.x - me.width/2;\n                            me.y += me.speed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n\n                            me.rotation += me.speed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n\n                            if(\n                                me.y > petHeight && me.y < 80 && \n                                xCenter > _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x - petWidth && xCenter < _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x + petWidth\n                            ) {\n                                spawnSmoke(xCenter, me.y);\n                                me.removeObject();\n                                me.setImg('resources/img/misc/heart_particle_02.png')\n                                score(currentIsFaulty);\n                            }\n\n                            if(me.y > 90) me.removeObject();\n                        }\n                    })\n                }\n            }\n        })\n\n        const spawnSmoke = (x, y) => {\n            new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n                img: 'resources/img/misc/foam_single.png',\n                x, y, z: 6, opacity: 1, scale: 1.2,\n                onDraw: (me) => {\n                    me.rotation += 0.1 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n                    me.opacity -= 0.001 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n                    me.scale -= 0.001 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n                    me.y -= 0.01 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n                    if(me.opacity <= 0.1 || me.scale <= 0.1) me.removeObject();\n                }\n            })\n        }\n\n        const screen = _UiHelper__WEBPACK_IMPORTED_MODULE_6__.UI.empty();\n        document.querySelector('.screen-wrapper').appendChild(screen);\n        screen.innerHTML = `\n        <div class=\"width-full\" style=\"position: absolute; bottom: 0; left: 0;\">\n            <div class=\"flex-container\" style=\"justify-content: space-between; padding: 4px\">\n            <div class=\"flex-container\" style=\"\n                background: #ff00c647;\n                padding: 0 4px;\n                border-radius: 6px;\n                color: #ffcaf4;\n            \">\n                $\n                <div id=\"moneyWon\">${moneyWon}</div>\n            </div>\n            <div class=\"flex-container\">\n                <div id=\"lives\">${lives}</div>\n            </div>\n            </div>\n        </div>\n        `;\n\n        const uiMoneyWon = screen.querySelector('#moneyWon'),\n        uiLives = screen.querySelector('#lives');\n\n        const updateUI = () => {\n            uiMoneyWon.textContent = moneyWon;\n            uiLives.innerHTML = new Array(lives).fill('').map(() => {\n                return `<img src=\"resources/img/misc/heart_particle_01.png\"></img>`\n            }).join(' ');\n        }\n\n        updateUI();\n\n        const finish = () => {\n            screen.remove();\n            spawnerObject.removeObject();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n\n            const end = () => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.handlers.open_game_list();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.gold += moneyWon;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += moneyWon / 6;\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.speedOverride = 0;\n                if(moneyWon >= _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.perfect_minigame_catch_win_x_gold.required){\n                    _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.perfect_minigame_catch_win_x_gold.advance();\n                }\n                if(moneyWon)\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} won $${moneyWon}`);\n                else \n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} lost!`);\n            }\n\n            if(moneyWon > 30){\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation(() => end());\n                _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.win_game);\n            } else {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playUncomfortableAnimation(() => end());\n            }\n        }\n\n        const score = (faulty) => {\n            if(faulty){\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound(`resources/sounds/sad.ogg`, true);\n                lives--;\n                if(lives == 0){\n                    lives = 0;\n                    finish();\n                }\n            } else {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound(`resources/sounds/cute.ogg`, true);\n                moneyWon += (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(1, 2);\n            }\n\n            updateUI();\n        }\n    }\n    static opponentMimicGame(){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.arcade);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.checkWant(true, _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.minigame);\n\n        const opponentPetDef = new _PetDefinition__WEBPACK_IMPORTED_MODULE_5__.PetDefinition({\n            name: 'park_game_npc',\n            sprite: 'resources/img/character/chara_175b.png',\n        });\n\n        const opponentPet = new _Pet__WEBPACK_IMPORTED_MODULE_4__.Pet(opponentPetDef, {x: '70%'});\n        \n        let totalRounds = 3, playedRounds = 0, roundsWon = 0;\n\n        const reset = () => {\n            if(playedRounds >= totalRounds){\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n                opponentPet.removeObject();\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '50%';\n\n                const end = () => {\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.handlers.open_game_list();\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n                    const moneyWon = roundsWon * (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(20, 30);\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.gold += moneyWon;\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += roundsWon * 15;\n                    if(moneyWon)\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} won $${moneyWon}`);\n                    else \n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} lost!`);\n                    if(roundsWon == totalRounds){\n                        _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.perfect_minigame_mimic_win_x_times.advance();\n                    }\n                }\n\n                if(roundsWon >= 2){\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playCheeringAnimation(() => end());\n                    _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.win_game);\n                } else if(roundsWon == 0){\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playUncomfortableAnimation(() => end());\n                } else {\n                    end();\n                    _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_2__.Missions.TYPES.win_game);\n                }\n\n                return;\n            }\n\n            opponentPet.stopMove();\n            opponentPet.triggerScriptedState('idle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, null, true);\n            opponentPet.x = '70%';\n            opponentPet.inverted = true;\n\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = '30%';\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = false;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopMove();\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState('idle', _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, null, true);\n\n            setTimeout(() => {\n                const screen = _App__WEBPACK_IMPORTED_MODULE_0__.App.displayEmpty();\n                const imgPath = 'resources/img/ui/';\n                screen.innerHTML = `\n                <div class=\"flex-container flex-dir-col height-100p\" style=\"background: var(--background-c)\">\n                    <div class=\"solid-surface-stylized inner-padding b-radius-10 relative\">\n                        <div class=\"surface-stylized\" style=\"padding: 0px 10px;position: absolute;top: -20px;left: 0px;\">\n                            ${playedRounds + 1}/${totalRounds}\n                        </div>\n                        Which direction will your opponent turn?\n                    </div>\n                    <div class=\"mimic-game__btn-container\">\n                        <button id=\"left\" class=\"generic-btn stylized\"> <img src=\"${imgPath}facing_left.png\"></img> </button>\n                        <button id=\"center\" class=\"generic-btn stylized\"> <img src=\"${imgPath}facing_center.png\"></img> </button>\n                        <button id=\"right\" class=\"generic-btn stylized\"> <img src=\"${imgPath}facing_right.png\"></img> </button>\n                    </div>\n                </div>\n                `;\n                ['left', 'center', 'right'].forEach((dir) => {\n                    const btn = screen.querySelector(`#${dir}`);\n                    btn.onclick = () => {\n                        setPredictedDirection(dir);\n                        screen.close();\n                    }\n                })\n            }, 800)\n        }\n\n        reset();\n\n        const deriveStateFromDirection = (dir) => {\n            switch(dir){\n                case 'center': return {state: 'idle', inverted: false};\n                case 'right': return {state: 'idle_side', inverted: true};\n                case 'left': return {state: 'idle_side', inverted: false};\n            }\n        }\n\n        const setPredictedDirection = (dir) => {\n            const randomDir = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.randomFromArray)(['left', 'center', 'right']);\n            setTimeout(() => {\n                const opponentState = deriveStateFromDirection(randomDir);\n                opponentPet.setState(opponentState.state)\n                opponentPet.inverted = opponentState.inverted;\n\n                const playerState = deriveStateFromDirection(dir);\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.setState(playerState.state)\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inverted = playerState.inverted;\n\n                // if(randomDir === dir){\n                //     App.playSound(`resources/sounds/task_complete_02.ogg`, true);\n                // } else {\n                //     App.playSound(`resources/sounds/task_fail_01.ogg`, true);\n                // }\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound(`resources/sounds/task_complete.ogg`, true);\n\n                setTimeout(() => {\n                    playedRounds++;\n                    if(randomDir === dir){\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.setState('cheering');\n                        opponentPet.setState('angry');\n                        roundsWon++;\n                    } else {\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.setState('angry');\n                        opponentPet.setState('cheering');\n                    }\n                    setTimeout(reset, 1000);\n                }, 1500);\n            }, 1000);\n        }\n        \n        return false;  \n    }\n\n\n    // utils\n    static task_foam(middleFn, endFn){\n        let foam = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n            img: 'resources/img/misc/foam_01.png',\n            x: 0, y: 0, z: 1001,\n            onDraw: (me) => {\n                _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d.animations.flip(me, 400)\n            }\n        });\n\n        setTimeout(() => {\n            foam.setImg('resources/img/misc/foam_02.png');\n        }, 500);\n\n        setTimeout(() => {\n            foam.setImg('resources/img/misc/foam_03.png');\n        }, 1000);\n\n        setTimeout(() => {\n            foam.setImg('resources/img/misc/foam_04.png');\n        }, 1500);\n\n        setTimeout(() => {\n            if(middleFn) middleFn();\n        }, 2000);\n\n        setTimeout(() => {\n            foam.setImg('resources/img/misc/foam_03.png');\n        }, 3000);\n        setTimeout(() => {\n            foam.setImg('resources/img/misc/foam_02.png');\n        }, 3500);\n        setTimeout(() => {\n            foam.setImg('resources/img/misc/foam_01.png');\n        }, 4000);\n\n        setTimeout(() => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.drawer.removeObject(foam);\n        }, 4500);\n\n        setTimeout(() => {\n            if(endFn) endFn();\n        }, 5500);\n    }\n    static task_endWork(elapsedTime, moneyMade){\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} worked for ${elapsedTime} seconds`, 2500, () => {\n            if(elapsedTime > 10){\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.gold += moneyMade;\n            } else moneyMade = 0;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun -= elapsedTime / 3.5;\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} made $${moneyMade}`, [\n                {\n                    name: 'ok',\n                    onclick: () => {\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n                    }\n                }\n            ]);\n        });\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n    }\n    static task_floatingHearts(num){\n        if(!num) num = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(1, 4);\n        for(let i = 0; i < num; i++){\n            let floatSpeed = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(4, 5) * 0.01, \n                swayFloat = 0, \n                swaySpeed = (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(2, 20) * 0.001;\n            const heartObject = new _Object2d__WEBPACK_IMPORTED_MODULE_3__.Object2d({\n                img: `resources/img/misc/heart_particle_0${(0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(1, 2)}.png`, \n                z: (0,_Utils__WEBPACK_IMPORTED_MODULE_7__.randomFromArray)([0, 100]), \n                x: `${(0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(0, 100)}%`, \n                y: `${(0,_Utils__WEBPACK_IMPORTED_MODULE_7__.random)(105, 115)}%`\n            });\n            heartObject.onDraw = (me) => {\n                if(isNaN(me.y)) return;\n\n                me.y -= floatSpeed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n\n                swayFloat += swaySpeed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n                me.x += Math.sin(swayFloat) * 2;\n                if(me.y < -16) me.removeObject();\n            }\n        }\n    }\n}\n\n//# sourceURL=webpack:///./src/Activities/Activities.js?");

/***/ }),

/***/ "./src/Activities/goOnDate.js":
/*!************************************!*\
  !*** ./src/Activities/goOnDate.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   goOnDate: () => (/* binding */ goOnDate)\n/* harmony export */ });\n/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../App */ \"./src/App.js\");\n/* harmony import */ var _Definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Definitions */ \"./src/Definitions.js\");\n/* harmony import */ var _Pet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Pet */ \"./src/Pet.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Utils */ \"./src/Utils.js\");\n/* harmony import */ var _Activities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Activities */ \"./src/Activities/Activities.js\");\n\n\n\n\n\n\nasync function goOnDate(otherPetDef = _App__WEBPACK_IMPORTED_MODULE_0__.App.getRandomPetDef(), onFailEnd) {\n  _App__WEBPACK_IMPORTED_MODULE_0__.App.closeAllDisplays();\n  _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(false);\n  _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.beach);\n  const otherPet = new _Pet__WEBPACK_IMPORTED_MODULE_2__.Pet(otherPetDef);\n\n  // moving in\n  otherPet.x = \"70%\";\n  otherPet.targetX = 0;\n  otherPet.triggerScriptedState(\"moving\", 2000, false, true);\n  _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = \"100%\";\n  _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.targetX = 50;\n  await _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState(\"moving\", 2000, false, true);\n\n  // date\n  _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.x = \"70%\";\n  otherPet.x = \"30%\";\n  otherPet.inverted = true;\n  otherPet.triggerScriptedState(\"eating\", 8000, false, true);\n  await _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.triggerScriptedState(\"eating\", 8000, false, true);\n\n  // conclusion\n  const end = () => {\n    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stopScriptedState();\n    otherPet.removeObject();\n    _App__WEBPACK_IMPORTED_MODULE_0__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_0__.App.scene.home);\n    _App__WEBPACK_IMPORTED_MODULE_0__.App.toggleGameplayControls(true);\n  };\n  const determineBehavior = (pet, enjoyment) => {\n    if (enjoyment) {\n      pet.showThought(\"thought_heart\");\n      pet.triggerScriptedState(\"blush\", _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, false, true);\n      _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound(\"resources/sounds/task_complete_02.ogg\", true);\n    } else {\n      pet.showThought(\"thought_heart_broken\");\n      pet.triggerScriptedState(\"idle_side_uncomfortable\", _App__WEBPACK_IMPORTED_MODULE_0__.App.INF, false, true);\n      pet.inverted = !pet.inverted;\n      setTimeout(() =>\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.playSound(\"resources/sounds/task_fail_01.ogg\", true)\n      );\n    }\n  };\n  const petOverall =\n    (_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun +\n      _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_cleanliness +\n      _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_health +\n      (0,_Utils__WEBPACK_IMPORTED_MODULE_3__.random)(0, 100)) /\n    4;\n  const otherEnjoyment = (0,_Utils__WEBPACK_IMPORTED_MODULE_3__.random)(30, 85) <= petOverall;\n  const petEnjoyment = otherEnjoyment ? !!(0,_Utils__WEBPACK_IMPORTED_MODULE_3__.random)(0, 6) : (0,_Utils__WEBPACK_IMPORTED_MODULE_3__.random)(0, 1); // just to make it more common for both parties to not like each other\n  determineBehavior(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet, petEnjoyment);\n  determineBehavior(otherPet, otherEnjoyment);\n\n  setTimeout(() => {\n    if (!petEnjoyment || !otherEnjoyment) {\n      let text = \"\";\n      if (!otherEnjoyment && !petEnjoyment) {\n        text = `Oh no! ${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} and ${otherPetDef.name} didn't really hit it off!`;\n      } else if (!otherEnjoyment && petEnjoyment) {\n        text = `${otherPetDef.name} didn't quite connect with ${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name}!`;\n      } else {\n        text = `${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} didn't quite connect with ${otherPetDef.name}!`;\n      }\n      return _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(text, 5000, () => {\n        end();\n        onFailEnd?.();\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun -= 35;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.playUncomfortableAnimation();\n      });\n    }\n\n    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.current_fun += 40;\n    _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(\n      `${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} and ${otherPetDef.name} had a wonderful time together! <br><br> Do you want to propose to ${otherPetDef.name}?`,\n      [\n        {\n          name: \"propose\",\n          onclick: () => {\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(\n              `${_App__WEBPACK_IMPORTED_MODULE_0__.App.petDefinition.name} and <div>${otherPetDef.getCSprite()} ${otherPetDef.name}</div> will get married and you'll receive their egg, are you sure?`,\n              [\n                {\n                  name: \"yes\",\n                  onclick: () => {\n                    end();\n                    _Activities__WEBPACK_IMPORTED_MODULE_4__.Activities.wedding(otherPetDef);\n                  },\n                },\n                {\n                  name: \"cancel\",\n                  class: \"back-btn\",\n                  onclick: () => {\n                    _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.not_propose_on_date_x_times.advance();\n                    end();\n                  },\n                },\n              ]\n            );\n          },\n        },\n        {\n          name: \"cancel\",\n          class: \"back-btn\",\n          onclick: end,\n        },\n      ]\n    );\n  }, 3000);\n}\n\n\n//# sourceURL=webpack:///./src/Activities/goOnDate.js?");

/***/ }),

/***/ "./src/App.js":
/*!********************!*\
  !*** ./src/App.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   App: () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Activities/Activities */ \"./src/Activities/Activities.js\");\n/* harmony import */ var _Definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Definitions */ \"./src/Definitions.js\");\n/* harmony import */ var _Drawer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Drawer */ \"./src/Drawer.js\");\n/* harmony import */ var _libs_moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./libs/moment */ \"./src/libs/moment.js\");\n/* harmony import */ var _libs_moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_libs_moment__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _Missions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Missions */ \"./src/Missions.js\");\n/* harmony import */ var _Object2d__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Object2d */ \"./src/Object2d.js\");\n/* harmony import */ var _Pet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Pet */ \"./src/Pet.js\");\n/* harmony import */ var _PetDefinition__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./PetDefinition */ \"./src/PetDefinition.js\");\n/* harmony import */ var _Scene__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Scene */ \"./src/Scene.js\");\n/* harmony import */ var _UiHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./UiHelper */ \"./src/UiHelper.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Utils */ \"./src/Utils.js\");\n/* harmony import */ var _Version__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Version */ \"./src/Version.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst App = {\n    PI2: Math.PI * 2, INF: 999999999, deltaTime: 0, lastTime: 0, mouse: {x: 0, y: 0}, userId: '_', userName: null, ENV: location.port == 5500 ? 'dev' : 'prod', sessionId: Math.round(Math.random() * 9999999999), playTime: 0,\n    gameEventsHistory: {}, deferredInstallPrompt: null, shellBackground: '', isOnItch: false, isOnElectronClient: false, hour: 12,\n    misc: {}, mods: [], records: {}, temp: {},\n    settings: {\n        screenSize: 1,\n        playSound: true,\n        vibrate: true,\n        displayShell: true,\n        displayShellButtons: true,\n        shellShape: 1,\n        backgroundColor: '#FFDEAD',\n        notifications: false,\n        automaticAging: false,\n        sleepingHoursOffset: 0,\n        classicMainMenuUI: false,\n    },\n    constants: {\n        FOOD_SPRITESHEET: 'resources/img/item/foods_on.png',\n        FOOD_SPRITESHEET_DIMENSIONS: {\n            cellNumber: 1,\n            cellSize: 24,\n            rows: 33,\n            columns: 33,\n        },\n        SLEEP_START: 21,\n        SLEEP_END: 8,\n        PARENT_DAYCARE_START: 8,\n        PARENT_DAYCARE_END: 18,\n        MAX_SHELL_SHAPES: 6,\n        AFTERNOON_TIME: [12, 17],\n        EVENING_TIME: [17, 20],\n        NIGHT_TIME: [20, 6],\n        CHRISTMAS_TIME: {\n            start: '12-14',\n            end: '12-31',\n            absDay: '12-25',\n        },\n        MANUAL_AGE_HOURS_BABY: 6,\n        MANUAL_AGE_HOURS_TEEN: 12,\n        AUTO_AGE_HOURS_BABY: 24,\n        AUTO_AGE_HOURS_TEEN: 48,\n        WANT_TYPES: {\n            food: 'food',\n            playdate: 'playdate',\n            item: 'item',\n            minigame: 'minigame',\n            fulfilled: 'fulfilled',\n        },\n        CHAR_UNLOCK_PREFIX: 'ch_unl',\n        // z-index\n        ACTIVE_PET_Z: 5,\n        NPC_PET_Z: 4.6,\n        POOP_Z: 4.59,\n        CHRISTMAS_TREE_Z: 4.58,\n    },\n    routes: {\n        BLOG: 'https://tamawebgame.github.io/blog/',\n        ITCH_REVIEW: 'https://samandev.itch.io/tamaweb/rate?source=game',\n    },\n    async init () {\n        // init\n        this.initSound();\n        this.drawer = new _Drawer__WEBPACK_IMPORTED_MODULE_2__.Drawer(document.querySelector('.graphics-canvas'));\n        _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d.setDrawer(App.drawer);\n\n        // check for platforms\n        if(location.host.indexOf('itch') !== -1) App.isOnItch = true;\n        if(navigator?.userAgent == 'electron-client') App.isOnElectronClient = true;\n\n        // load data\n        let loadedData = this.load();\n        console.log({loadedData});\n\n        // shell background\n        this.setShellBackground(loadedData.shellBackground);\n\n        // mods\n        this.loadMods(loadedData.mods);\n\n        // handle settings\n        if(loadedData.settings){\n            Object.assign(this.settings, loadedData.settings);\n        }\n        this.applySettings();\n\n        // handle preloading\n        let forPreload = [\n            ...SPRITES,\n            ...PET_ADULT_CHARACTERS,\n            ...PET_TEEN_CHARACTERS,\n            ...PET_BABY_CHARACTERS,\n            ...NPC_CHARACTERS,\n        ];\n        this.preloadedResources = {};\n        const preloadedResources = await this.preloadImages(forPreload);\n        preloadedResources.forEach((resource, i) => {\n            // let name = forPreload[i].slice(forPreload[i].lastIndexOf('/') + 1);\n            const name = forPreload[i];\n            this.preloadedResources[name] = resource;\n        });\n\n        // creating game objects\n        App.background = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n            image: null, x: 0, y: 0, width: 96, height: 96, z: -10,\n        })\n        // App.foodsSpritesheet = new Object2d({\n        //     image: App.preloadedResources[\"resources/img/item/foods.png\"],\n        //     x: 10, y: 10,\n        //     spritesheet: {\n        //         cellNumber: 11,\n        //         cellSize: 16,\n        //         rows: 4,\n        //         columns: 4,\n        //     },\n        //     hidden: true,\n        // })\n        App.foods = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n            image: App.preloadedResources[App.constants.FOOD_SPRITESHEET],\n            x: 10, y: 10,\n            width: 12, height: 12,\n            scale: 24,\n            spritesheet: {\n                cellNumber: 2,\n                cellSize: 24,\n                rows: 33,\n                columns: 33,\n            },\n            hidden: true,\n        })\n        App.uiFood = document.createElement('c-sprite');\n        App.uiFood.setAttribute('width', 24);\n        App.uiFood.setAttribute('height', 24);\n        App.uiFood.setAttribute('index', 0);\n        App.uiFood.setAttribute('src', App.constants.FOOD_SPRITESHEET);\n        App.uiFood.setAttribute('class', 'ui-food');\n        App.uiFood.style.visibility = 'hidden';\n        document.querySelector('.graphics-wrapper').appendChild(App.uiFood);\n\n        App.darkOverlay = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n            img: \"resources/img/background/house/dark_overlay.png\",\n            hidden: true,\n            z: 10, opacity: 0.85,\n            composite: \"source-atop\",\n        })\n        App.poop = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n            image: App.preloadedResources[\"resources/img/misc/poop.png\"],\n            x: '80%', y: '80%', z: App.constants.POOP_Z,\n            hidden: true,\n            onDraw: (me) => {\n                _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d.animations.flip(me, 300);\n            }\n        })\n        App.sky = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n            image: App.preloadedResources[\"resources/img/background/sky/night.png\"],\n            x: 0, y: 0, z: 99999,\n            composite: \"destination-over\",\n            // absHidden: true\n        })\n        App.skyOverlay = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n            image: App.preloadedResources[\"resources/img/background/sky/night_overlay.png\"],\n            x: 0, y: 0, z: 999,\n            composite: \"source-atop\",\n            opacity: 1,\n        })\n        App.skyWeather = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n            image: App.preloadedResources[\"resources/img/background/sky/rain_01.png\"],\n            x: 0, y: 0, z: 999.1,\n            composite: \"xor\",\n            // hidden: true,\n            onDraw: (me) => {\n                _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d.animations.flip(me, 200);\n            }\n        })\n        App.petDefinition = new _PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition({\n            name: (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.getRandomName)(),\n            sprite: (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.randomFromArray)(PET_BABY_CHARACTERS),\n        })\n            .setStats({is_egg: true})\n            .loadStats(loadedData.pet)\n            .loadAccessories(loadedData.accessories);\n\n        // check automatic age up\n        if(App.settings.automaticAging){\n            while(_libs_moment__WEBPACK_IMPORTED_MODULE_3___default()().utc().isAfter( App.petDefinition.getNextAutomaticBirthdayDate() )){\n                App.petDefinition.ageUp()\n                App.sendAnalytics('auto_age_up', App.petDefinition.lifeStage);\n            }\n        }\n\n        // put pet to sleep on start if is sleeping hour\n        if(!App.petDefinition.stats.is_sleeping && !App.isTester()){\n            App.petDefinition.stats.is_sleeping = App.isSleepHour() && !loadedData.pet?.stats?.is_egg;\n        }\n\n        App.pet = App.createActivePet(App.petDefinition, {\n            state: '',\n        });\n\n        if(!loadedData.pet || !Object.keys(loadedData.pet).length) { // first time\n            setTimeout(() => {\n                _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.playEggUfoAnimation(() => App.handlers.show_set_pet_name_dialog());\n            }, 100);\n        }\n        App.setScene(App.scene.home);\n        this.applySky()\n\n        // simulating offline progression\n        if(loadedData.lastTime){\n            let elapsedTime = Date.now() - loadedData.lastTime;\n            \n            if(App.ENV !== 'dev') App.pet.simulateOfflineProgression(elapsedTime);\n            \n            let awaySeconds = Math.round(elapsedTime / 1000);\n            let awayMinutes = Math.round(awaySeconds / 60);\n            let awayHours = Math.round(awayMinutes / 60);\n            // console.log({awayHours, awayMinutes, awaySeconds})\n            \n            let message;\n            if(awaySeconds < 60) message = `${awaySeconds} seconds`;\n            else if(awayMinutes < 60) message = `${awayMinutes} minutes`;\n            else message = `${awayHours} hours`;\n\n            App.awayTime = message;\n\n            if(awaySeconds > 2 && App.ENV !== 'dev'){\n                App.displayConfirm(`Welcome back!\\n<b>${App.petDefinition.name}</b> missed you in those <b>${message}</b> you were away`, [\n                    {\n                        name: 'ok',\n                        onclick: () => {}\n                    }\n                ])\n            }\n        }\n\n        // check if at daycare\n        if(App.pet.stats.is_at_parents){\n            _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.stayAtParents();\n        }\n\n        // check if at vacation\n        if(App.pet.stats.is_at_vacation){\n            _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.seaVacation();\n        }\n\n        // entries\n        window.onload = function () {\n            const analyticsData = {\n                session_id: App.sessionId,\n                play_time_mins: (Math.round(App.playTime) / 1000 / 60).toFixed(2),\n                away: (App.awayTime || -1),\n                sprite: App.petDefinition.sprite,\n                is_egg: App.pet.stats.is_egg,\n                gold: App.pet.stats.gold,\n                ver: _Version__WEBPACK_IMPORTED_MODULE_11__.VERSION\n            }\n            App.sendAnalytics('login', JSON.stringify(analyticsData));\n\n            // update(0);\n            App.targetFps = 60;\n            App.fpsInterval = 1000 / App.targetFps;\n            App.fpsLastTime = Date.now();\n            App.fpsStartTime = App.fpsLastTime;\n            App.onFrameUpdate(0);\n        }\n        window.onbeforeunload = function(){\n            const analyticsData = {\n                session_id: App.sessionId,\n                hunger: Math.round(App.pet.stats.current_hunger),\n                fun: Math.round(App.pet.stats.current_fun),\n                health: Math.round(App.pet.stats.current_health),\n                sleep: Math.round(App.pet.stats.current_sleep),\n                bladder: Math.round(App.pet.stats.current_bladder),\n                is_egg: App.pet.stats.is_egg,\n                has_poop_out: App.pet.stats.has_poop_out,\n                is_sleeping: App.pet.stats.is_sleeping,\n            }\n            App.sendAnalytics('logout', JSON.stringify(analyticsData));\n\n            App.save();\n        }\n\n        // touch / mouse pos on canvas\n        App.registerInputUpdates();\n\n        /* // routing\n        const historyIndex = window.history.length;\n        window.history.pushState(null, null, window.top.location.pathname + window.top.location.search);\n        window.addEventListener('popstate', (e) => {\n            const activeDisplay = [...document.querySelectorAll('.root .display')].at(-1);\n            const backAction = activeDisplay?.querySelector('.back-btn, .cancel-btn, .back-sound');\n            console.log(e);\n            if(backAction){\n                backAction.click();\n                window.history.pushState(null, null, window.top.location.pathname + window.top.location.search);\n                e.preventDefault();\n            }\n        }); */\n        \n\n        // in-game events\n        if(loadedData.eventsHistory && !Array.isArray(loadedData.eventsHistory)){\n            App.gameEventsHistory = loadedData.eventsHistory;\n        }\n        this.handleInGameEvents();\n\n        // load room customizations\n        this.applyRoomCustomizations(loadedData.roomCustomizations);\n\n        // records\n        App.records = loadedData.records;\n\n        // random encounters\n        App.runRandomEncounters();\n\n        // missions\n        _Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.init(loadedData.missions);\n\n        // saver\n        setInterval(() => {\n            App.save(true);\n        }, 5000);\n\n        // hide loading\n        setTimeout(() => {\n            _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.fadeOut(document.querySelector('.loading-text'));\n        })\n    },\n    registerInputUpdates: function(){\n        document.addEventListener('mousemove', (evt) => {\n            const rect = App.drawer.canvas.getBoundingClientRect();\n            let x = evt.clientX - rect.left, y = evt.clientY - rect.top;\n            if(x < 0) x = 0;\n            if(x > rect.width) x = rect.width;\n            if(y < 0) y = 0;\n            if(y > rect.height) y = rect.height;\n\n            App.mouse = { x: x / 2, y: y / 2 };\n        })\n        document.addEventListener('touchmove', (evt) => {\n            const rect = App.drawer.canvas.getBoundingClientRect();\n            const targetTouch = evt.targetTouches[0];\n            let x = targetTouch.clientX - rect.left, y = targetTouch.clientY - rect.top;\n            if(x < 0) x = 0;\n            if(x > rect.width) x = rect.width;\n            if(y < 0) y = 0;\n            if(y > rect.height) y = rect.height;\n    \n            App.mouse = { x: x / 2, y: y / 2 };\n        })\n    },\n    applySettings: function(){\n        const graphicsWrapper = document.querySelector('.graphics-wrapper');\n\n        // background\n        document.body.style.backgroundColor = this.settings.backgroundColor;\n        const metaThemeColor = document.querySelector('meta[name=\"theme-color\"]');\n        metaThemeColor?.setAttribute('content', this.settings.backgroundColor);\n        document.querySelector('.loading-text').style.background = this.settings.backgroundColor;\n\n        // screen size\n        graphicsWrapper.style.transform = `scale(${this.settings.screenSize})`;\n        document.querySelector('.dom-shell').style.transform = `scale(${this.settings.screenSize})`;\n        \n        // shell\n        const domShell = document.querySelector('.dom-shell');\n        domShell.style.display = App.settings.displayShell ? '' : 'none';\n        domShell.className = `dom-shell shell-shape-${this.settings.shellShape}`\n        document.querySelector('.shell-btn.main').style.display = App.settings.displayShellButtons ? '' : 'none';\n        document.querySelector('.shell-btn.right').style.display = App.settings.displayShellButtons ? '' : 'none';\n        document.querySelector('.shell-btn.left').style.display = App.settings.displayShellButtons ? '' : 'none';\n\n        // classic main menu layout\n        let classicMainMenuContainer = document.querySelector('.classic-main-menu__container');\n        classicMainMenuContainer?.remove();\n        graphicsWrapper.classList.remove('classic-main-menu');\n        if(App.settings.classicMainMenuUI){\n            graphicsWrapper.classList.add('classic-main-menu');\n            classicMainMenuContainer = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.create({\n                componentType: 'div',\n                className: 'classic-main-menu__container',\n                parent: graphicsWrapper,\n                parentInsertBefore: true,\n                children: _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.main_menu.map(def => {\n                    return {\n                        className: 'classic-main-menu__item click-sound',\n                        innerHTML: def.name,\n                        onclick: def.onclick\n                    }\n                })\n            })\n\n            if(!App.temp.defaultHomeSceneConfig){\n                App.temp.defaultHomeSceneConfig = {\n                    petY: App.scene.home.petY,\n                    shadowOffset: App.scene.home.shadowOffset\n                }\n            }\n\n            App.scene.home.petY = '90%';\n            App.scene.home.shadowOffset = -10;\n        } else {\n            if(App.temp.defaultHomeSceneConfig){\n                App.scene.home.petY = App.temp.defaultHomeSceneConfig.petY;\n                App.scene.home.shadowOffset = App.temp.defaultHomeSceneConfig.shadowOffset;\n            }\n        }\n        if(App.currentScene){\n            App.setScene(App.currentScene);\n        }\n    },\n    loadMods: function(mods){\n        if(!mods || !mods.length) return;\n        App.mods = mods;\n        App.mods.forEach(mod => {\n            if(mod.replaced_resources){\n                mod.replaced_resources.forEach(([source, target]) => {\n                    App.resourceOverrides[source] = target;\n                })\n            }\n        })\n    },\n    handleFileLoad: function(inputElement, readType = 'readAsDataURL', onLoad){\n        inputElement.onchange = () => {\n            const file = inputElement.files[0];\n            const reader = new FileReader();\n            reader.addEventListener(\n                \"load\",\n                () => { return onLoad(reader.result); },\n                false,\n            );\n            if (file) {\n                reader[readType](file);\n            }\n        }\n    },\n    registeredDrawEvents: [],\n    registerOnDrawEvent: function(fn){\n        return this.registeredDrawEvents.push(fn) - 1;\n    },\n    unregisterOnDrawEvent: function(inp){\n        let index = typeof inp === \"function\" ? this.registeredDrawEvents.indexOf(inp) : inp;\n        if(index != -1) this.registeredDrawEvents.splice(index, 1);\n    },\n    onFrameUpdate: function(time){\n        App.date = new Date();\n        App.hour = App.date.getHours();\n        App.fullTime = App.date.getTime();\n        App.time = time;\n        App.deltaTime = time - App.lastTime;\n        App.lastTime = time;\n        App.nDeltaTime = (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.clamp)(App.deltaTime || 0, 0, 200) // normal delta time\n\n        App.playTime += App.deltaTime;\n\n        if(App.deltaTime > 5000){ // simulating offline progression\n            App.pet.simulateAwayProgression(App.deltaTime);\n        }\n\n        requestAnimationFrame(App.onFrameUpdate);\n        \n        App.fpsCurrentTime = App.date.getTime();\n        App.fpsElapsedTime = App.fpsCurrentTime - App.fpsLastTime;\n\n        if(App.fpsElapsedTime > App.fpsInterval){\n            App.fpsLastTime = App.fpsCurrentTime - (App.fpsElapsedTime % App.fpsInterval);\n            App.drawer.draw();\n            if(App.onDraw) App.onDraw();\n            if(App.registeredDrawEvents.length){\n                App.registeredDrawEvents.forEach(fn => fn());\n            }\n        }\n\n        // App.drawer.pixelate();\n        // App.drawUI();\n        // document.querySelector('.background-canvas').getContext('2d').drawImage(App.drawer.canvas, 0, 0);\n    },\n    onDraw: () => {},\n    preloadImages: function(urls) {\n        const promises = urls.map((url) => {\n            return new Promise((resolve, reject) => {\n                const image = new Image();\n    \n                image.src = App.checkResourceOverride(url);\n    \n                image.onload = () => resolve(image);\n                image.onerror = () => reject(`Image failed to load: ${url}`);\n            });\n        });\n    \n        return Promise.all(promises);\n    },\n    resourceOverrides: {},\n    checkResourceOverride: function(res){\n        if(!res) return res;\n        return this.resourceOverrides[res.replace(location.href, '')] || res;\n    },\n    isTester: function(){\n        const testers = [\n            'Saman', 'samandev',\n        ]\n        return testers.includes(App.userName) || App.ENV == 'dev';\n    },\n    addEvent: function(name, payload, force){\n        if(!App.gameEventsHistory[name] || force){\n            App.gameEventsHistory[name] = true;\n            payload?.();\n            return true;\n        }\n        return false;\n    },\n    getEvent: function(name){\n        return App.gameEventsHistory[name];\n    },\n    addRecord: function(name, newValue, shouldReplaceValue){\n        if(newValue === undefined) newValue = 1;\n        const currentValue = this.getRecord(name) || 0;\n        this.records[name] = shouldReplaceValue ? newValue : currentValue + newValue;\n        return this.records[name];\n    },\n    getRecord: function(name){\n        return this.records[name];\n    },\n    handleInputCode: function(rawCode){\n        const addEvent = App.addEvent;\n\n        function showAlreadyUsed(){\n            App.displayPopup(`You can only use this code once`);\n            return false;\n        }\n        \n        let code = rawCode.toString().toUpperCase();\n\n        let codeEventId = `input_code_event_${code}`;\n\n        switch(code){\n            case \"XUZFWQ\":\n                if(!addEvent(codeEventId, () => {\n                    App.pet.stats.gold += 250;\n                })) return showAlreadyUsed();\n                App.displayPopup(`Congratulations! ${App.petDefinition.name} got $250!`, 5000);\n                break;\n            case \"PRNCSS\":\n                if(!addEvent(codeEventId, () => {\n                    App.displayPopup(`Success!`, 5000, () => {\n                        App.closeAllDisplays();\n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.redecorRoom();\n                        App.scene.home.image = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background.princess.image;\n                    });\n                })) return showAlreadyUsed();\n                break;\n            case \"HESOYAM\":\n                App.displayPopup(`All you had to do ...`, 5000, () => {\n                    App.pet.stats.gold += 2500;\n                    App.pet.stats.current_care = App.pet.stats.max_care;\n                    App.pet.stats.current_health = App.pet.stats.max_health;\n                });\n                break;\n            default:\n                const showInvalidError = () => {\n                    App.displayPopup(`Invalid code`);\n                }\n\n                const command = /(\\S+?) *: *(.+)/g.exec(rawCode);\n                if(!command){\n                    showInvalidError();\n                    break;\n                }\n                [, commandType, commandPayload] = command;\n                switch(commandType){\n                    case 'save':\n                        try {\n                            const b64 = atob(commandPayload.replace(':endsave', ''));\n                            console.log(b64)\n                            let json = JSON.parse(b64);\n                            if(!json.pet){\n                                throw 'error';\n                            }\n                            let petDef = JSON.parse(json.pet);\n                            console.log(json.user_id, App.userId, json.user_id === App.userId);\n    \n                            let def = new _PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition().loadStats(petDef);\n                            \n                            App.displayConfirm(`Are you trying to load <div style=\"font-weight: bold\">${def.getCSprite()} ${def.name}?</div>`, [\n                                {\n                                    name: 'yes',\n                                    onclick: () => {\n                                        App.displayConfirm(`What do you want to do with ${def.name}?`, [\n                                            {\n                                                name: 'as active pet',\n                                                onclick: () => {\n                                                    App.displayConfirm(`Are you sure? This will <b>remove</b> your current pet`, [\n                                                        {\n                                                            name: 'yes',\n                                                            onclick: () => {\n                                                                App.loadFromJson(json);\n                                                                App.displayPopup(`${def.name} is now your pet!`, App.INF);\n                                                                setTimeout(() => {\n                                                                    location.reload();  \n                                                                }, 3000);\n                                                            }\n                                                        },\n                                                        {\n                                                            name: 'no',\n                                                            onclick: () => {}\n                                                        },\n    \n                                                    ]);\n                                                    return true;\n                                                }\n                                            },\n                                            {\n                                                _ignore: json.user_id === App.userId,\n                                                name: 'add friend',\n                                                onclick: () => {\n                                                    App.petDefinition.addFriend(def);\n                                                    App.closeAllDisplays();\n                                                    return App.displayPopup(`${def.name} was added to the friends list!`, 3000);\n                                                }\n                                            },\n                                            {\n                                                name: 'cancel',\n                                                onclick: () => {}\n                                            }\n                                        ])\n                                    }\n                                },\n                                {\n                                    name: 'no',\n                                    class: 'back-btn',\n                                    onclick: () => {}\n                                },\n                            ])\n                        } catch(e) {    \n                            console.error(e);\n                            return App.displayPopup('Character code is corrupted');\n                        }\n                        break;\n                    \n                    case 'setchar':\n                        App.displayConfirm(`Are you sure you want to change your pet's sprite?`, [\n                            {\n                                name: 'yes',\n                                onclick: () => {\n                                    App.petDefinition.sprite = commandPayload;\n                                    window.location.reload();\n                                }\n                            },\n                            {\n                                name: 'no',\n                                onclick: () => {}\n                            }\n                        ])\n                        break;\n                    default: showInvalidError();\n                }\n        }\n    },\n    handleInGameEvents: function(){\n        if(!App.awayTime || App.awayTime == -1) {\n            App.handlers.show_onboarding();\n            return;\n        }\n\n        const addEvent = App.addEvent;\n\n        if(!App.userName){\n            App.handlers.show_set_username_dialog();\n            return;\n        }\n\n        if(addEvent(`update_11_notice`, () => {\n            App.displayList([\n                {\n                    name: 'New update is available!',\n                    type: 'text',\n                    solid: true,\n                    bold: true,\n                },\n                {\n                    name: `Check out the new offline/online dating feature, mail deliveries, new backgrounds, tons of rebalancing and bugfixes and much more!`,\n                    type: 'text',\n                },\n                {\n                    link: App.routes.BLOG,\n                    name: 'see whats new',\n                    class: 'solid primary',\n                    onclick: () => {\n                        App.sendAnalytics('go_to_blog_whats_new');\n                    }\n                },\n            ])\n        })) return;\n\n        if(addEvent('itch_rating_dialog', () => {\n            App.handlers.show_rating_dialog();\n            App.sendAnalytics('rating_auto_shown');\n        })) return;\n\n        // if(addEvent(`smallchange_01_notice`, () => {\n        //     App.displayConfirm('The <b>Stay with parents</b> option is now moved to the <i class=\"fa-solid fa-house-chimney-user\"></i> care menu', [\n        //         {\n        //             name: 'ok',\n        //             class: 'solid primary',\n        //             onclick: () => {}\n        //         },\n        //     ])\n        // })) return;\n\n        /* if(addEvent(`game_suggestions_poll_01`, () => {\n            App.displayPrompt(`<b><small>Poll</small></b>what would you like to to be added in the next update?`, [\n                {\n                    name: 'send',\n                    onclick: (data) => {\n                        if(!data) return true;\n                        App.displayPopup(`<b>Suggestion sent! thanks!</b><br> here's $200 for participating!`, 4000, () => {\n                            App.pet.x = '50%';\n                            App.pet.playCheeringAnimation();\n                        });\n                        App.pet.stats.gold += 200;\n                        App.sendAnalytics('game_suggestions_poll_01', data);\n                    },\n                },\n                {\n                    name: 'cancel',\n                    onclick: () => {\n                        App.sendAnalytics('game_suggestions_poll_01', 'action_user_cancel');\n                    },\n                }\n            ]);\n        })) return;\n\n        if(addEvent(`discord_server_01_notice`, () => {\n            App.displayConfirm(`<b>We have a Discord server now!</b>Join to see the growth chart and decide which features get in the game first!`, [\n                {\n                    name: 'next',\n                    onclick: () => {\n                        App.displayConfirm(`Do you want to join and get updated on all the latest changes and exclusive items?`, [\n                            {\n                                link: 'https://discord.gg/FdwmmWRaTd',\n                                name: 'yes',\n                                onclick: () => {\n                                    return false;\n                                },\n                            }, \n                            {\n                                name: 'no',\n                                onclick: () => {\n                                    App.displayPopup('You can join the server through <b>Settings > Join Discord</b> if you ever change your mind', 5000)\n                                }\n                            }\n                        ]);\n                    },\n                }\n            ]);\n        })) return; */\n\n        /* if(App.isSalesDay()){\n            if(addEvent(`sales_day_${dayId}_notice`, () => {\n                App.displayConfirm(`<b>discount day!</b><br>Shops are selling their products at a discounted rate! Check them out and pile up on them!`, [\n                    {\n                        name: 'ok',\n                        class: 'solid primary',\n                        onclick: () => {},\n                    }\n                ]);\n            })) return;\n        } */\n    },\n    scene: {\n        home: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/house/02.png',\n            petX: '50%', petY: '100%',\n            onLoad: function() {\n                App.poop.absHidden = false;\n                App.pet.staticShadow = false;\n\n                if((0,_Utils__WEBPACK_IMPORTED_MODULE_10__.random)(0, 10) == 0){\n                    App.pet.showCurrentWant();\n                }\n\n                if(App.isDuringChristmas()){\n                    this.christmasTree = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n                        img: 'resources/img/misc/xmas_tree_01.png',\n                        x: 60, y: 12, z: App.constants.CHRISTMAS_TREE_Z,\n                    });\n                }\n            },\n            onUnload: function() {\n                App.poop.absHidden = true;\n                App.pet.staticShadow = true;\n                this.christmasTree?.removeObject();\n            }\n        }),\n        kitchen: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/house/kitchen_03.png',\n            foodsX: '50%', foodsY: 44,\n            petX: '75%', petY: '81%',\n            noShadows: true,\n            onLoad: () => {\n                App.pet.staticShadow = false;\n            },\n            onUnload: () => {\n                App.pet.staticShadow = true;\n            }\n        }),\n        park: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/outside/park_02.png',\n        }),\n        mallWalkway: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/outside/mall_walkway.png'\n        }),\n        walkway: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/outside/walkway_01.png',\n        }),\n        office: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/house/office_01.png',\n        }),\n        wedding: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            petX: '50%', petY: '100%',\n            image: 'resources/img/background/house/wedding_01.png',\n            noShadows: true,\n        }),\n        arcade: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/house/arcade_01.png',\n        }),\n        arcade_game01: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/house/arcade_02.png',\n        }),\n        market: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/outside/market_01.png',\n        }),\n        bathroom: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/house/bathroom_01.png',\n        }),\n        hospitalExterior: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/outside/hospital_01.png',\n        }),\n        hospitalInterior: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/house/clinic_01.png',\n            onLoad: () => {\n                undefined.drSprite = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n                    image: App.preloadedResources['resources/img/misc/dr_sprite.png'],\n                    x: '80%',\n                    y: '77%',\n                    inverted: true,\n                })\n            },\n            onUnload: () => {\n                undefined.drSprite?.removeObject();\n            }\n        }),\n        parentsHome: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/house/parents_house_01.png',\n            onLoad: () => {\n                let parentDefs = App.petDefinition.getParents();\n                // this.parents = parentDefs.map(parent => {\n                //     let p = new Pet(parent);\n                //         p.y = 65;\n                //     return p;\n                // });\n\n                undefined.parent = new _Pet__WEBPACK_IMPORTED_MODULE_6__.Pet((0,_Utils__WEBPACK_IMPORTED_MODULE_10__.randomFromArray)(parentDefs), {\n                    y: 65,\n                    z: 4\n                });\n            },\n            onUnload: () => {\n                // this.parents.forEach(parent => parent.removeObject());\n                undefined.parent?.removeObject();\n            }\n        }),\n        seaVacation: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/outside/vacation_sea_l_01.png',\n            onLoad: () => {\n                undefined.seaCreatureObject = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n                    img: 'resources/img/background/outside/vacation_sea_l_02.png',\n                    x: 0, y: 15, z: 7, bobFloat: 0,\n                    onDraw: (me) => {\n                        _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d.animations.bob(me, 0.001, 0.04);\n                    }\n                })\n        \n                undefined.boatObject = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n                    img: 'resources/img/background/outside/vacation_sea_l_03.png',\n                    x: 0, y: 0, z: 6, bobFloat: 1\n                })\n        \n                undefined.overlay = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n                    img: 'resources/img/misc/picture_overlay_01.png',\n                    x: 0, y: 0, z: 1000\n                })\n            },\n            onUnload: () => {\n                undefined.seaCreatureObject.removeObject();\n                undefined.boatObject.removeObject();\n                undefined.overlay.removeObject();\n            }\n        }),\n        graveyard: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/outside/graveyard_01.png',\n            noShadows: true,\n        }),\n        battle: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/house/battle_01.png',\n            noShadows: true,\n        }),\n        stand: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/outside/stand_01.png',\n        }),\n        online_hub: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            noShadows: true,\n            image: 'resources/img/background/house/online_hub_01.png',\n            onLoad: () => {\n                undefined.lightRays = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n                    img: 'resources/img/misc/light_rays_02.png',\n                    opacity: 0.6, x: '50%', y: '50%', composite: 'overlay',\n                    onDraw: (me) => {\n                        me.rotation -= 0.005 * App.deltaTime;\n                    }\n                })\n                undefined.platform = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n                    img: 'resources/img/misc/online_hub_01_front.png',\n                    x: 0, y: 0,\n                })\n            },\n            onUnload: () => {\n                undefined.platform.removeObject();\n                undefined.lightRays.removeObject();\n            }\n        }),\n        garden: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/outside/garden_01.png',\n            petY: '95%',\n            shadowOffset: -5,\n            onLoad: () => {\n                App.pet.staticShadow = false;\n            },\n            onUnload: () => {\n                App.pet.staticShadow = true;\n            }\n        }),\n        beach: new _Scene__WEBPACK_IMPORTED_MODULE_8__.Scene({\n            image: 'resources/img/background/house/beach_01.png',\n        }),\n    },\n    setScene(scene){\n        App.currentScene?.onUnload?.(scene);\n\n        App.currentScene = scene;\n        App.pet.x = scene.petX || '50%';\n        App.pet.y = scene.petY || '100%';\n        if(scene.foodsX) App.foods.x = scene.foodsX;\n        if(scene.foodsY) App.foods.y = scene.foodsY;\n        App.background.setImg(scene.image);\n\n        if(scene.onLoad){\n            scene.onLoad();\n        }\n\n        this.applySky();\n    },\n    applySky() {\n        const { AFTERNOON_TIME, EVENING_TIME, NIGHT_TIME } = App.constants;\n        const date = new Date();\n        const h = new Date().getHours();\n        // const h = 20;\n\n        const isOutside = App.background.imageSrc?.indexOf('outside/') != -1;\n\n        // weather\n        App.skyWeather.z = isOutside ? 999.1 : -998;\n        let weatherEffectChance = (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.random)(3, 10, date.getDate())\n        // if(App.isDuringChristmas()) weatherEffectChance += 500;\n        // if(App.isChristmasDay()) weatherEffectChance += 100;\n        // App.setWeather('snow');\n        const seed = h + date.getDate() + App.userId;\n        _Utils__WEBPACK_IMPORTED_MODULE_10__.pRandom.save();\n        _Utils__WEBPACK_IMPORTED_MODULE_10__.pRandom.seed = seed;\n        App.skyWeather.hidden = !_Utils__WEBPACK_IMPORTED_MODULE_10__.pRandom.getPercent(weatherEffectChance);\n        _Utils__WEBPACK_IMPORTED_MODULE_10__.pRandom.load();\n        \n        // sky\n        let sky;\n        if(h >= AFTERNOON_TIME[0] && h < AFTERNOON_TIME[1] && App.skyWeather.hidden) sky = 'afternoon';\n        else if(h >= EVENING_TIME[0] && h < EVENING_TIME[1]) sky = 'evening';\n        else if(h >= NIGHT_TIME[0] || h < NIGHT_TIME[1]) sky = 'night';\n        else sky = 'morning';\n        App.sky.setImage(App.preloadedResources[`resources/img/background/sky/${sky}.png`]);\n        App.skyOverlay.setImage(App.preloadedResources[`resources/img/background/sky/${sky}_overlay.png`]);\n        setTimeout(() => App.skyOverlay.hidden = !isOutside)\n        if(sky == 'afternoon' || sky == 'morning') App.skyOverlay.hidden = true;\n    },\n    setWeather(type){\n        switch(type){\n            case 'rain':\n                App.skyWeather.image = App.preloadedResources[\"resources/img/background/sky/rain_01.png\"];\n                App.skyWeather.composite = \"xor\";\n                break;\n            case 'snow':\n                App.skyWeather.image = App.preloadedResources[\"resources/img/background/sky/snow_01.png\"];\n                App.skyWeather.composite = \"normal\";\n                break;\n        }\n    },\n    applyRoomCustomizations(data){\n        if(!data) return;\n\n        if(data.home.image) App.scene.home.image = data.home.image;\n\n        App.setScene(App.currentScene);\n    },\n    getRandomPetDef: function(age, seed){\n        _Utils__WEBPACK_IMPORTED_MODULE_10__.pRandom.save();\n        let rndArrayFn = _Utils__WEBPACK_IMPORTED_MODULE_10__.randomFromArray;\n\n        if(seed !== undefined) {\n            _Utils__WEBPACK_IMPORTED_MODULE_10__.pRandom.seed = seed;\n            rndArrayFn = _Utils__WEBPACK_IMPORTED_MODULE_10__.pRandomFromArray;\n        }\n\n        if(age === undefined) age = 2;\n\n        let sprite;\n        switch(age){\n            case 0:\n                sprite = rndArrayFn(PET_BABY_CHARACTERS);\n                break;\n            case 1:\n                sprite = rndArrayFn(PET_TEEN_CHARACTERS);\n                break;\n            default:\n                sprite = rndArrayFn(PET_ADULT_CHARACTERS);\n                break;\n        }\n\n        let pet = new _PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition({\n            sprite,\n            name: (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.getRandomName)(seed ? seed : false),\n        });\n        pet.setStats({\n            current_hunger: 100,\n            current_sleep: 100,\n            current_fun: 100\n        });\n        _Utils__WEBPACK_IMPORTED_MODULE_10__.pRandom.load();\n        return pet;\n    },\n    getPetDefFromParents: function(parentA, parentB){\n        // parents are petDefinition\n        // parentA is the main parent\n        \n        parentA.stats.player_friendship = 100;\n        parentA.stats.is_player_family = true;\n        parentB.stats.player_friendship = 80;\n        parentB.stats.is_player_family = true;\n\n        // new pet\n        newPetDefinition = new _PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition({\n            name: (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.getRandomName)(),\n            sprite: (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.randomFromArray)(PET_BABY_CHARACTERS),\n        }).setStats({is_egg: true});\n\n        newPetDefinition.friends = [\n            parentA,\n            parentB\n        ];\n        newPetDefinition.family = [\n            ...parentA.family,\n            [parentA, parentB].map(parent => App.minimalizePetDef(parent))\n        ]\n\n        newPetDefinition.inventory = parentA.inventory;\n        newPetDefinition.stats.gold = parentA.stats.gold + (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.random)(50, 150);\n        newPetDefinition.stats.current_health = 100;\n\n        return newPetDefinition;\n    },\n    minimalizePetDef: function(petDef){\n        return {\n            sprite: petDef.sprite,\n            name: petDef.name,\n            birthday: petDef.birthday,\n            accessories: petDef.accessories || [],\n            lastBirthday: petDef.lastBirthday,\n        }\n    },\n    createActivePet: function(petDef, props = {}){\n        if(petDef.sprite){\n            App.addEvent(`${App.constants.CHAR_UNLOCK_PREFIX}_${_PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition.getCharCode(petDef.sprite)}`)\n        }\n        return new _Pet__WEBPACK_IMPORTED_MODULE_6__.Pet(petDef, {\n            z: App.constants.ACTIVE_PET_Z, \n            scale: 1, \n            castShadow: true,\n            ...props\n        });\n    },\n    runRandomEncounters: function(){\n        if(\n            App.pet.stats.is_egg ||\n            App.pet.stats.is_at_parents ||\n            App.pet.stats.is_at_vacation ||\n            App.pet.stats.is_dead\n        ) return;\n\n        // newspaper delivery\n        const newspaperDeliveryMs = App.getRecord('newspaper_delivery_ms') || 0;\n        const shouldDeliver = _libs_moment__WEBPACK_IMPORTED_MODULE_3___default()().startOf('day').diff(_libs_moment__WEBPACK_IMPORTED_MODULE_3___default()(newspaperDeliveryMs), 'days') > 0;\n        if(shouldDeliver && !App.pet.stats.is_sleeping){\n            setTimeout(() => {\n                const checkForDecentDeliveryTime = () => {\n                    if(App.pet.isDuringScriptedState() || App.haveAnyDisplays()) \n                        return;\n\n                    App.unregisterOnDrawEvent(checkForDecentDeliveryTime);\n                    _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.getMail();\n                    const nextMs = Date.now();\n                    App.addRecord('newspaper_delivery_ms', nextMs, true);\n                }\n                App.registerOnDrawEvent(checkForDecentDeliveryTime);\n            }, (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.random)(1000, 2000))\n        }\n\n        // entity encounter\n        if(_Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.encounter()) return;\n    },\n    handlers: {\n        show_rating_dialog: function(){\n            return App.displayConfirm(`If you're enjoying the game, please consider <b>rating it</b> on Itch. Your feedback makes a huge difference and helps us a lot!`,\n                [\n                    {\n                        link: App.routes.ITCH_REVIEW,\n                        name: `rate!`,\n                        onclick: () => {\n                            App.sendAnalytics('rate_accept');\n                        }\n                    },\n                    {\n                        name: `cancel`,\n                        class: 'back-btn',\n                        onclick: () => {\n                            App.sendAnalytics('rate_decline');\n                        }\n                    }\n                ]\n            )\n        },\n        show_onboarding: function(){\n            const screenWrapper = document.querySelector('.screen-wrapper');\n            const interval = setInterval(() => {\n                if(!App.pet.stats.is_egg){\n                    _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.show(document.querySelector('.tap-reminder'));\n                    const tapReminderRemoveHandler = () => {\n                        _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.hide(document.querySelector('.tap-reminder'));\n                        screenWrapper.removeEventListener('click', tapReminderRemoveHandler);\n                    }\n                    screenWrapper.addEventListener('click', tapReminderRemoveHandler);\n                    clearInterval(interval);\n                }\n            }, 1000);\n        },\n        show_set_pet_name_dialog: function(){\n            App.displayPrompt(`Name your new egg:`, [\n                {\n                    name: 'set',\n                    onclick: (value) => {\n                        if(!value) return false;\n\n                        App.pet.petDefinition.name = value;\n                        App.save();\n                        App.displayPopup(`Name set to \"${App.pet.petDefinition.name}\"`)\n                    }\n                },\n            ], App.pet.petDefinition.name || '');\n        },\n        show_set_username_dialog: function(){\n            const validate = (username) => {\n                if(!username) return false;\n                const regex = /^[a-zA-Z0-9]+$/;\n                return username.match(regex) !== null;\n            }\n\n            App.displayPrompt(`Set your username`, [\n                {\n                    name: 'set',\n                    onclick: (username) => {\n                        username = (username || '').toString().toLowerCase();\n                        if(!validate(username)) return App.displayPopup('Username is not valid. Please use A-Z letters and numbers.');\n                        if(username.length < 5) return App.displayPopup('Your username cannot have less than 5 characters.');\n                        if(username.length > 18) return App.displayPopup('Your username cannot have more than 18 characters.');\n                        App.userName = username;\n                        App.save();\n                        App.sendAnalytics('new_user', username);\n                    }\n                }\n            ])\n        },\n        show_newspaper: function(headline, text){\n            if(!headline && !text){\n                [headline, text] = (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.randomFromArray)(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.mail.affirmations);\n            }\n\n            const salesDaySection = !App.isSalesDay() ? '' : `\n                <div>\n                    <b style=\"color: orangered;\">Discount Day!</b>\n                    <br>\n                    Local shops are slashing prices for today only. Don't miss out on huge savings! Check them out and save big!\n                    <br><br><br>\n                </div>\n            `;\n\n            const christmasSection = !App.isDuringChristmas() ? '' : `\n                <div>\n                    <b style=\"color: darkgreen;\">Happy Xmas!</b>\n                    <br>\n                    DayMail sends you warm holiday wishes and a joyous New Year!\n                    <br><br>\n                    <small>\n                        During xmas, you'll receive 2x rewards from opening mission chests, so don't forget to check them out!\n                    </small>\n                    <br><br><br>\n                </div>\n            `;\n\n            const container = App.displayEmpty('bg-white flex flex-dir-col');\n                container.style = `background: repeating-linear-gradient(0deg, white 0px, white 11px, rgb(201, 201, 201) 10px, white 12px) local; backdrop-filter: blur(100px)`\n            container.innerHTML = `\n            <img class=\"width-full\" src=\"resources/img/misc/newspaper_header_01.png\"></img>\n            <div style=\"text-align: left;\" class=\"inner-padding\">\n                ${christmasSection}\n                ${salesDaySection}\n                <b>${headline}</b>\n                <hr style=\"background: #0000003d; display: none\">\n                <br><br>\n                <span>${text}</span>\n                <br>\n                </div>\n            <button style=\"margin: 10px; margin-top: 10px; flex: 1\" class=\"generic-btn stylized back-btn news-close\">Ok</button>\n            <i style=\"position: absolute;top: 0;right: 0;padding: 10px;border-radius: 100%;width: 10px;height: 10px;display: inline-flex;align-items: center;justify-content: center;color: #000000;cursor: pointer;\" class=\"fa-solid fa-times news-close\"></i>\n            `;\n\n            [...container.querySelectorAll('.news-close')].forEach(btn => btn.onclick = container.close);\n        },\n        open_main_menu: function(){\n            const runControlOverwrite = () => {\n                if(!App.gameplayControlsOverwrite) return;\n                App.playSound(`resources/sounds/ui_click_01.ogg`, true);\n                App.gameplayControlsOverwrite();\n                App.vibrate();\n            }\n            if(App.disableGameplayControls || App.settings.classicMainMenuUI) {\n                runControlOverwrite();\n                return;\n            }\n            _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.lastClickedButton = null;\n            App.playSound(`resources/sounds/ui_click_01.ogg`, true);\n            App.vibrate();\n            App.displayGrid([\n                ..._Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.main_menu,\n                {\n                    name: '<i class=\"fa-solid fa-arrow-left back-sound\"></i>',\n                    class: 'back-sound',\n                    onclick: () => { }\n                }\n            ])\n        },\n        open_care_menu: function(){\n            const getUnclaimedRewardsBadge = () => {\n                return _Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.hasUnclaimedRewards() \n                    ? App.getBadge('!')\n                    : '';\n            }\n            App.displayList([\n                {\n                    _mount: (me) => {\n                        me.innerHTML = `Missions ${getUnclaimedRewardsBadge()}`\n                    },\n                    name: '',\n                    onclick: () => {\n                        _Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.openMenu();\n                        return true;\n                    }\n                },\n                {\n                    name: `sleep ${App.isSleepHour() ? App.getBadge('<div style=\"margin-left: auto; padding: 2px\"> <i class=\"fa-solid fa-moon\"></i> <small>bedtime!</small> </div>', 'night') : ''}`,\n                    onclick: () => {\n                        App.handlers.sleep();\n                    }\n                },\n                {\n                    name: `pet`,\n                    onclick: () => {\n                        App.displayPopup(`Tap the screen to pet <b>${App.petDefinition.name}</b><br><br>Don't tap for a few seconds to stop petting`, 2800, () => {\n                            _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.pet();\n                        });\n                    }\n                },\n                {\n                    _ignore: !App.petDefinition.getParents(),\n                    name: `stay with parents`,\n                    onclick: () => {\n                        if((App.hour < App.constants.PARENT_DAYCARE_START || App.hour >= App.constants.PARENT_DAYCARE_END)){\n                            return App.displayPopup(`You can only leave ${App.petDefinition.name} at their parents house between <b>${App.formatTo12Hours(App.constants.PARENT_DAYCARE_START)}</b> and <b>${App.formatTo12Hours(App.constants.PARENT_DAYCARE_END)}</b>`, 4000)\n                        }\n\n                        App.displayConfirm(`${App.petDefinition.name} will be with their parents, who will look after them from <b>${App.formatTo12Hours(App.constants.PARENT_DAYCARE_START)}</b> to <b>${App.formatTo12Hours(App.constants.PARENT_DAYCARE_END)}</b>, is that ok?`, [\n                            {\n                                name: 'yes',\n                                onclick: () => {\n                                    App.closeAllDisplays();\n                                    _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.stayAtParents();\n                                }\n                            },\n                            {\n                                name: 'no',\n                                class: 'back-btn',\n                                onclick: () => { }\n                            }\n                        ])\n                        \n                        return true;\n                    }\n                },\n                {\n                    _ignore: true,\n                    name: `backyard ${App.getBadge()}`,\n                    onclick: () => {\n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.goToGarden();\n                    }\n                },\n                {\n                    _disable: !App.pet.stats.current_want.type,\n                    name: `current want`,\n                    onclick: () => {\n                        App.closeAllDisplays();\n                        App.pet.showCurrentWant();\n                    }\n                },\n            ])\n        },\n        open_stuff_menu: function(){\n            App.displayList([\n                {\n                    name: `items`,\n                    onclick: () => {\n                        App.handlers.open_item_list();\n                        return true;\n                    }\n                },\n                {\n                    name: `accessories`,\n                    onclick: () => {\n                        if(App.petDefinition.lifeStage != 2){\n                            return App.displayPopup(`${App.petDefinition.name} is not old enough to wear accessories`);\n                        }\n                        App.handlers.open_accessory_list();\n                        return true;\n                    }\n                },\n            ])\n        },\n        open_bathroom_menu: function(){\n            App.displayList([\n                {\n                    name: 'bathe',\n                    onclick: () => { \n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.bathe();\n                    }\n                },\n                {\n                    name: 'use toilet',\n                    onclick: () => { \n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.poop();\n                    }\n                },\n                {\n                    name: 'clean',\n                    onclick: () => {\n                        App.handlers.clean();\n                    }\n                }\n            ])\n        },\n        open_credits: function(){\n            return App.displayList([\n                {\n                    type: 'text',\n                    name: `<small>developed by</small>\n                    <br>\n                    SamanDev\n                    <small>\n                        <a href=\"https://discord.gg/FdwmmWRaTd\" target=\"_blank\">discord</a>\n                        <a href=\"https://samandev.itch.io\" target=\"_blank\">itch</a>\n                    </small>\n                    `\n                },\n                {\n                    type: 'text',\n                    name: `<small>art by</small>\n                        <br>\n                        <div class=\"credit-author surface-stylized\">\n                            <a href=\"https://samandev.itch.io\" target=\"_blank\">\n                                SamanDev\n                            </a>\n                        </div>\n                        <div class=\"credit-author surface-stylized\">\n                            <a href=\"https://sa311.tumblr.com/post/163140958242/about-me\" target=\"_blank\">\n                                Curlour\n                            </a>\n                            <small>(eternitchi)</small>\n                        </div>\n                        <div class=\"credit-author surface-stylized\">\n                            <a href=\"https://vairasmythe.carrd.co/\" target=\"_blank\">\n                                Vaira Smythe\n                            </a>\n                        </div>\n                    `\n                },\n            ])\n        },\n        open_settings: function(){\n            const settings = App.displayList([\n                {\n                    _ignore: !App.isTester(),\n                    name: `devtools ${App.getBadge('debug', 'neutral')}`,\n                    onclick: () => {\n                        return App.displayList([\n                            {\n                                name: 'eventshistory',\n                                onclick: () => {\n                                    const ui = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.genericListContainer();\n                                    const content = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.empty()\n                                    ui.appendChild(content);\n                                    content.innerHTML = JSON.stringify(App.gameEventsHistory, null, 2);\n                                    App.displayPopup('array? ' + Array.isArray(App.gameEventsHistory))\n                                    return true;\n                                }\n                            },\n                            {\n                                name: 'localStorage size',\n                                onclick: () => {\n                                    let total = [];\n                                    var _lsTotal = 0,\n                                        _xLen, _x;\n                                    for (_x in localStorage) {\n                                        if (!localStorage.hasOwnProperty(_x)) {\n                                            continue;\n                                        }\n                                        _xLen = ((localStorage[_x].length + _x.length) * 2);\n                                        _lsTotal += _xLen;\n                                        const text = (_x.substr(0, 50) + \" = \" + (_xLen / 1024).toFixed(2) + \" KB\")\n                                        total.push(text);\n                                    };\n                                    const totalText = (_lsTotal / 1024).toFixed(2) + \" KB\";\n\n                                    const ui = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.genericListContainer();\n                                    const content = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.empty()\n                                    ui.appendChild(content);\n                                    content.innerHTML = [...total, `total = ${totalText}`].join('<br>');\n\n                                    return true;\n                                }\n                            },\n                        ])\n                    }\n                },\n                {\n                    _ignore: !App.deferredInstallPrompt,\n                    name: 'install app',\n                    onclick: () => {\n                        // App.pet.stats.gold += 250;\n                        App.installAsPWA();\n                        return true;\n                    },\n                },\n                {\n                    _ignore:  true || 0, // unused\n                    _mount: (e) => e.innerHTML = `notifications: <i>${App.settings.notifications ? 'on' : 'off'}</i>`,\n                    name: `notifications`,\n                    onclick: (btn) => {\n                        if(App.settings.notifications) {\n                            App.settings.notifications = false;\n                            btn._mount();\n                        } else {\n                            Notification.requestPermission().then((result) => {\n                                if (result === \"granted\") {\n                                  App.settings.notifications = true;\n                                }\n                                btn._mount();\n                            });\n                        }\n\n                        return true;\n                    },\n                },\n                {\n                    // _ignore: !App.isTester(),\n                    _ignore: App.isOnItch,\n                    name: `mods`,\n                    onclick: () => {\n                        const display = App.displayList([\n                            {\n                                name: 'Note: <br>install / uninstalling mods will refresh the game',\n                                type: 'text'\n                            },\n                            {\n                                name: '<label class=\"custom-file-upload\"><input id=\"mod-file\" type=\"file\"></input>+ Add mod</label>',\n                                onclick: (btn) => {\n                                    return true;\n                                }\n                            },\n                            {\n                                name: 'active mods',\n                                onclick: () => {\n                                    // App.displayPopup(JSON.stringify(App.mods, null, 2), 5000);\n                                    if(!App.mods.length) return App.displayPopup('No mods installed');\n\n                                    const activeModsList = App.displayList(\n                                        App.mods.map(\n                                            (modInfo) => {\n                                                return {\n                                                    name: modInfo.name,\n                                                    onclick: () => {\n                                                        const modInfoScreen = App.displayList([\n                                                            {\n                                                                name: `${modInfo.name} <br> <small style=\"font-size: small\">by ${modInfo.author}</small>`,\n                                                                type: 'text', solid: true, bold: true,\n                                                            },\n                                                            {\n                                                                _ignore: !modInfo.description,\n                                                                name: modInfo.description,\n                                                                type: 'text',\n                                                            },\n                                                            {\n                                                                name: 'uninstall',\n                                                                onclick: () => {\n                                                                    App.displayConfirm(`Are you sure you want to uninstall <b>${modInfo.name}</b>?`, [\n                                                                        {\n                                                                            name: 'yes',\n                                                                            onclick: () => {\n                                                                                App.mods.splice(App.mods.indexOf(modInfo), 1);\n                                                                                App.sendAnalytics('mod_uninstall', modInfo.name);\n                                                                                App.displayPopup(`<b>${modInfo.name}</b> uninstalled successfully, refreshing...`, null, () => location.reload());\n                                                                            }\n                                                                        },\n                                                                        {\n                                                                            name: 'no',\n                                                                            class: 'back-btn',\n                                                                            onclick: () => {}\n                                                                        }\n                                                                    ])\n                                                                    return true;\n                                                                }\n                                                            }\n                                                        ])\n                                                        return true;\n                                                    }\n                                                }\n                                            }\n                                        )\n                                    )\n\n                                    return true;\n                                }\n                            },\n                            \n                        ])\n\n                        App.handleFileLoad(display.querySelector('#mod-file'), 'readAsText', (data) => {\n                            try {\n                                const json = JSON.parse(data);\n\n                                if(!json.name){\n                                    throw \"Invalid\";\n                                }\n\n                                const duplicateIndex = App.mods.findIndex(({ id }) => id == json.id);\n                                if(duplicateIndex != -1){\n                                    App.mods[duplicateIndex] = json;\n                                    App.sendAnalytics('mod_update', json.name);\n                                    App.displayPopup(`<b>${json.name}</b> updated! <br><br> refreshing...`, 2000, () => {\n                                        location.reload();\n                                    })\n                                } else {\n                                    App.mods.push(json);\n                                    App.sendAnalytics('mod_install', json.name);\n                                    App.displayPopup(`<b>${json.name}</b> installed! <br><br> refreshing...`, 2000, () => {\n                                        location.reload();\n                                    })\n                                }\n\n                            } catch(e) {\n                                console.log(e);\n                                App.displayPopup(`Something went wrong, Invalid package: ${e}`);\n                            }\n                        })\n                        \n\n                        return true;\n                    },\n                },\n                { type: 'separator' },\n                {\n                    name: `gameplay settings`,\n                    onclick: () => {\n                        return App.displayList([\n                            {\n                                _mount: (e) => e.innerHTML = `Auto aging: <i>${App.settings.automaticAging ? 'On' : 'Off'}</i>`,\n                                onclick: (e) => {\n                                    if(!App.settings.automaticAging){\n                                        App.displayConfirm(`Are you sure? This will make your pets automatically age up after a certain amount of time`, [\n                                            {\n                                                name: 'yes',\n                                                onclick: () => {\n                                                    App.settings.automaticAging = true;\n                                                    App.displayPopup(`Automatic aging turned on`);\n                                                    e._mount();\n                                                    App.save();\n                                                }\n                                            },\n                                            {\n                                                name: 'no',\n                                                class: 'back-btn',\n                                                onclick: () => {}\n                                            }\n                                        ])\n                                    } else {\n                                        App.settings.automaticAging = false;\n                                        App.displayPopup(`Automatic aging turned off`);\n                                        App.save();\n                                    }\n                                    e._mount();\n                                    return true;\n                                }\n                            },\n                            {\n                                name: `Sleeping Hours`,\n                                onclick: (e) => {\n                                    const list = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.genericListContainer();\n                                    const content = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.empty();\n\n                                    content.innerHTML = `\n                                        <div class=\"inner-padding b-radius-10 surface-stylized\">\n                                            <div class=\"inline-flex-between width-full items-center\">\n                                                <button id=\"subtract\" class=\"generic-btn stylized primary solid\"> <i class=\"fa-solid fa-minus\"></i> </button>\n                                                <div style=\"font-size: medium\">\n                                                    <b id=\"amount\">${App.settings.sleepingHoursOffset}</b>\n                                                </div>\n                                                <button id=\"add\" class=\"generic-btn stylized\"> <i class=\"fa-solid fa-plus\"></i> </button>\n                                            </div>\n                                        </div>\n\n                                        <div id=\"info\" class=\"inner-padding b-radius-10 solid-surface-stylized\">\n                                        </div>\n                                    `\n\n                                    const amount = content.querySelector('#amount');\n                                    const info = content.querySelector('#info');\n                                    const updateUI = () => {\n                                        amount.textContent = App.settings.sleepingHoursOffset;\n                                        const startTime = App.constants.SLEEP_START + App.settings.sleepingHoursOffset,\n                                            endTime = App.constants.SLEEP_END + App.settings.sleepingHoursOffset;\n                                        const rangeStyle = `display: flex;justify-content: space-between;`\n                                        info.innerHTML = `\n                                            sleeping\n                                            <br>\n                                            <b> \n                                                <div style=\"${rangeStyle}\">\n                                                    from <div>${App.clampWithin24HourFormat(startTime)}:00</div>\n                                                </div>\n                                                <div style=\"${rangeStyle}\">\n                                                    to <div>${App.clampWithin24HourFormat(endTime)}:00</div>\n                                                </div>\n                                            </b>\n                                        `\n                                    }\n                                    content.querySelector('#add').onclick = () => {\n                                        App.settings.sleepingHoursOffset++;\n                                        updateUI();\n                                    }\n                                    content.querySelector('#subtract').onclick = () => {\n                                        App.settings.sleepingHoursOffset--;\n                                        updateUI();\n                                    }\n                                    updateUI();\n\n                                    list.appendChild(content);\n                                    return true;\n                                }\n                            },\n\n                        ])\n                    }\n                },\n                {\n                    name: `system settings`,\n                    onclick: () => {\n                        App.displayList([\n                            {\n                                name: `sound fx: <i>${App.settings.playSound ? 'on' : 'off'}</i>`,\n                                onclick: (item) => {\n                                    App.settings.playSound = !App.settings.playSound;\n                                    item.innerHTML = `sound fx: <i>${App.settings.playSound ? 'on' : 'off'}</i>`;  \n                                    return true;\n                                }\n                            },\n                            {\n                                name: `vibration: <i>${App.settings.vibrate ? 'on' : 'off'}</i>`,\n                                onclick: (item) => {\n                                    App.settings.vibrate = !App.settings.vibrate;\n                                    item.innerHTML = `vibration: <i>${App.settings.vibrate ? 'on' : 'off'}</i>`;  \n                                    return true;\n                                }\n                            },\n                            {\n                                _mount: (e) => e.innerHTML = `classic menu: <i>${App.settings.classicMainMenuUI ? 'on' : 'off'}</i>`,\n                                onclick: (item) => {\n                                    App.settings.classicMainMenuUI = !App.settings.classicMainMenuUI;\n                                    item._mount();\n                                    App.applySettings();\n                                    return true;\n                                }\n                            },\n                            {\n                                name: `background color`,\n                                onclick: () => {\n                                    App.displayList([\n                                        {\n                                            name: `<input type=\"color\" value=\"${App.settings.backgroundColor}\" id=\"background-color-picker\"></input>`,\n                                            onclick: () => { return true; },\n                                        },\n                                        {\n                                            name: 'apply',\n                                            onclick: () => {\n                                                let colorPicker = document.querySelector('#background-color-picker');\n                                                App.settings.backgroundColor = colorPicker.value;\n                                                App.applySettings();\n                                                return true;\n                                            }\n                                        },\n                                        {\n                                            name: 'reset',\n                                            onclick: () => {\n                                                let colorPicker = document.querySelector('#background-color-picker');\n                                                colorPicker.value = '#FFDEAD';\n                                                App.settings.backgroundColor = colorPicker.value;\n                                                App.applySettings();\n                                                return true;\n                                            }\n                                        }\n                                    ])\n                                    return true;\n                                }\n                            },\n                            {\n                                name: '+ screen size',\n                                onclick: () => {\n                                    App.settings.screenSize += 0.1;\n                                    App.applySettings();\n                                    return true;\n                                }\n                            },\n                            {\n                                name: '- screen size',\n                                onclick: () => {\n                                    App.settings.screenSize -= 0.1;\n                                    App.applySettings();\n                                    return true;\n                                }\n                            },\n                            {\n                                name: 'reset screen size',\n                                onclick: () => {\n                                    App.settings.screenSize = 1;\n                                    App.applySettings();\n                                    return true;\n                                }\n                            },\n                        ]);\n                        return true;\n                    }\n                },\n                {\n                    name: `change shell`,\n                    onclick: () => {\n                        // App.handlers.open_shell_background_list();\n                        // return true;\n\n                        App.displayList([\n                            {\n                                name: `display shell: <i>${App.settings.displayShell ? 'yes' : 'no'}</i>`,\n                                onclick: (item) => {\n                                    App.settings.displayShell = !App.settings.displayShell;\n                                    item.innerHTML = `display shell: <i>${App.settings.displayShell ? 'yes' : 'no'}</i>`;  \n                                    App.applySettings();\n                                    return true;\n                                }\n                            },\n                            {\n                                name: `shell button: <i>${App.settings.displayShellButtons ? 'yes' : 'no'}</i>`,\n                                onclick: (item) => {\n                                    App.settings.displayShellButtons = !App.settings.displayShellButtons;\n                                    item.innerHTML = `shell button: <i>${App.settings.displayShellButtons ? 'yes' : 'no'}</i>`;  \n                                    App.applySettings();\n                                    return true;\n                                }\n                            },\n                            {\n                                _mount: (e) => e.innerHTML = `shell shape: <i>${App.settings.shellShape}</i>`,\n                                onclick: (item) => {\n                                    App.settings.shellShape++;\n                                    if(App.settings.shellShape > App.constants.MAX_SHELL_SHAPES){\n                                        App.settings.shellShape = 1;\n                                    }\n                                    App.applySettings();\n                                    item._mount()\n                                    return true;\n                                }\n                            },\n                            {\n                                _mount: (e) => {\n                                    const hasNew = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.shell_background.some((entry) => {\n                                        const isUnlocked = entry.unlockKey && App.getRecord(entry.unlockKey);\n                                        return entry.isNew && isUnlocked;\n                                    });\n                                    e.innerHTML = `change shell ${hasNew ? App.getBadge() : ''}`\n                                },\n                                onclick: () => {\n                                    App.handlers.open_shell_background_list();\n                                    return true;\n                                }\n                            },\n                            {\n                                name: 'custom shell',\n                                onclick: () => {\n                                    let display = App.displayList([\n                                        {\n                                            name: `<label class=\"custom-file-upload\"><input id=\"shell-image-file\" type=\"file\"></input>Browse</label>`,\n                                            onclick: (btn) => {\n                                                // btn.querySelector('label').click();\n                                                return true;\n                                            }\n                                        },\n                                        {\n                                            name: 'enter url',\n                                            onclick: () => {\n                                                App.displayPrompt(`Enter URL:`, [\n                                                    {\n                                                        name: 'set',\n                                                        onclick: (url) => {\n                                                            let res = App.setShellBackground(url);\n                                                            if(res) App.displayPopup('Shell background set');\n                                                            return true;\n                                                        }\n                                                    },\n                                                    {name: 'cancel', class: 'back-btn', onclick: () => {}},\n                                                ]);\n                                                return true;\n                                            }\n                                        }\n                                    ]);\n\n                                    App.handleFileLoad(display.querySelector('#shell-image-file'), 'readAsDataURL', (data) => {\n                                        let res = App.setShellBackground(data);\n                                        if(res) App.displayPopup('Shell background set');\n                                        return true;\n                                    })\n\n                                    return true;\n                                }\n                            },\n                        ])\n\n                        return true;\n                    },\n                },\n                {\n                    name: 'input code',\n                    onclick: () => {\n                        App.displayPrompt(`Enter code:`, [\n                            {\n                                name: 'set',\n                                onclick: (value) => {\n                                    App.handleInputCode(value);\n                                    return false;\n                                }\n                            },\n                            {name: 'cancel', class: 'back-btn', onclick: () => {}},\n                        ]);\n                        return true;\n                    }\n                },\n                { type: 'separator' },\n                {\n                    name: 'get save code',\n                    onclick: () => {\n                        // let charCode = 'save:' + btoa(JSON.stringify(window.localStorage));\n                        let charCode = `save:${btoa(JSON.stringify(window.localStorage))}:endsave`;\n                        App.displayConfirm(`Here you'll be able to copy your unique save code and continue your playthrough on another device`, [\n                            {\n                                name: 'ok',\n                                onclick: () => {\n                                    App.displayConfirm(`After copying the code, open Tamaweb on another device and paste the code in <b>settings > input code</b>`, [\n                                        {\n                                            name: 'ok',\n                                            onclick: () => {\n                                                try {\n                                                    if(App.isOnItch) throw 'itch_clipboard';\n                                                    navigator.clipboard.writeText(charCode);\n                                                    console.log('save code copied', charCode);\n                                                    App.displayPopup('Save code copied!', 1000);\n                                                } catch(e) {\n                                                    const prompt = App.displayPrompt(`Copy your save code from the box below:<br><small><i class=\"fa-solid fa-info-circle\"></i> starts with <b>save:</b> and ends with <b>:endsave</b></small>`, [\n                                                        {\n                                                            name: 'Ok, I copied',\n                                                            class: 'back-btn',\n                                                            onclick: () => {}\n                                                        }\n                                                    ], charCode);\n                                                    const input = prompt.querySelector('input');\n                                                    input.focus();\n                                                    input.select();\n                                                }\n                                            }\n                                        },\n                                    ]);\n                                }\n                            },\n                        ]);\n                        return true;\n                    }\n                },\n                {\n                    name: 'reset pet data',\n                    onclick: () => {\n                        App.displayConfirm('Are you sure you want to delete your saved pet?', [\n                            {\n                                name: 'yes (delete)',\n                                onclick: () => {\n                                    App.save();\n                                    App.save = () => {};\n                                    // window.localStorage.clear();\n                                    window.localStorage.removeItem('last_time');\n                                    window.localStorage.removeItem('pet');\n                                    App.displayPopup('resetting...', App.INF);\n                                    location.reload();\n                                    return false;\n                                }\n                            },\n                            {\n                                name: 'no',\n                                class: 'back-btn',\n                                onclick: () => { }\n                            }\n                        ])\n                        return true;\n                    }\n                },\n                {\n                    name: 'factory reset',\n                    onclick: () => {\n                        App.displayConfirm('Are you sure you want to completely delete your data? this will reset your pets, achievements, online id and everything else!', [\n                            {\n                                name: 'yes',\n                                onclick: () => {\n                                    App.displayConfirm('Are you sure? There is no way to revert this.', [\n                                        {\n                                            name: 'yes (delete)',\n                                            onclick: () => {\n                                                App.save = () => {};\n                                                window.localStorage.clear();\n                                                App.displayPopup('resetting...', App.INF);\n                                                location.reload();\n                                                return false;\n                                            }\n                                        },\n                                        {\n                                            name: 'no',\n                                            class: 'back-btn',\n                                            onclick: () => { }\n                                        }\n                                    ])\n\n                                }\n                            },\n                            {\n                                name: 'no',\n                                class: 'back-btn',\n                                onclick: () => { }\n                            }\n                        ])\n                        return true;\n                    }\n                },\n                { type: 'separator' },\n                {\n                    name: 'credits',\n                    onclick: () => App.handlers.open_credits(),\n                },\n                {\n                    name: `send feedback`,\n                    onclick: () => {\n                        return App.displayPrompt(`what would you like to to be added in the next update?`, [\n                            {\n                                name: 'send',\n                                onclick: (data) => {\n                                    if(!data) return true;\n                                    App.displayPopup(`<b>Suggestion sent!</b><br> thanks for participating!`, 4000);\n                                    App.sendAnalytics('game_feedback', data, true);\n                                },\n                            },\n                            {\n                                name: 'cancel',\n                                class: 'back-btn',\n                                onclick: () => {},\n                            }\n                        ]);\n                    }\n                },\n                {\n                    name: `<b>rate us!</b> ${App.getBadge()}`,\n                    onclick: () => App.handlers.show_rating_dialog()\n                },\n                {\n                    // _ignore: true,\n                    link: App.routes.BLOG,\n                    name: `<b>see changelog</b>`,\n                    onclick: () => {\n                        App.sendAnalytics('go_to_blog');\n                        return true;\n                    },\n                },\n                {\n                    // _ignore: true,\n                    link: 'https://discord.gg/FdwmmWRaTd',\n                    name: '<b>join discord</b>',\n                    onclick: () => true,\n                },\n                { type: 'separator' },\n                {\n                    _disable: true,\n                    name: `Version ${_Version__WEBPACK_IMPORTED_MODULE_11__.VERSION || '???'}`,\n                    onclick: () => {\n                        return true;\n                    },\n                },\n            ])\n        },\n        open_stats: function(){\n            const list = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.genericListContainer();\n            const content = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.empty();\n            const careRatingIcons = new Array(App.pet.stats.max_care).fill('').map((_, i) => {\n                const style = i >= App.pet.stats.current_care ? 'opacity: 0.5; filter:grayscale()' : 'filter:hue-rotate(310deg)';\n                return `<img style=\"margin-top: 2px; ${style}\" src=\"resources/img/misc/star_01.png\"></img>`\n            }).join(' ')\n            content.innerHTML = `\n            <div class=\"inner-padding b-radius-10 m surface-stylized\">\n                <div>\n                    <b>GOLD:</b> $${App.pet.stats.gold}\n                </div>\n                <div>\n                    <b>HUNGER:</b> ${App.createProgressbar( App.pet.stats.current_hunger / App.pet.stats.max_hunger * 100 ).node.outerHTML}\n                </div>\n                <div>\n                    <b>SLEEP:</b> ${App.createProgressbar( App.pet.stats.current_sleep / App.pet.stats.max_sleep * 100 ).node.outerHTML}\n                </div>\n                <div>\n                    <b>FUN:</b> ${App.createProgressbar( App.pet.stats.current_fun / App.pet.stats.max_fun * 100 ).node.outerHTML}\n                </div>\n                <div style=\"\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                \">\n                    <b>CARE:</b> <div style=\"display: inline-flex; gap: 1px\">${careRatingIcons}</div>\n                </div>\n            </div>\n            `;\n            list.appendChild(content);\n        },\n        open_character_collection: function(){\n            App.addEvent(`${App.constants.CHAR_UNLOCK_PREFIX}_${_PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition.getCharCode(App.petDefinition.sprite)}`)\n\n            let unlockedCount = 0;\n            const allCharacters = [\n                ...PET_BABY_CHARACTERS,\n                ...PET_TEEN_CHARACTERS,\n                ...PET_ADULT_CHARACTERS,\n            ];\n            const charactersDef = allCharacters.map(char => {\n                const charCode = _PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition.getCharCode(char);\n                const isUnlocked = App.getEvent(`${App.constants.CHAR_UNLOCK_PREFIX}_${charCode}`)\n                if(isUnlocked) unlockedCount++;\n                return {\n                    componentType: 'div',\n                    className: `collection__char ${!isUnlocked ? 'locked' : ''}`,\n                    innerHTML: _PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition.generateFullCSprite(char),\n                }\n            })\n\n            const list = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.genericListContainer(null, `(${unlockedCount}/${allCharacters.length})`);\n            const content = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.empty();\n            content.classList.add('collection__container');\n            list.appendChild(content)\n            charactersDef.forEach(def => _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.create({...def, parent: content}))\n\n            App.sendAnalytics('opened_character_collection');\n        },\n        open_family_tree: function(petDefinition, usePastTense){\n            if(!petDefinition) petDefinition = App.petDefinition;\n\n            // populating family tree for the first time\n            // for backwards compatibility\n            if(!petDefinition.family.length){\n                const parents = petDefinition.getParents();\n                if(parents?.length == 2){\n                    petDefinition.family = [parents.map(parent => App.minimalizePetDef(parent))]\n                }\n            }\n\n            if(!petDefinition.family.length && !usePastTense){\n                return App.displayPopup(`${petDefinition.name} is the pioneer of the family!<br> comeback when your family has grown!`)\n            }\n\n            const list = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.genericListContainer();\n            const content = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.empty();\n\n            const oldestAncestor = petDefinition.family.length ? petDefinition.family[0][0] : petDefinition;\n\n            const infoPanelContent = \n                usePastTense\n                ?   `\n                        This family began on\n                        <br>\n                        <b>${_libs_moment__WEBPACK_IMPORTED_MODULE_3___default()(oldestAncestor.birthday).format('MMMM DD YYYY')}</b>\n                        <br>\n                        and ran for\n                        <br>\n                        <b>${petDefinition.family.length + 1} generations</b>\n                    `\n                :   `\n                        This family has been running for\n                        <br>\n                        <b>${petDefinition.family.length + 1} generations</b>\n                        <br>\n                        since\n                        <br>\n                        <b>${_libs_moment__WEBPACK_IMPORTED_MODULE_3___default()(oldestAncestor.birthday).utc().fromNow()}</b>\n                    `;\n\n            content.innerHTML = `\n                <div class=\"b-radius-10 m surface-stylized flex-center height-auto inner-padding\">\n                    ${\n                        petDefinition.family.map((partners, i) => {\n                            const [a, b] = partners;\n                            return `\n                                <div class=\"family-tree__partners-container\">\n                                    <div class=\"family-tree__gen-badge\">${i + 1}</div>\n\n                                    <div class=\"family-tree__member-container\">\n                                        ${_PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition.generateFullCSprite(b.sprite)}\n                                        <small>${b.name}</small>\n                                    </div>\n\n                                    <div class=\"family-tree__vertical-line\"></div>  \n\n                                    <div class=\"family-tree__member-container\">\n                                        ${_PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition.generateFullCSprite(a.sprite)}\n                                        <small>${a.name}</small>\n                                    </div>\n                                </div>\n                                <div class=\"family-tree__horizontal-line\"></div>\n                            `;\n                        }).join('')\n                    }\n                    <div style=\"margin-left: 76px\" class=\"family-tree__member-container\">\n                        ${petDefinition.getFullCSprite()}\n                        <small>${petDefinition.name}</small>\n                    </div>\n                </div>\n\n                <div class=\"b-radius-10 m surface-stylized height-auto inner-padding\">\n                    ${infoPanelContent}\n                </div>\n            `;\n\n            list.appendChild(content);\n            App.sendAnalytics('opened_family_tree');\n        },\n        open_food_list: function(buyMode, activeIndex, filterType){\n            let list = [];\n            let sliderInstance;\n            const salesDay = App.isSalesDay();\n            const dayId = App.getDayId(true);\n            let index = -1;\n            for(let food of Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.food)){\n                let current = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.food[food];\n\n                // lifestage check\n                if(!current.age.includes(App.petDefinition.lifeStage)) continue;\n\n                // buy mode and is free\n                if(buyMode && current.price == 0) continue;\n\n                // filter check\n                if(filterType && (current.type || 'food') != filterType) continue;\n\n                // check if current pet has this food on its inventory\n                if(current.price && !App.pet.inventory.food[food] && !buyMode){\n                    continue;\n                }\n\n                // some entries become randomly unavailable to buy for the day\n                if(++index && buyMode && !(0,_Utils__WEBPACK_IMPORTED_MODULE_10__.random)(0, 1, dayId + (index * 256))){\n                    continue;\n                }\n\n                // 50% off on sales day\n                let price = current.price;\n                if(salesDay) price = Math.round(price / 2);\n\n                list.push({\n                    name: `${App.getFoodCSprite(current.sprite)} ${food.toUpperCase()} (x${App.pet.inventory.food[food] > 0 ? App.pet.inventory.food[food] : (!current.price ? '∞' : 0)}) <b>${buyMode ? `$${price}` : ''}</b>`,\n                    onclick: (btn, list) => {\n                        // buy mode\n                        if(buyMode){\n                            if(App.pet.stats.gold < price){\n                                App.displayPopup(`Don't have enough gold!`);\n                                return true;\n                            }\n                            App.pet.stats.gold -= price;\n                            App.addNumToObject(App.pet.inventory.food, food, 1);\n                            // console.log(list.scrollTop);\n                            let nList = App.handlers.open_food_list(true, sliderInstance?.getCurrentIndex(), filterType);\n                                // nList.scrollTop = list.scrollTop;\n                            _Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.TYPES.buy_food);\n                            return false;\n                        }\n\n                        // eat mode\n                        const reopenFn = (noLongerHungry) => {\n                            if(noLongerHungry && current.type == 'food') return;\n\n                            App.handlers.open_feeding_menu();\n                            App.handlers.open_food_list(false, sliderInstance?.getCurrentIndex(), current.type);\n                        }\n\n                        App.closeAllDisplays();\n                        let ateFood = App.pet.feed(current.sprite, current.hunger_replenish, current.type, null, reopenFn);\n                        if(ateFood) {\n                            if(App.pet.inventory.food[food] > 0)\n                                App.pet.inventory.food[food] -= 1;\n\n                            App.pet.stats.current_fun += current.fun_replenish ?? 0;\n                            App.pet.stats.current_sleep += current.sleep_replenish ?? 0;\n                            if(App.pet.hasMoodlet('healthy') && food === 'medicine')\n                                App.pet.stats.current_health = App.pet.stats.current_health * 0.6;\n                            else\n                                App.pet.stats.current_health += current.health_replenish ?? 0;\n                        }\n                    }\n                })\n            }\n\n            if(!list.length){\n                App.displayPopup(`You don't have any consumables, purchase some from the market`, 2000);\n                return;\n            }\n\n            if(buyMode) list.push(list.shift());\n\n            sliderInstance = App.displaySlider(list, activeIndex, {accept: buyMode ? 'Purchase' : 'Eat'}, buyMode ? `$${App.pet.stats.gold + (salesDay ? ` <span class=\"sales-notice\">DISCOUNT DAY!</span>` : '')}` : null);\n            return sliderInstance;\n        },\n        open_feeding_menu: function(){\n            App.displayList([\n                {\n                    name: 'food',\n                    onclick: () => {\n                        App.handlers.open_food_list(null, null, 'food');\n                        return true;\n                    }\n                },\n                {\n                    name: 'snacks',\n                    onclick: () => {\n                        App.handlers.open_food_list(null, null, 'treat');\n                        return true;\n                    }\n                },\n                {\n                    name: 'meds',\n                    onclick: () => {\n                        App.handlers.open_food_list(null, null, 'med');\n                        return true;\n                    }\n                },\n                {\n                    // _ignore: !App.isTester(),\n                    name: `cook`,\n                    onclick: () => {\n                        return App.displayConfirm(`You take 3 pictures to use as ingredients for your soup! after that, tap to stir until it's mixed!`, [\n                            {\n                                name: 'start',\n                                onclick: () => _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.cookingGame(),\n                            },\n                            {\n                                name: 'cancel',\n                                class: 'back-btn',\n                                onclick: () => { },\n                            }\n                        ])\n                        \n                    }\n                }\n            ])\n        },\n        open_stats_menu: function(){\n            const hasNewlyUnlockedAchievements = App.handlers.open_achievements_list(true);\n            App.displayList([\n                {\n                    name: 'stats',\n                    onclick: () => {\n                        App.handlers.open_stats();\n                        return true;\n                    }\n                },\n                {\n                    name: 'profile',\n                    onclick: () => {\n                        App.handlers.open_profile();\n                        return true;\n                    }\n                },\n                {\n                    name: `family tree`,\n                    onclick: () => {\n                        App.handlers.open_family_tree();\n                        return true;\n                    }\n                },\n                {\n                    name: `collection`,\n                    onclick: () => {\n                        App.handlers.open_character_collection();\n                        return true;\n                    }\n                },\n                {\n                    name: `achievements ${hasNewlyUnlockedAchievements ? App.getBadge('Rewards!') : ''}`,\n                    onclick: () => {\n                        App.handlers.open_achievements_list();\n                        return true;\n                    }\n                },\n                {\n                    _disable: !App.petDefinition.deceasedPredecessors?.length,\n                    name: `past generations`,\n                    onclick: () => {\n                        const generations = \n                            App.petDefinition.deceasedPredecessors\n                                .map(def => {\n                                    const petDefinition = new _PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition(def);\n                                    return {\n                                        name: `${petDefinition.getCSprite()} ${petDefinition.name}`,\n                                        onclick: () => {\n                                            App.handlers.open_family_tree(petDefinition, true);\n                                            return true;\n                                        }\n                                    }\n                                })\n                        App.displayList([\n                            {\n                                name: 'Select the generation',\n                                type: 'text'\n                            },\n                            ...generations\n                        ])\n                        return true;\n                    }\n                },\n                {\n                    name: 'set nickname',\n                    onclick: () => {\n                        App.displayPrompt(`Enter your pet's name:`, [\n                            {\n                                name: 'set',\n                                onclick: (value) => {\n                                    if(!value) return false;\n\n                                    App.pet.petDefinition.name = value;\n                                    App.save();\n                                    App.displayPopup(`Name set to \"${App.pet.petDefinition.name}\"`)\n                                }\n                            },\n                            {name: 'cancel', class: 'back-btn', onclick: () => {}},\n                        ], App.pet.petDefinition.name);\n                        return true;\n                    }\n                },\n\n            ])\n        },\n        open_profile: function(){\n            const list = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.genericListContainer();\n            const content = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.empty();\n            content.style.height = '100%';\n            content.innerHTML = `\n                <div class=\"user-id surface-stylized text-transform-none\">\n                    uid:<span>${(App.userName ?? '') + '-' + App.userId?.toString().slice(0, 5)}</span>\n                </div>\n                <div class=\"flex-center inner-padding surface-stylized height-auto\">\n                    ${App.petDefinition.getCSprite()}\n                    <b>\n                        ${App.petDefinition.name} \n                        <br>\n                        <small>${App.petDefinition.getLifeStageLabel()} - gen ${App.petDefinition.family.length + 1}</small>\n                    </b>\n                    Born ${_libs_moment__WEBPACK_IMPORTED_MODULE_3___default()(App.petDefinition.birthday).utc().fromNow()}\n                </div>\n            `\n\n            list.appendChild(content);\n        },\n        open_achievements_list: function(checkIfHasNewUnlocks){\n            const configureAchievement = (id, name, description, condition, rewardFn) => {\n                const unlockEventName = `unlocked_${id}_achievement`;\n                const unlockEventState = App.getEvent(unlockEventName);\n\n                let badge = App.getBadge('★', 'gray');\n                if(!unlockEventState){\n                    badge = App.getBadge('★');\n                }\n\n                const btn = {\n                    name: condition\n                            ? `<small>${name}</small>${badge}`\n                            : `<small><i class=\"fa-solid fa-lock\"></i> ${name}</small>`,\n                    _disable: !condition,\n                    isNewlyUnlocked: condition && !unlockEventState,\n                    onclick: () => { \n                        if(!condition) return true;\n                        App.displayConfirm(`<b>${name}</b> <br><br> ${description}`, [\n                            {\n                                name: unlockEventState ? 'reward collected' : 'collect reward',\n                                class: unlockEventState && 'disabled',\n                                onclick: () => {\n                                    App.sendAnalytics('achievement_reward_collect', name);\n                                    App.addEvent(unlockEventName);\n                                    // do this to remove the badge from achievements \n                                    // button in stats menu\n                                    App.closeAllDisplays();\n                                    _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.lastClickedButton = null;\n                                    App.handlers.open_stats_menu();\n                                    App.handlers.open_achievements_list();\n\n                                    if(rewardFn) rewardFn();\n                                }\n                            },\n                            {\n                                name: 'close',\n                                class: 'back-btn',\n                                onclick: () => {\n                                    App.handlers.open_achievements_list();\n                                }\n                            }\n                        ])\n                        return false;\n                    },\n                }\n\n                return btn;\n            }\n\n            const list = \n                Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements)\n                .map(id => {\n                    const { name, description, checkProgress, getReward } = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements[id];\n                    return configureAchievement(\n                        id,\n                        name,\n                        description,\n                        checkProgress(),\n                        getReward\n                    )\n                })\n                .sort((a, b) => (a._disable == b._disable) ? 0 : a._disable ? 1 : -1)\n                .sort((a, b) => (a.isNewlyUnlocked == b.isNewlyUnlocked) ? 0 : a.isNewlyUnlocked ? -1 : 1);\n\n            if(checkIfHasNewUnlocks){\n                return list.some(a => a.isNewlyUnlocked);\n            }\n\n            return App.displayList(list, null, 'Achievements');\n        },\n        open_item_list: function(buyMode, activeIndex, customPayload){\n            let list = [];\n            let sliderInstance;\n            let salesDay = App.isSalesDay();\n            for(let item of Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.item)){\n                // check if current pet has this item on its inventory\n                if(!App.pet.inventory.item[item] && !buyMode){\n                    continue;\n                }\n                let current = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.item[item];\n\n                // 50% off on sales day\n                let price = current.price;\n                if(salesDay) price = Math.round(price / 2);\n\n                const iconElement = App.getItemCSprite(current.sprite);\n\n                list.push({\n                    name: `${iconElement} ${item.toUpperCase()} (x${App.pet.inventory.item[item] || 0}) <b>${buyMode ? `$${price}` : ''}</b>`,\n                    onclick: (btn, list) => {\n                        if(buyMode){\n                            if(App.pet.stats.gold < price){\n                                App.displayPopup(`Don't have enough gold!`);\n                                return true;\n                            }\n                            App.pet.stats.gold -= price;\n                            App.addNumToObject(App.pet.inventory.item, item, 1);\n                            // console.log(list.scrollTop);\n                            let nList = App.handlers.open_item_list(true, sliderInstance?.getCurrentIndex());\n                                // nList.scrollTop = list.scrollTop;\n                            return false;\n                        }\n\n                        if(customPayload){\n                            return customPayload({...current, name: item});\n                        }\n                        App.pet.useItem({...current, name: item});\n\n                        // let useditem = App.pet.feed(current.sprite, current.hunger_replenish, current.type);\n                        // if(useditem) {\n                        //     App.pet.inventory.item[item] -= 1;\n                        //     App.pet.stats.current_fun += current.fun_replenish;\n                        //     if(App.pet.hasMoodlet('healthy') && current.type === 'med')\n                        //         App.pet.stats.current_health = App.pet.stats.current_health * 0.6;\n                        //     else\n                        //         App.pet.stats.current_health += current.health_replenish;\n                        // }\n                    }\n                })\n            }\n\n            if(!list.length){\n                App.displayPopup(`You don't have any items, purchase some from the mall`, 2000);\n                return;\n            }\n\n            sliderInstance = App.displaySlider(list, activeIndex, {accept: buyMode ? 'Purchase' : 'Use'}, buyMode ? `$${App.pet.stats.gold + (salesDay ? ` <span class=\"sales-notice\">DISCOUNT DAY!</span>` : '')}` : null);\n            return sliderInstance;\n        },\n        open_room_background_list: function(){\n            let list = [];\n            let sliderInstance;\n            let salesDay = App.isSalesDay();\n            for(let room of Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background)){\n                let current = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background[room];\n\n                // check for unlockables\n                if(current.unlockKey && !App.getRecord(current.unlockKey)){\n                    continue;\n                }\n\n                // 50% off on sales day\n                let price = current.price;\n                if(salesDay) price = Math.round(price / 2);\n\n                const image = App.checkResourceOverride(current.image);\n\n                list.push({\n                    // name: `<c-sprite width=\"22\" height=\"22\" index=\"${(current.sprite - 1)}\" src=\"resources/img/item/items.png\"></c-sprite> ${item.toUpperCase()} (x${App.pet.inventory.item[item] || 0}) <b>$${buyMode ? `${price}` : ''}</b>`,\n                    isNew: !!current.isNew,\n                    name: `<img style=\"min-height: 64px\" src=\"${image}\"></img> ${room.toUpperCase()} <b>$${price}</b> ${current.isNew ? App.getBadge() : ''}`,\n                    onclick: (btn, list) => {\n                        if(image === App.scene.home.image){\n                            App.displayPopup('You already own this room');\n                            return true;\n                        }\n\n                        if(App.pet.stats.gold < price){\n                            App.displayPopup(`Don't have enough gold!`);\n                            return true;\n                        }\n                        App.pet.stats.gold -= price;\n\n                        App.closeAllDisplays();\n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.redecorRoom();\n                        App.scene.home.image = image;\n\n                        App.sendAnalytics('home_background_change', App.scene.home.image);\n\n                        return false;\n                    }\n                })\n            }\n\n            list = list.sort((a, b) => b.isNew - a.isNew)\n            sliderInstance = App.displaySlider(list, null, {accept: 'Purchase'}, `$${App.pet.stats.gold + (salesDay ? ` <span class=\"sales-notice\">DISCOUNT DAY!</span>` : '')}`);\n            return sliderInstance;\n        },\n        open_shell_background_list: function(){\n            let sliderInstance;\n            const list = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.shell_background\n            .filter(current => !(current.unlockKey && !App.getRecord(current.unlockKey)))\n            .map(current => {\n                // check for unlockables\n\n                return {\n                    name: `<img src=\"${current.image}\"></img>${current.isNew ? App.getBadge() : ''}`,\n                    onclick: (btn, list) => {\n                        App.setShellBackground(current.image);\n                        return true;\n                    }\n                }\n            })\n\n            sliderInstance = App.displaySlider(list, null, {accept: 'Set'});\n            return sliderInstance;\n        },\n        open_accessory_list: function(buyMode, activeIndex, customPayload){\n            let list = [];\n            let sliderInstance;\n            let salesDay = App.isSalesDay();\n            for(let accessoryName of Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.accessories)){\n                // check if current pet has this item on its inventory\n                if(!App.pet.inventory.accessory[accessoryName] && !buyMode){\n                    continue;\n                }\n                let current = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.accessories[accessoryName];\n                // check for unlockables\n                if(current.unlockKey && !App.getRecord(current.unlockKey)){\n                    continue;\n                }\n\n                // 50% off on sales day\n                let price = current.price;\n                if(salesDay) price = Math.round(price / 2);\n\n                const equipped = App.petDefinition.accessories.includes(accessoryName);\n                const owned = App.pet.inventory.accessory[accessoryName];\n\n                const reopen = (buyMode) => {\n                    if(!buyMode) App.handlers.open_stuff_menu();\n                    App.handlers.open_accessory_list(buyMode, sliderInstance?.getCurrentIndex());\n                    return false;\n                }\n\n                list.push({\n                    isNew: !!current.isNew,\n                    name: `\n                        ${App.getAccessoryCSprite(accessoryName)}\n                        ${accessoryName.toUpperCase()} \n                        <b>\n                        ${\n                            buyMode \n                            ? owned ? 'OWNED' : `$${price}`\n                            : equipped ? 'EQUIPPED' : 'NOT EQUIPPED'\n                        }\n                        </b> \n                        ${\n                            current.isNew \n                            ? App.getBadge() \n                            : ''\n                        }\n                    `,\n                    onclick: (btn, list) => {\n                        if(buyMode){\n                            if(App.pet.inventory.accessory[accessoryName]) {\n                                App.displayPopup('You already own this accessory');\n                                return true;\n                            }\n                            if(App.pet.stats.gold < price){\n                                App.displayPopup(`Don't have enough gold!`);\n                                return true;\n                            }\n                            App.pet.stats.gold -= price;\n                            App.pet.inventory.accessory[accessoryName] = true;\n                            //     // nList.scrollTop = list.scrollTop;\n                            return reopen(buyMode);\n                        }\n\n                        // toggle equip mode\n                        if(equipped) App.petDefinition.accessories.splice(App.petDefinition.accessories.indexOf(accessoryName), 1);\n                        else App.petDefinition.accessories.push(accessoryName);\n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.getDressed(() => App.pet.createAccessories(), reopen, !equipped);\n                        App.sendAnalytics('accessory', `${accessoryName} (${!equipped})`);\n                    }\n                })\n            }\n\n            if(!list.length){\n                App.displayPopup(`You don't have any accessories, purchase some from the mall`, 2000);\n                return;\n            }\n\n            list = list.sort((a, b) => b.isNew - a.isNew)\n            sliderInstance = App.displaySlider(\n                list, \n                activeIndex, \n                {\n                    accept: buyMode \n                        ? 'Purchase' \n                        : 'Toggle'\n                }, \n                buyMode ? `$${App.pet.stats.gold + (salesDay ? ` <span class=\"sales-notice\">DISCOUNT DAY!</span>` : '')}` : null);\n            return sliderInstance;\n        },\n        open_activity_list: function(){\n            return App.displayList([\n                {\n                    name: `mall`,\n                    onclick: () => {\n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.goToMall();\n                    }\n                },\n                {\n                    name: `market`,\n                    onclick: () => {\n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.goToMarket();\n                    }\n                },\n                {\n                    name: `game center`,\n                    onclick: () => {\n                        // App.handlers.open_game_list();\n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.goToArcade();\n                        // return true;\n                    }\n                },\n                {\n                    _disable: App.petDefinition.lifeStage < 2,\n                    name: `work`,\n                    onclick: () => {\n                        App.displayList([\n                            {\n                                name: `stand work`,\n                                onclick: () => {\n                                    _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.standWork();\n                                }\n                            },\n                            {\n                                name: 'office work',\n                                onclick: () => {\n                                    _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.officeWork();\n                                }\n                            },\n                        ])\n                        return true;\n                    }\n                },\n                {\n                    name: 'park',\n                    onclick: () => { // going to park with random pet\n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.goToPark();\n                    }\n                },\n                {\n                    name: `visit doctor`,\n                    onclick: () => {\n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.goToClinic();\n                    }\n                },\n                // {\n                //     name: 'baby sitter',\n                //     onclick: () => {\n                //         App.displayPopup('To be implemented...', 1000);\n                //         return true;\n                //     }\n                // },\n            ])\n        },\n        open_friends_list: function(onClickOverride){\n            if(!App.petDefinition.friends.length){\n                App.displayPopup(`${App.petDefinition.name} doesn't have any friends right now<br><br><small>Visit the park to find new friends<small>`, 4000);\n                return;\n            }\n\n            const friendsList = App.displayList(App.petDefinition.friends.map((friendDef, index) => {\n                const name = friendDef.name || 'Unknown';\n                const icon = friendDef.getCSprite();\n                return {\n                    name: icon + name,\n                    onclick: () => {\n                        if(onClickOverride) return onClickOverride(friendDef);\n                        const friendActivitiesList = App.displayList([\n                            {\n                                name: 'info',\n                                onclick: () => {\n                                    const list = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.genericListContainer();\n                                    _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.genericListContainerContent(`\n                                    <div class=\"inner-padding uppercase surface-stylized b-radius-10\">\n                                        ${icon} ${friendDef.name}\n                                        <br>\n                                        <b>Friendship:</b> ${App.createProgressbar( friendDef.getFriendship() / 100 * 100 ).node.outerHTML}\n                                        <hr>\n                                        <b>Age:</b> ${friendDef.getLifeStageLabel()}\n                                    </div>\n                                    `, list);\n\n                                    return true;\n                                }\n                            },\n                            {\n                                _ignore: App.petDefinition.lifeStage < 2 || friendDef.lifeStage < 2 || friendDef.stats.is_player_family,\n                                name: `go on date`,\n                                onclick: () => {\n                                    if(friendDef.getFriendship() < 60){\n                                        return App.displayPopup(`${App.petDefinition.name}'s friendship with ${friendDef.name} is too low <br><br> they don't want to go on a date.`, 5000);\n                                    }\n\n                                    App.displayConfirm(`Do you want to go on a date with <div>${icon} ${friendDef.name}</div>?`, [\n                                        {\n                                            name: 'yes',\n                                            onclick: () => {\n                                                _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.goOnDate(friendDef);\n                                            }\n                                        },\n                                        {\n                                            name: 'cancel',\n                                            class: 'back-btn',\n                                            onclick: () => {}\n                                        }\n                                    ])\n\n                                    return true;\n                                }\n                            },\n                            {\n                                name: 'park',\n                                onclick: () => {\n                                    App.closeAllDisplays();\n                                    _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.goToPark(friendDef);\n                                }\n                            },\n                            {\n                                name: 'invite',\n                                onclick: () => {\n                                    App.closeAllDisplays();\n                                    _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.invitePlaydate(friendDef);\n                                }\n                            },\n                            {\n                                name: 'gift',\n                                onclick: () => {\n                                    App.displayConfirm(`Are you sure you want to give gift to ${icon} ${name}?`, [\n                                        {\n                                            name: 'yes',\n                                            onclick: () => {\n                                                App.closeAllDisplays();\n                                                App.handlers.open_item_list(null, null, (item) => {\n                                                    App.pet.inventory.item[item.name] -= 1;\n                                                    friendDef.increaseFriendship(Math.floor(item.price / 2.7));\n                                                    _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.inviteGiveGift(friendDef);\n                                                })\n                                                return true;\n                                            }\n                                        },\n                                        {\n                                            name: 'no',\n                                            class: 'back-btn',\n                                            onclick: () => { }\n                                        }\n                                    ]);\n                                    return true;\n                                }\n                            },\n                            {\n                                name: 'unfriend',\n                                onclick: () => {\n                                    App.displayConfirm(`Are you sure you want to unfriend ${icon} ${name}?`, [\n                                        {\n                                            name: 'yes',\n                                            onclick: () => {\n                                                friendsList.close();\n                                                friendActivitiesList.close();\n                                                App.petDefinition.friends.splice(index, 1);\n                                                App.handlers.open_friends_list();\n                                            }\n                                        },\n                                        {\n                                            name: 'no',\n                                            class: 'back-btn',\n                                            onclick: () => { }\n                                        }\n                                    ]);\n                                    return true;\n                                }\n                            }\n                        ]);\n                        return true;\n                    }\n                }\n            }));\n        },\n        open_phone: function(){\n            App.displayList([\n                {\n                    name: `<span style=\"color: #ff00c6\"><i class=\"icon fa-solid fa-globe\"></i> hubchi</span>`,\n                    onclick: () => {\n                        if(App.petDefinition.lifeStage <= 0){\n                            return App.displayPopup(`${App.petDefinition.name} is not old enough to go to hubchi!`);\n                        }\n\n                        if(!App.userName){\n                            App.handlers.show_set_username_dialog();\n                            return true;\n                        }\n\n                        if(App.pet.stats.current_sleep < 10) {\n                            return App.displayPopup(`${App.petDefinition.name} is too sleepy to go to HUBCHI!`);\n                        }\n\n                        return App.displayConfirm(`Enter Hubchi?`, [\n                            {\n                                name: 'yes',\n                                onclick: async () => {\n                                    App.closeAllDisplays();\n                                    _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.onlineHubTransition(async (fadeOverlay) => {\n                                        setTimeout(() => App.playSound('resources/sounds/task_complete.ogg', true));\n                                        const popup = App.displayPopup('Connecting...', App.INF);\n                                        App.temp.online = {};\n                                        App.temp.online.hasUploadedPetDef = await App.apiService.getPetDef();\n                                        App.temp.online.randomPetDefs = await App.apiService.getRandomPetDefs(7);\n                                        // App.temp.online = JSON.parse('{\"hasUploadedPetDef\":{\"status\":true,\"data\":\"{\\\\\"name\\\\\":\\\\\"Missiechu\\\\\",\\\\\"sprite\\\\\":\\\\\"resources/img/character/chara_248b.png\\\\\",\\\\\"accessories\\\\\":[\\\\\"mini band\\\\\",\\\\\"secretary\\\\\"]}\"},\"randomPetDefs\":{\"status\":true,\"data\":[{\"name\":\"farah3\",\"sprite\":\"resources/img/character/chara_51b.png\",\"accessories\":[],\"owner\":\"test3\",\"ownerId\":\"test3-1234\",\"interactions\":0},{\"name\":\"sep2\",\"sprite\":\"resources/img/character/chara_50b.png\",\"accessories\":[],\"owner\":\"test2\",\"ownerId\":\"test2-1234\",\"interactions\":2},{\"name\":\"qoli4\",\"sprite\":\"resources/img/character/chara_210b.png\",\"accessories\":[\"witch hat\"],\"owner\":\"test4\",\"ownerId\":\"test4-1234\",\"interactions\":0},{\"name\":\"<saman1>\",\"sprite\":\"resources/img/character/chara_28b.png\",\"accessories\":[],\"owner\":\"test\",\"ownerId\":\"test-1234\",\"interactions\":0},{\"name\":\"Missiechu\",\"sprite\":\"resources/img/character/chara_248b.png\",\"accessories\":[\"mini band\",\"secretary\"],\"owner\":\"samandev\",\"ownerId\":\"samandev-3430186\",\"interactions\":3}]}}');\n                                        popup.close();\n                                        App.closeAllDisplays();\n                                        fadeOverlay.direction = false;\n                \n                                        if(!App.temp.online?.randomPetDefs){\n                                            App.displayPopup('Error! Cannot connect.');\n                                            App.setScene(App.scene.home);\n                                            App.toggleGameplayControls(true);\n                                            return false;\n                                        }\n                                        \n                                        setTimeout(() => App.playSound('resources/sounds/task_complete_02.ogg', true));\n                                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.goToOnlineHub();\n                                    })\n            \n                                    App.sendAnalytics('go_to_online_hub');\n                                }\n                            },\n                            {\n                                name: 'no',\n                                class: 'back-btn',\n                                onclick: () => {}\n                            },\n                        ])\n                    }\n                },\n                {\n                    name: 'friends',\n                    onclick: () => {\n                        App.handlers.open_friends_list();\n                        return true;\n                    }\n                },\n                {\n                    _ignore: App.petDefinition.lifeStage >= 2,\n                    name: 'have birthday',\n                    onclick: () => {\n                        let nextBirthday = App.petDefinition.getNextBirthdayDate();\n                        if(_libs_moment__WEBPACK_IMPORTED_MODULE_3___default()().utc().isBefore( nextBirthday )){\n                            return App.displayPopup(`${App.petDefinition.name} hasn't grown enough to age up<br><br>come back <b>${(_libs_moment__WEBPACK_IMPORTED_MODULE_3___default()(nextBirthday).utc().fromNow())}</b>`, 5000);\n                        }\n                        App.displayConfirm(`This will age up ${App.petDefinition.name}<br>Are you sure?`, [\n                            {\n                                name: 'yes',\n                                onclick: () => {\n                                    _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.birthday();\n                                }\n                            },\n                            {\n                                name: 'no',\n                                class: 'back-btn',\n                                onclick: () => {},\n                            }\n                        ])\n                    }\n                },\n                {\n                    _ignore: true,\n                    name: 'doctor visit',\n                    onclick: () => {\n                        // App.displayPopup(`${App.pet.stats.current_health}`, 1000);\n                        _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.inviteDoctorVisit();\n                    }\n                },\n                {\n                    _disable: App.petDefinition.lifeStage == 0,\n                    name: `social media`,\n                    onclick: () => {\n                        App.handlers.open_social_media();\n                        return true;\n                    }\n                },\n                {\n                    _disable: App.petDefinition.lifeStage == 0,\n                    name: `go on vacation`,\n                    onclick: () => {\n                        const price = 250;\n                        const { goToVacation } = _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities;\n                        App.displayConfirm(`Are you sure you want to send ${App.petDefinition.name} on a vacation? <br> it will cost you $${price} and ${App.petDefinition.name} will stay there until you decide to end their vacation <hr> <b>while on vacation, ${App.petDefinition.name}'s needs will not drop</b>`, [\n                            {\n                                name: `yes ($${price})`,\n                                onclick: () => {\n                                    if(App.pet.stats.gold - price < 0) {\n                                        App.displayPopup(`You don't have enough gold!`);\n                                        return;\n                                    }\n                                    App.pet.stats.gold -= price;\n                                    goToVacation(_Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.seaVacation)\n                                    App.sendAnalytics('go_on_vacation');\n                                    _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.achievements.go_to_vacation_x_times.advance();\n                                }\n                            },\n                            {\n                                name: 'no',\n                                class: 'primary solid',\n                                onclick: () => {}\n                            }\n                        ])\n                        return true;\n                    }\n                },\n                {\n                    name: `friend codes`,\n                    onclick: () => {\n                        App.displayList([\n                            {\n                                name: 'get code',\n                                onclick: () => {\n                                    let charCode = 'friend:' + btoa(JSON.stringify(window.localStorage));\n                                    navigator.clipboard.writeText(charCode);\n                                    console.log(charCode);\n                                    App.displayConfirm(`Your friend code has been copied to the clipboard!`, [\n                                        {\n                                            name: 'next',\n                                            onclick: () => {\n                                                App.displayConfirm(`Send it to your friend and they'll be able to add ${App.petDefinition.name} as a friend using <b>Phone > Friend Codes > Input code</b>`, [\n                                                    {\n                                                        name: 'ok',\n                                                        onclick: () => {}\n                                                    },\n                                                ])\n                                            }\n                                        },\n                                    ])\n                                    return true;\n                                }\n                            },\n                            {\n                                name: 'input code',\n                                onclick: () => {\n                                    App.displayPrompt(`enter your friend code:`, [\n                                        {\n                                            name: 'enter',\n                                            onclick: (rawCode) => {\n                                                if(rawCode.indexOf('friend:') == -1) return App.displayPopup(`Invalid friend code!`);\n\n                                                let b64 = rawCode.replace('friend:', '');\n                                                try {\n                                                    b64 = atob(b64);\n                                                    let json = JSON.parse(b64);\n                                                    if(!json.pet){\n                                                        throw 'error';\n                                                    }\n\n                                                    if(json.user_id === App.userId) return App.displayPopup(`You can't add yourself as a friend!`);\n\n                                                    let petDef = JSON.parse(json.pet);\n\n                                                    let def = new _PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition().loadStats(petDef);\n                                                    \n                                                    App.displayConfirm(`Are you trying to add <div style=\"font-weight: bold\">${def.getCSprite()} ${def.name}?</div> as a friend?`, [\n                                                        {\n                                                            name: 'yes',\n                                                            onclick: () => {\n                                                                App.petDefinition.addFriend(def);\n                                                                App.closeAllDisplays();\n                                                                return App.displayPopup(`${def.name} was added to the friends list!`, 3000);\n                                                            }\n                                                        },\n                                                        {\n                                                            name: 'no',\n                                                            class: 'back-btn',\n                                                            onclick: () => {}\n                                                        },\n                                                    ])\n                                                } catch(e) {    \n                                                    return App.displayPopup('Invalid friend code!');\n                                                }\n                                            }\n                                        },\n                                        \n                                        {\n                                            name: 'cancel',\n                                            class: 'back-btn',\n                                            onclick: () => { }\n                                        },\n\n                                    ])\n\n                                    return true;\n                                }\n                            },\n                        ])\n\n                        return true;\n                    }\n                }\n            ])\n        },\n        open_social_media: function(){\n            if(!App.temp.seenSocialMediaPosts){\n                App.temp.seenSocialMediaPosts = 0;\n            }\n            function showPost(petDefinition, noMood, noNextBtn){\n                if(++App.temp.seenSocialMediaPosts >= 12){\n                    return App.displayPopup('There are no more social media posts, comeback later!');\n                }\n\n                _Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.TYPES.check_social_post);\n\n                let post = document.querySelector('.cloneables .post-container').cloneNode(true);\n                document.querySelector('.screen-wrapper').appendChild(post);\n                post.style.display = '';\n\n                document.querySelector('.post-profile-icon').innerHTML = `${petDefinition.getCSprite()}`;\n\n                let postDrawer = new _Drawer__WEBPACK_IMPORTED_MODULE_2__.Drawer(post.querySelector('.post-canvas'), 96, 96);\n                // let postDrawer = new Drawer(postCanvas)\n                let postText = post.querySelector('.post-text');\n\n                let drawer = setInterval(() => {\n                    postDrawer.draw();\n                }, 32);\n                let close = () => {\n                    clearInterval(drawer);\n                    App.toggleGameplayControls(true);\n                    post.remove();\n                }\n                App.toggleGameplayControls(false, close);\n                post.querySelector('.post-close').onclick = close;\n                post.querySelector('.post-next').onclick = () => {\n                    close();\n                    showRandomPost();\n                };\n                if(noNextBtn){\n                    post.querySelector('.post-next').remove();\n                }\n\n                let homeBackground = App.scene.home.image;\n                if(petDefinition !== App.petDefinition)\n                    homeBackground = (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.randomFromArray)(\n                        Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background)\n                        .map(roomName => \n                            _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background[roomName].image\n                        )\n                    )\n                \n                const background = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n                    drawer: postDrawer,\n                    img: homeBackground,\n                    x: 0, y: 0, width: 96, height: 96,\n                });\n\n\n                const characterPositions = ['50%', '20%', '80%'],\n                    characterSpritePoses = [1, 11, 14, 8, 2, 12];\n\n                const character = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n                    drawer: postDrawer,\n                    spritesheet: {...petDefinition.spritesheet, cellNumber: (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.randomFromArray)(characterSpritePoses)},\n                    // image: App.pet.image.cloneNode(),\n                    // img: petDefinition.sprite,\n                    image: App.preloadedResources[petDefinition.sprite],\n                    x: (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.randomFromArray)(characterPositions), y: 55 + (petDefinition.spritesheet.offsetY * 2 || 0),\n                })\n\n                post.querySelector('.post-header').innerHTML = petDefinition.name;\n\n                switch(App.pet.state){\n                    default:\n                        const tweet = (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.randomFromArray)(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.tweets.generic);\n                        postText.innerHTML = tweet[0]; // text\n                        if(tweet[1]) character.spritesheet.cellNumber = tweet[1]; // pose\n                        if(tweet[2]) background.setImg(tweet[2]); // background\n                }\n\n                if(!noMood){\n                    if(App.pet.hasMoodlet('hungry')){\n                        postText.innerHTML = 'Can go for a bite #hungy';\n                        character.spritesheet.cellNumber = 4;\n                        background.setImg(homeBackground);\n                    }\n                    if(App.pet.hasMoodlet('sleepy')){\n                        postText.innerHTML = 'battery low, need a nap!';\n                        character.spritesheet.cellNumber = 4;\n                        background.setImg(homeBackground);\n                    }\n                    if(App.pet.hasMoodlet('bored')){\n                        postText.innerHTML = 'Anyone wanna talk? #bored';\n                        character.spritesheet.cellNumber = 4;\n                        background.setImg(homeBackground);\n                    }\n                    if(App.pet.hasMoodlet('sick')){\n                        postText.innerHTML = 'Not feeling too good... #tummyache';\n                        character.spritesheet.cellNumber = 4;\n                        background.setImg(homeBackground);\n                    }\n                }\n            }\n\n            const showRandomPost = () => {\n                App.petDefinition.stats.current_fun += (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.random)(0, 5);\n                let otherPetDef;\n                if(App.petDefinition.friends && App.petDefinition.friends.length){\n                    otherPetDef = (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.randomFromArray)(App.petDefinition.friends);\n                } else {\n                    otherPetDef = App.getRandomPetDef();\n                }\n                showPost(otherPetDef, true);\n            }\n\n            App.displayList([\n                {\n                    name: 'make post',\n                    onclick: () => {\n                        App.petDefinition.stats.current_fun += (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.random)(1, 5);\n                        showPost(App.petDefinition, null, true);\n                        return true;\n                    }\n                },\n                {\n                    name: 'explore posts',\n                    onclick: () => {\n                        showRandomPost();\n                        return true;\n                    }\n                },\n                {\n                    name: 'find friends',\n                    onclick: () => {\n                        const seed = App.getDayId(true);\n                        let potentialFriends = new Array(8)\n                            .fill(undefined)\n                            .map((spot, i) => App.getRandomPetDef(App.petDefinition.lifeStage, seed + (i * 128)));\n                        App.displayGrid([...potentialFriends.map(otherPetDef => {\n                            return {\n                                name: `${otherPetDef.getFullCSprite()}`,\n                                class: 'bg-bef-1',\n                                onclick: () => {\n                                    App.displayConfirm(`Do you want to send friend request to<br><b>${otherPetDef.getCSprite()} ${otherPetDef.name}?</b>`, [\n                                        {\n                                            name: 'yes',\n                                            onclick: () => {\n                                                let willAcceptFriendRequest = (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.random)(0, 1) == 1;\n                                                if(!willAcceptFriendRequest){\n                                                    App.displayPopup(`${otherPetDef.name} did <b style=\"color: #ff6e74\">not accept</b> ${App.petDefinition.name}'s friend request`)\n                                                    return;\n                                                }\n                                                let state = App.petDefinition.addFriend(otherPetDef);\n                                                if(state) App.displayPopup(`${otherPetDef.name} <b style=\"color: #87cf00\">accepted</b> ${App.petDefinition.name}'s friend request!`);\n                                                else App.displayPopup(`${App.petDefinition.name} is already friends with ${otherPetDef.name}!`);\n                                            }\n                                        },\n                                        {\n                                            name: 'no',\n                                            class: 'back-btn',\n                                            onclick: () => { }\n                                        }\n                                    ])\n                                    return true;\n                                }\n                            }\n                        }), {\n                            name: '<i class=\"fa-solid fa-arrow-left back-sound\"></i>',\n                            class: 'back-sound',\n                            onclick: () => { }\n                        }])\n                        return true;\n                    }\n                },\n                {\n                    name: `send message`,\n                    onclick: () => {\n                        App.handlers.open_friends_list((friendDef) => {\n                            if(friendDef.sentMessage){\n                                App.displayPopup(`${App.petDefinition.name} shouldn't spam ${friendDef.name}'s inbox!`, 3000);\n                                return;\n                            }\n                            App.displayPopup(`sent message to ${friendDef.name}!`, 3000);\n                            friendDef.increaseFriendship(10);\n                            friendDef.sentMessage = true;\n                        })\n                        return true;\n                    }\n                }\n            ])\n        },\n        open_mall_activity_list: function(){\n            const hasNewDecor = Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background).some(key => {\n                const isUnlocked = \n                    _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background[key].unlockKey ? \n                    App.getRecord(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background[key].unlockKey) : \n                    true;\n                return _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.room_background[key].isNew && isUnlocked;\n            });\n            const hasNewAccessory = Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.accessories).some(key => {\n                const isUnlocked = \n                    _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.accessories[key].unlockKey ? \n                    App.getRecord(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.accessories[key].unlockKey) : \n                    true;\n                return _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.accessories[key].isNew && isUnlocked;\n            });\n\n            const backFn = () => { // unused\n                setTimeout(() => App.handlers.open_activity_list(), 0)\n            }\n\n            App.displayList([\n                {\n                    name: 'buy items',\n                    onclick: () => {\n                        App.handlers.open_item_list(true);\n                        return true;\n                    }\n                },\n                {\n                    name: `buy accessories ${hasNewAccessory ? App.getBadge() : ''}`,\n                    onclick: () => {\n                        App.handlers.open_accessory_list(true);\n                        if(App.petDefinition.lifeStage != 2){\n                            App.displayPopup(`${App.petDefinition.name} is not old enough to wear accessories yet, but you can buy some for later`);\n                        }\n                        return true;\n                    }\n                },\n                {\n                    name: `redécor room ${hasNewDecor ? App.getBadge() : ''}`,\n                    onclick: () => {\n                        App.handlers.open_room_background_list(true);\n                        return true;\n                    }\n                },\n            ]);\n        },\n        open_market_menu: function(){\n            App.displayList([\n                {\n                    name: 'purchase food',\n                    onclick: () => {\n                        App.handlers.open_food_list(true, null, \"food\");\n                        return true;\n                    }\n                },\n                {\n                    name: 'purchase snacks',\n                    onclick: () => {\n                        App.handlers.open_food_list(true, null, \"treat\");\n                        return true;\n                    }\n                },\n                {\n                    name: 'purchase meds',\n                    onclick: () => {\n                        App.handlers.open_food_list(true, null, \"med\");\n                        return true;\n                    }\n                },\n                {\n                    name: `\n                    <small>\n                        <i class=\"fa-solid fa-info-circle\"></i>\n                        Shop stock changes daily, so check back often for new food and snacks!\n                    </small>\n                    `,\n                    type: 'text',\n                },\n            ])\n        },\n        open_game_list: function(){\n            const tutorialDisplayTime = 2000;\n            App.displayList([\n                {\n                    name: `mimic`,\n                    onclick: () => {\n                        const imgPath = 'resources/img/ui/';\n                        const images = `\n                            <img src=\"${imgPath}facing_left.png\"></img>\n                            <img src=\"${imgPath}facing_center.png\"></img>\n                            <img src=\"${imgPath}facing_right.png\"></img>\n                        `\n                        App.displayPopup(`Try to predict your opponents next stance ${images} and mimic them!`, tutorialDisplayTime, () => _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.opponentMimicGame())\n                        return false;\n                    }\n                },\n                {\n                    name: `catch`,\n                    onclick: () => {\n                        App.displayPopup(`Catch as much <img src=\"resources/img/misc/heart_particle_01.png\"></img> while avoiding <img src=\"resources/img/misc/falling_poop.png\"></img>`, tutorialDisplayTime, () => _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.fallingStuffGame())\n                        return false;\n                    }\n                },\n                {\n                    name: 'rod rush',\n                    onclick: () => {\n                        App.displayPopup(`Stop the pointer at the perfect time!`, tutorialDisplayTime, () => _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.barTimingGame())\n                        return false;\n                    }\n                },\n                // {\n                //     name: 'guess game (wip)',\n                //     onclick: () => {\n                //         // return Activities.guessGame();\n                //     }\n                // },\n            ]);\n        },\n        open_battle_screen: function(){\n            Battle.start();\n        },\n        shell_button: function(){\n            if(App.disableGameplayControls && App.gameplayControlsOverwrite){\n                if(!App.haveAnyDisplays()){\n                    App.gameplayControlsOverwrite();\n                    App.vibrate();\n                }\n                return;\n            }\n\n            if(App.disableGameplayControls) return;\n\n            let disallow = false;\n            [...document.querySelectorAll('.display')].forEach(display => {\n                if(!display.closest('.cloneables')){\n                    if(display.classList.contains('popup')) disallow = true;\n                    if(display.classList.contains('confirm')) disallow = true;\n                    if(display.classList.contains('prompt')) disallow = true;\n                }\n            });\n\n            if(disallow) return;\n\n            App.setScene(App.scene.home);\n            if(App.haveAnyDisplays()) App.closeAllDisplays();\n            else App.handlers.open_main_menu();\n            App.vibrate();\n        },\n        sleep: function(){\n            App.pet.sleep();\n            App.save();\n        },\n        clean: function(){\n            App.pet.stopMove();\n            App.pet.triggerScriptedState('idle', App.INF, false, true);\n            App.pet.x = 20;\n            App.pet.y = App.scene.home.petY;\n            App.toggleGameplayControls(false);\n            _Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.TYPES.clean_room);\n            const mop = new _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d({\n                image: App.preloadedResources[\"resources/img/misc/cleaner.png\"],\n                x: 0,\n                y: -100,\n                z: 100,\n                width: 96, height: 96,\n                onDraw: function(me){\n                    _Object2d__WEBPACK_IMPORTED_MODULE_5__.Object2d.animations.flip(me);\n                    this.y += 1;\n                    if(this.y >= 50){\n                        App.pet.stopScriptedState();\n                        App.drawer.removeObject(this);\n                        App.toggleGameplayControls(true);\n                        App.pet.x = '50%';\n                        // App.poop.hidden = true;\n                        App.pet.playCheeringAnimationIfTrue(App.pet.stats.has_poop_out, () => {});\n                        App.pet.stats.has_poop_out = false;\n                        App.poop.hidden = true;\n                    }\n                }\n            })\n        },\n    },\n    toggleGameplayControls: function(state, onclick){\n        App.disableGameplayControls = !state;\n        App.gameplayControlsOverwrite = onclick;\n        if(App.disableGameplayControls && !onclick){\n            App.drawer.canvas.style.cursor = 'not-allowed';\n        } else {\n            App.drawer.canvas.style.cursor = 'pointer';\n        }\n        if(App.settings.classicMainMenuUI){\n            if(state) document.querySelector('.classic-main-menu__container').classList.remove('disabled');\n            else document.querySelector('.classic-main-menu__container').classList.add('disabled');\n        }\n        return;\n    },\n    getGameplayControlsState: function(){\n        return {\n            state: !App.disableGameplayControls,\n            onclick: App.gameplayControlsOverwrite,\n        }\n    },\n    createProgressbar: function(percent){\n        let progressbar = document.querySelector('.cloneables .progressbar').cloneNode(true);\n\n        let rod = progressbar.querySelector('.progressbar-rod'), background = progressbar.querySelector('.progressbar-background');\n\n        let colors = {\n            green: ['#04E762', '#93C48B'],\n            red: ['#ED254E', '#ED254E'],\n            yellow: ['#FDBA70', '#FF8300']\n        }\n\n        function setPercent(percent){\n            rod.style.width = `${percent}%`;\n            \n            let colorSet = colors.green;\n            if(percent < 30) colorSet = colors.red;\n            else if(percent < 60) colorSet = colors.yellow;\n            \n            let rodColor = `linear-gradient(90deg, ${colorSet[0]}, ${colorSet[1]})`;\n            rod.style.background = rodColor;\n\n            background.style.background = `repeating-linear-gradient(90deg, ${colorSet[1]} 5px, ${colorSet[1]} 7px, transparent 6px, transparent 10px)`;\n        }\n\n        setPercent(percent);\n\n        return {\n            node: progressbar,\n            setPercent\n        }\n    },\n    createStepper: function(maxSteps, currentStep){\n        const element = document.createElement('div');\n        element.className = 'stepper';\n        element.innerHTML = `\n            ${\n            new Array(maxSteps)\n            .fill(undefined)\n            .map((_, i) => `\n                <div \n                    class=\"stepper__step ${i+1 <= currentStep ? \"active\" : \"\"}\"\n                ></div>\n            `).join('\\n')\n            }\n        `\n\n        return {node: element}\n    },\n    closeAllDisplays: function(){\n        [...document.querySelectorAll('.display')].forEach(display => {\n            if(!display.closest('.cloneables')){\n                // display.close();\n                if(display.close) display.close();\n                else display.remove();\n            }\n        });\n    },\n    haveAnyDisplays: function(){\n        return !![...document.querySelectorAll('.screen-wrapper .display')].length;\n    },\n    displayList: function(listItems, backFn, backFnTitle){\n        // if(backFn !== false)\n        //     listItems.push({\n        //         name: /* '<i class=\"fa-solid fa-arrow-left\"></i>' || */ 'BACK',\n        //         class: 'back-btn solid primary bold',\n        //         onclick: () => {\n        //             if(backFn) backFn();\n        //             return false;\n        //         }\n        //     });\n\n        const list = _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.genericListContainer(backFn, backFnTitle);\n        list._listItems = listItems;\n\n        listItems.forEach((item, i) => {\n            if(item._ignore) return;\n            if(!item.name) item.name = '';\n\n            let element;\n            let defaultClassName;\n\n            switch(item.type){\n                case \"empty\":\n                    element = document.createElement('p');\n                    element.innerHTML = item.name;\n                    defaultClassName = ``;\n                    break;\n                case \"text\":\n                    element = document.createElement('p');\n                    element.innerHTML = item.name;\n                    defaultClassName = `inner-padding b-radius-10 uppercase list-text ${item.solid ? 'solid-' : ''}surface-stylized ${item.bold ? 'text-bold' : ''}`;\n                    break;\n                case \"separator\":\n                    element = document.createElement('hr');\n                    defaultClassName = 'content-separator';\n                    break;\n                default:\n                    element = document.createElement(item.link ? 'a' : 'button');\n                    if(item.link){\n                        element.href = item.link;\n                        element.target = '_blank';\n                    }\n                    if(item.icon){\n                        item.name = `<i class=\"fa-solid fa-${item.icon} corner-icon\"></i> ${item.name}`\n                    }\n                    if(i == listItems.length - 2) element.className += ' last-btn';\n                    // '⤳ ' + \n                    if(item.name.indexOf('<') == -1 && item.name.indexOf('/') == -1) item.name = (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.ellipsis)(item.name, item.ellipsisLength);\n                    element.innerHTML = item.name;\n                    element.disabled = item._disable;\n                    element.style = `--child-index:${Math.min(i, 10) + 1}`;\n                    element.onclick = () => {\n                        _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.lastClickedButton = element;\n                        let result = item.onclick(element, list);\n                        if(!result){\n                            list.close();\n                        }\n                    };\n                    defaultClassName = 'generic-btn stylized';\n            }\n\n            element.className = defaultClassName + (item.class ? ' ' + item.class : '');\n\n            if(item.style) element.style = item.style;\n            if(item.id) element.id = item.id;\n\n            item._mount?.(element);\n            element._mount = () => item._mount?.(element);\n            list.appendChild(element);\n        })\n\n        document.querySelector('.screen-wrapper').appendChild(list);\n        \n        return list;\n    },\n    displayGrid: function(listItems){\n        // listItems.push({\n        //     name: '⬅️',\n        //     class: 'back-btn',\n        //     onclick: () => {\n        //         return false;\n        //     }\n        // })\n\n        let list = document.querySelector('.cloneables .generic-grid-container').cloneNode(true);\n\n        list.close = function(){\n            list.remove();\n        }\n\n        listItems.forEach(item => {\n            let button = document.createElement('button');\n                button.className = 'grid-item ' + (item.class ? item.class : '');\n                button.innerHTML = item.name;\n                button.onclick = () => {\n                    let result = item.onclick(button, list);\n                    if(!result){\n                        list.close();\n                    }\n                };\n            list.appendChild(button);\n        });\n\n        document.querySelector('.screen-wrapper').appendChild(list);\n\n        return list;\n    },\n    displaySlider: function(listItems, activeIndex, options, additionalText){\n        let list = document.querySelector('.cloneables .generic-slider-container').cloneNode(true);\n\n        if(activeIndex !== 0 && !activeIndex){\n            list.classList.add('menu-animation');\n        }\n\n        let maxIndex = listItems.length,\n            currentIndex = Math.min(activeIndex, listItems.length - 1) || 0,\n            contentElement = list.querySelector('.content'),\n            acceptBtn = list.querySelector('#accept-btn'),\n            cancelBtn = list.querySelector('#cancel-btn');\n\n        list.close = function(){\n            list.remove();\n        }\n\n        cancelBtn.innerHTML = options?.cancel || /* '<i class=\"fa-solid fa-arrow-left\"></i>' || */ '<i class=\"fa-solid fa-arrow-left\"></i>';\n        acceptBtn.innerHTML = options?.accept || 'Accept';\n\n        list.getCurrentIndex = () => currentIndex;\n\n        cancelBtn.onclick = () => {\n            list.close();\n        }\n\n        const changeIndex = diff => {\n            if(!diff) diff = 0;\n            currentIndex += diff;\n            if(currentIndex >= maxIndex) currentIndex = 0;\n            else if(currentIndex < 0) currentIndex = maxIndex - 1;\n\n            let item = listItems[currentIndex];\n            let button = document.createElement('div');\n                button.className = 'slider-item' + (item.class ? item.class : '');\n                button.innerHTML = item.name;\n                button.setAttribute('data-index', currentIndex);\n                acceptBtn.onclick = () => {\n                    let result = item.onclick(button, list);\n                    if(!result){\n                        list.close();\n                    }\n                };\n            \n            let animationStart = diff < 0 ? 'slider-item-anim-in-right' : 'slider-item-anim-in-left';\n            button.style.animation = `${diff ? animationStart : ''} 0.1s linear forwards`;\n\n            contentElement.innerHTML = '';\n            contentElement.appendChild(button);\n        }\n\n        list.querySelector('.slide-left').onclick = () => {\n            contentElement.querySelector('.slider-item').style.animation = 'slider-item-anim-out-left 0.1s linear forwards';\n            setTimeout(() => changeIndex(-1), 150);\n        }\n        list.querySelector('.slide-right').onclick = () => {\n            contentElement.querySelector('.slider-item').style.animation = 'slider-item-anim-out-right 0.1s linear forwards';\n            setTimeout(() => changeIndex(1), 150);\n        }\n\n        if(additionalText){\n            list.querySelector('.additional-text').innerHTML = additionalText;\n        } else list.querySelector('.additional-text').remove();\n\n        if(maxIndex === 1){\n            list.querySelector('.slide-left').classList.add('disabled');\n            list.querySelector('.slide-right').classList.add('disabled');\n        }\n\n        changeIndex();\n\n        document.querySelector('.screen-wrapper').appendChild(list);\n\n        return list;\n    },\n    displayPopup: function(content, ms, onEndFn, isReveal){\n        let popup = document.querySelector('.cloneables .generic-list-container').cloneNode(true);\n            popup.classList.add('popup');\n            if(isReveal) popup.classList.add('revealing');\n            popup.innerHTML = `\n                <div class=\"uppercase flex-center\">\n                    <div class=\"inner-padding b-radius-10 surface-stylized\">\n                        ${content}\n                    </div>\n                </div>\n            `;\n            popup.style['z-index'] = 3;\n            popup.style['background'] = 'var(--background-c)';\n            popup.close = () => {\n                popup.remove();\n                if(onEndFn){\n                    onEndFn();\n                }\n            }\n        setTimeout(() => {\n            popup.close();\n        }, ms || 2000);\n        document.querySelector('.screen-wrapper').appendChild(popup);\n        return popup;\n    },\n    displayConfirm: function(text, buttons){\n        let list = document.querySelector('.cloneables .generic-list-container').cloneNode(true);\n            list.classList.add('confirm', 'inline-flex-between');\n            list.innerHTML = `\n                <div class=\"uppercase flex-center flex-1 height-auto\">\n                    <div class=\"inner-padding b-radius-10 surface-stylized\">\n                        ${text}\n                    </div>\n                </div>\n                <div class=\"buttons-container\"></div>\n            `;\n            list.style['z-index'] = 3;\n            list.style['background'] = 'var(--background-d)';\n            \n            list.close = function(){\n                list.remove();\n            }\n\n        const btnContainer = list.querySelector('.buttons-container');\n        buttons.forEach(def => {\n            if(def._ignore) return;\n\n            const btn = document.createElement(def.link ? 'a' : 'button');\n            if(def.link){\n                btn.href = def.link;\n                btn.target = '_blank';\n            }\n            btn.innerHTML = def.name;\n            btn.className = `generic-btn stylized ${def.class || ''}`;\n            btn.disabled = def._disable;\n            if(def.name == 'back') btn.className += ' back-btn';\n            btn.onclick = () => {\n                if(!def.onclick()) list.close();\n            }\n            btnContainer.appendChild(btn);\n        });\n\n        document.querySelector('.screen-wrapper').appendChild(list);\n        return list;\n    },\n    displayPrompt: function(text, buttons, defaultValue){\n        let list = document.querySelector('.cloneables .generic-list-container').cloneNode(true);\n            list.classList.add('prompt');\n            list.innerHTML = `\n                <div class=\"uppercase flex-center\">\n                    <div class=\"inner-padding b-radius-10 surface-stylized\">\n                        ${text}\n                    </div>\n                </div>\n                <div class=\"buttons-container\"></div>\n            `;\n            list.style['z-index'] = 3;\n            \n            list.close = function(){\n                list.remove();\n            }\n            \n        const btnContainer = list.querySelector('.buttons-container');\n\n        let input = document.createElement('input');\n            input.setAttribute('spellcheck', false);\n        if(defaultValue !== undefined) input.value = defaultValue;\n\n        list.insertBefore(input, btnContainer);\n\n        buttons.forEach(def => {\n            if(def._ignore) return;\n\n            const btn = document.createElement('button');\n            btn.innerHTML = def.name;\n            btn.className = `generic-btn stylized ${def.class || ''}`;\n            btn.onclick = () => {\n                if(!def.onclick(input.value)) list.close();\n            }\n            btnContainer.appendChild(btn);\n        });\n\n        document.querySelector('.screen-wrapper').appendChild(list);\n        input.focus();\n        return list;\n    },\n    displayEmpty: function(addClass){\n        let display = document.querySelector('.cloneables .generic-empty-container').cloneNode(true);\n        if(addClass) display.className += ' ' + addClass;\n        document.querySelector('.screen-wrapper').appendChild(display);\n        display.close = function(){\n            display.remove();\n        }\n        return display;\n    },\n    displayUiModal: function(content){\n        let modal = document.createElement('div');\n            modal.className = 'modal';\n            modal.innerHTML = content;\n        document.body.appendChild(modal);\n    },\n    getBadge: function(text, color, expirationDate){\n        if(!text && text !== '') text = 'new!';\n        if(!color) color = 'red';\n\n        if(expirationDate){\n            if(_libs_moment__WEBPACK_IMPORTED_MODULE_3___default()(expirationDate).isBefore(_libs_moment__WEBPACK_IMPORTED_MODULE_3___default()())) return '';\n        }\n\n        return `<span class=\"badge ${color}\">${text}<span>`;\n    },\n    drawUI: function(){\n        App.drawer.drawImmediate({\n            x: 5,\n            y: 50,\n            width: 25,\n            height: 25,\n            // image: \"resources/img/background/house/kitchen_01.png\",\n            text: 'HEY',\n        })\n    },\n    initSound: function(){\n        this.audioChannelIsBusy = false;\n        this.audioElement = new Audio();\n        this.audioElement.volume = 0.5;\n        this.audioElement.addEventListener('ended', () => {\n            this.audioElement.currentTime = 0;\n            this.audioChannelIsBusy = false;\n        });\n\n        // button click event\n        const clickSoundClassNames = ['click-sound', 'list-item'];\n        const backSoundClassNames = ['back-btn', 'back-sound'];\n        document.addEventListener('click', (e) => {\n\n            // sfx\n            if(clickSoundClassNames.some(n => e.target.classList.contains(n)) || e.target.nodeName.toLowerCase() === 'button' || e.target.parentElement?.nodeName.toLowerCase() === 'button'){\n                App.vibrate();\n                if(backSoundClassNames.some(n => e.target.classList.contains(n)) || e.target.textContent.toLowerCase() == 'back')\n                    this.playSound(`resources/sounds/ui_click_02.ogg`, true);\n                else\n                    this.playSound(`resources/sounds/ui_click_01.ogg`, true);\n            }\n\n            // menu animation\n            if(e.target.classList.contains('back-btn') || e.target.parentElement?.classList.contains('back-btn')){\n                const previousListItem = [...document.querySelectorAll('.screen-wrapper .generic-list-container')].at(-1);\n                if(previousListItem){\n                    previousListItem.transitionAnim?.();\n                    [...previousListItem.children].forEach(child => child?._mount?.(child));\n                }\n                _UiHelper__WEBPACK_IMPORTED_MODULE_9__.UI.lastClickedButton = null;\n            }\n        })\n    },\n    formatTo12Hours: function(hour){\n        return hour > 12 ? hour - 12 + 'pm' : hour + 'am';\n    },\n    getDayId: function(forCurrentUser){\n        if(forCurrentUser){\n            return +(\n                App.getDayId() + (App.userId || 1234)\n            ).slice(0, 16);\n        }\n\n        const date = new Date();\n        return +`${date.getFullYear()}${date.getMonth()}${date.getDate() + 2}`;\n    },\n    isSalesDay: function(){\n        let day = new Date().getDate();\n        return [7, 12, 18, 20, 25, 29, 30].includes(day);\n    },\n    isDuringChristmas: function(){\n        return _libs_moment__WEBPACK_IMPORTED_MODULE_3___default()().isBetween(\n            _libs_moment__WEBPACK_IMPORTED_MODULE_3___default()(App.constants.CHRISTMAS_TIME.start, 'MM-DD'),\n            _libs_moment__WEBPACK_IMPORTED_MODULE_3___default()(App.constants.CHRISTMAS_TIME.end, 'MM-DD'),\n            null, '[]');\n    },\n    isChristmasDay: function(){\n        return _libs_moment__WEBPACK_IMPORTED_MODULE_3___default()().isSame(\n            _libs_moment__WEBPACK_IMPORTED_MODULE_3___default()(App.constants.CHRISTMAS_TIME.absDay, 'MM-DD'), \n            'day');\n    },\n    isSleepHour: function(){\n        const hour = new Date().getHours();\n        return App.isWithinHour(\n            hour,\n            App.constants.SLEEP_START + App.settings.sleepingHoursOffset,\n            App.constants.SLEEP_END + App.settings.sleepingHoursOffset\n        );\n    },\n    isWithinHour: function(current, start, end){\n        start = App.clampWithin24HourFormat(start);\n        end = App.clampWithin24HourFormat(end);\n        current = App.clampWithin24HourFormat(current);\n        if (start <= end) {\n            return current >= start && current < end;\n        } else {\n            return current >= start || current < end;\n        }\n    },\n    clampWithin24HourFormat: function(hour){\n        if(hour >= 24) return hour - 24;\n        else if(hour < 0) return hour + 24;\n        return hour;\n    },\n    getFoodCSprite: function(index){\n        const {FOOD_SPRITESHEET_DIMENSIONS, FOOD_SPRITESHEET} = App.constants;\n        const size = \n            FOOD_SPRITESHEET_DIMENSIONS.rows \n                * FOOD_SPRITESHEET_DIMENSIONS.cellSize;\n        return `<c-sprite \n            naturalWidth=\"${size}\" \n            naturalHeight=\"${size}\" \n            width=\"${FOOD_SPRITESHEET_DIMENSIONS.cellSize}\" height=\"${FOOD_SPRITESHEET_DIMENSIONS.cellSize}\" \n            index=\"${(index - 1)}\"\n            src=\"${FOOD_SPRITESHEET}\"></c-sprite>`;\n    },\n    getItemCSprite: function(index){\n        return `<c-sprite width=\"22\" height=\"22\" index=\"${(index - 1)}\" src=\"resources/img/item/items.png\"></c-sprite>`\n    },\n    getAccessoryCSprite: function(name){\n        const current = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.accessories[name];\n        const image = App.checkResourceOverride(current.icon || current.image);\n        return current.icon\n            ? `<div style=\"width: 1\"><img style=\"width: 36px; outline: none\" src=\"${image}\"></img></div>`\n            : `<c-sprite width=\"64\" height=\"36\" index=\"0\" src=\"${image}\"></c-sprite>`;\n    },\n    isCompanionAllowed: function(room){\n        if(!room) room = App.currentScene;\n\n        const allowedScenes = [\n            App.scene.home, \n            App.scene.bathroom, \n            App.scene.kitchen,\n            App.scene.graveyard,\n            App.scene.parentsHome,\n        ];\n\n        return allowedScenes.includes(room);\n    },\n    playSound: function(path, force){\n        if(!App.settings.playSound) return;\n\n        if(this.audioChannelIsBusy && !force) return false;\n\n        if(this.audioElement.src != path)\n            this.audioElement.src = path;\n        this.audioElement.play();\n        this.audioChannelIsBusy = true;\n    },\n    save: function(noIndicator){\n        // setCookie('pet', App.pet.serializeStats(), 365);\n        window.localStorage.setItem('pet', App.pet.serializeStats());\n        window.localStorage.setItem('settings', JSON.stringify(App.settings));\n        window.localStorage.setItem('last_time', Date.now());\n        // window.localStorage.setItem('last_time', Date.now() - 86400 * 1000 * 10);\n        window.localStorage.setItem('user_id', App.userId);\n        window.localStorage.setItem('user_name', App.userName);\n        window.localStorage.setItem('ingame_events_history', JSON.stringify(App.gameEventsHistory));\n        window.localStorage.setItem('play_time', App.playTime);\n        window.localStorage.setItem('shell_background_v2.1', App.shellBackground);\n        window.localStorage.setItem('mods', JSON.stringify(App.mods));\n        window.localStorage.setItem('records', JSON.stringify(App.records));\n        window.localStorage.setItem('room_customization', JSON.stringify({\n            home: {\n                image: App.scene.home.image,\n            }\n        }))\n        window.localStorage.setItem('missions', JSON.stringify({\n            current: _Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.current,\n            currentStep: _Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.currentStep,\n            currentPts: _Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.currentPts,\n            refreshTime: _Missions__WEBPACK_IMPORTED_MODULE_4__.Missions.refreshTime\n        }))\n        // -3600000\n        if(!noIndicator){\n            const saveIcon = document.querySelector('.save-indicator');\n            saveIcon.style.display = '';\n            setTimeout(() => saveIcon.style.display = 'none', 2000);\n        }\n    },\n    load: function(){\n        let pet = window.localStorage.getItem('pet');\n            pet = pet ? JSON.parse(pet) : {};\n\n        let settings = window.localStorage.getItem('settings');\n            settings = settings ? JSON.parse(settings) : null;\n\n        let lastTime = window.localStorage.getItem('last_time') || false;\n\n        let eventsHistory = window.localStorage.getItem('ingame_events_history');\n            eventsHistory = eventsHistory ? JSON.parse(eventsHistory) : null;\n\n        let roomCustomizations = window.localStorage.getItem('room_customization');\n        roomCustomizations = roomCustomizations ? JSON.parse(roomCustomizations) : null;\n\n        let mods = window.localStorage.getItem('mods');\n        mods = mods ? JSON.parse(mods) : App.mods;\n\n        let records = window.localStorage.getItem('records');\n        records = records ? JSON.parse(records) : App.records;\n\n        // user\n        let userId = window.localStorage.getItem('user_id') || (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.random)(100000000000, 999999999999);\n        App.userId = userId;\n        let userName = window.localStorage.getItem('user_name');\n        App.userName = userName == 'null' ? null : userName;\n        \n        App.playTime = parseInt(window.localStorage.getItem('play_time') || 0);\n\n        let shellBackground = window.localStorage.getItem('shell_background_v2.1') || _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.shell_background[1].image;\n\n        let missions = window.localStorage.getItem('missions');\n        missions = missions ? JSON.parse(missions) : {};\n\n        App.loadedData = {\n            pet, \n            settings, \n            lastTime, \n            eventsHistory, \n            roomCustomizations, \n            shellBackground, \n            playTime: App.playTime, \n            mods,\n            records,\n            missions,\n        };\n\n        return App.loadedData;\n    },\n    loadFromJson: function(json){\n        const ignoreKeys = [\n            'user_name',\n            'user_id',\n            'play_time',\n            'last_time',\n            'mods',\n        ]\n        App.save();\n        App.save = () => {};\n        for(let key of Object.keys(json)){\n            if(ignoreKeys.includes(key)) continue;\n            window.localStorage.setItem(key, json[key]);\n        }\n        const allowedKeys = [...Object.keys(json), ...ignoreKeys];\n        Object.keys(localStorage).forEach(key => {\n            if(!allowedKeys.includes(key)){\n                window.localStorage.removeItem(key);\n            }\n        })\n    },\n    vibrate: function(dur){\n        if(!navigator?.vibrate || !App.settings.vibrate) return;\n        navigator?.vibrate(dur || 35);\n    },\n    sendAnalytics: function(type, value, force){\n        if(!force && App.ENV !== 'prod') return;\n\n        if(!type) type = 'default';\n\n        if(App.isOnItch) type += '_itch';\n        else if(App.isOnElectronClient) type += '_electron';\n\n        let user = (App.userName ? App.userName + '-' : '') + App.userId;\n        let url = `https://docs.google.com/forms/d/e/1FAIpQLSfzl5hhhnV3IAdxuA90ieEaeBAhCY9Bh4s151huzTMeByMwiw/formResponse?usp=pp_url&entry.1384465975=${user}&entry.1653037117=${App.petDefinition?.name || ''}&entry.1322693089=${type}&entry.1403809294=${value || ''}`;\n\n        fetch(url).catch(e => {});\n    },\n    installAsPWA: function() { \n        if(!App.deferredInstallPrompt) return false;\n        App.deferredInstallPrompt.prompt();\n        App.deferredInstallPrompt.userChoice.then((choiceResult) => {\n            if (choiceResult.outcome === 'accepted') {\n                App.sendAnalytics('pwa_install', navigator?.userAgent);\n            } else {\n                App.sendAnalytics('pwa_install_cancel', navigator?.userAgent);\n            }\n        });\n    },\n    setShellBackground: function(url){\n        if(!url) return;\n        document.querySelector(\"body > div.root > div.dom-shell\").style.backgroundImage = `url(${url})`;\n        document.querySelector(\".background\").style.backgroundImage = `url(${url})`;\n        App.shellBackground = url;\n\n        document.querySelector('.shell-btn.main').style.backgroundImage = `url(${App.shellBackground})`;\n        document.querySelector('.shell-btn.right').style.backgroundImage = `url(${App.shellBackground})`;\n        document.querySelector('.shell-btn.left').style.backgroundImage = `url(${App.shellBackground})`;\n        return true;\n    },\n    addNumToObject: function(obj, key, amount){\n        if(!obj[key]) obj[key] = amount;\n        else obj[key] += amount;\n    },\n    useWebcam: function(callback, facingMode, shutterDelay){\n        if(!facingMode) facingMode = 'environment';\n\n        const gameplayControlsState = App.getGameplayControlsState();\n        App.toggleGameplayControls(false);\n\n        let openStream;\n\n        function unloadWebcam(){\n            App.toggleGameplayControls(gameplayControlsState.state, gameplayControlsState.onclick);\n            openStream?.getTracks().forEach(function(track) {\n                track.stop();\n            });\n            videoContainer.remove();\n        }\n\n        function close(data){\n            if(callback) callback(data);\n            unloadWebcam();\n        }\n\n        function showError(){\n            App.displayConfirm(`Can't load the camera on this device`, [\n                {\n                    name: 'back',\n                    onclick: () => {\n                        close(-1);\n                    }\n                }\n            ])\n        }\n\n        if(!navigator?.mediaDevices) return showError();\n\n        const videoContainer = document.querySelector('.webcam-container').cloneNode(true);\n\n        const videoElement = videoContainer.querySelector('.webcam-video');\n        const webcamButton = videoContainer.querySelector('#webcam-button');\n        const webcamChangeButton = videoContainer.querySelector('#webcam-change-button');\n        const canvas = document.createElement('canvas');\n\n        document.querySelector('.screen-wrapper').appendChild(videoContainer);\n\n        videoElement.onplaying = () => {\n            webcamButton.style.display = 'initial';\n        }\n\n        webcamButton.onclick = () => {\n            webcamButton.disabled = true;\n            videoElement.pause();\n            videoElement.classList.add('taken');\n\n            const context = canvas.getContext(\"2d\");\n            canvas.width = document.querySelector('.screen-wrapper').clientWidth;\n            canvas.height = document.querySelector('.screen-wrapper').clientHeight;\n            context.drawImage(videoElement, 0, 0, canvas.width, canvas.height);\n            const data = canvas.toDataURL(\"image/png\");\n\n            setTimeout(() => {\n                close(data);\n            }, (shutterDelay || 250));\n        }\n\n        webcamChangeButton.onclick = () => {\n            unloadWebcam();\n            // videoContainer.remove();\n            App.useWebcam(callback, facingMode == 'user' ? 'environment' : 'user');\n        }\n\n        navigator?.mediaDevices\n            .getUserMedia({\n                // video: true,\n                video: {\n                    facingMode: facingMode\n                }\n                // audio: true,\n            })\n            .then((stream) => {\n                openStream = stream;\n                videoElement.srcObject = stream;\n                videoElement.addEventListener(\"loadedmetadata\", () => {\n                    videoElement.play();\n                });\n            })\n            .catch(() => {\n                videoContainer.remove();\n                showError();\n            });\n    },\n    createNotification: function(title, body){\n        if(!App.settings.notifications) return false;\n\n        const options = {\n          body: body,\n          icon: `android-icon-48x48.png`,\n        }\n        new Notification(title, options);\n    },\n    checkPetStats: function(){\n        if(!App.isTester()) return setTimeout(() => App.checkPetStats(), 10000);\n\n        console.log('checking pet stat');\n        App.createNotification('this is on testing interval', `Hello my name is ${Math.random()}`)\n        setTimeout(() => {\n            App.checkPetStats()\n        }, 10000)\n    },\n    getIcon: function(iconName, noRightMargin){\n        return `<i class=\"fa-solid fa-${iconName}\" style=\"${!noRightMargin ? 'margin-right:10px' : ''}\"></i>`\n    },\n    apiService: {\n        ENDPOINT: 'https://script.google.com/macros/s/AKfycbxCa6Yo_VdK5t9T7ZCHabxT1EY-xACEC3VUDHgkkwGdduF2U5VMGlp0KXBu9CtE8cWv9Q/exec',\n        ENDPOINT_TEST: 'https://script.google.com/macros/s/AKfycbzvoH9j7Ia0Zc_dCBXXYI6dB9UlUR_tGGr1J5Gsu2DG/dev',\n        _getUid: () => {\n            return App.userName + '-' + App.userId;\n        },\n        sendRequest: async (params, handler) => {\n            return new Promise((resolve, reject) => {\n                fetch(`${App.apiService.ENDPOINT}?${params.toString()}`)\n                .then(response => response.json())\n                .then(json => {\n                    const handledResult = handler?.(json, false)\n                    resolve(handledResult ?? json);\n                })\n                .catch(e => {\n                    const handledResult = handler?.(e, true)\n                    resolve(handledResult ?? {error: e})\n                })\n            })\n        },\n        addPetDef: (petDef) => {\n            const params = new URLSearchParams({\n                action: 'addPetDef',\n                userId: App.apiService._getUid(),\n                data: JSON.stringify({\n                    name: App.petDefinition.name,\n                    sprite: App.petDefinition.sprite,\n                    accessories: App.petDefinition.accessories,\n                })\n            });\n            return App.apiService.sendRequest(params);\n        },\n        getPetDef: (userId) => {\n            if(!userId) userId = App.apiService._getUid();\n            const params = new URLSearchParams({\n                action: 'getPetDef',\n                userId: userId,\n            });\n            return App.apiService.sendRequest(params);\n        },\n        getRandomPetDefs: (amount) => {\n            const params = new URLSearchParams({\n                action: 'getRandomPetDefs',\n                amount: amount ?? 10,\n            });\n            const handler = (json, error) => {\n                if(error) return false;\n                if(json){\n                    return json.data\n                    .filter(petDef => petDef.owner != App.userName)\n                    .map(petDef =>\n                        new _PetDefinition__WEBPACK_IMPORTED_MODULE_7__.PetDefinition({\n                            ...petDef,\n                            name: profanityCleaner.clean((0,_Utils__WEBPACK_IMPORTED_MODULE_10__.sanitize)(petDef.name)),\n                            owner: profanityCleaner.clean((0,_Utils__WEBPACK_IMPORTED_MODULE_10__.sanitize)(petDef.owner)),\n                            sprite: (0,_Utils__WEBPACK_IMPORTED_MODULE_10__.sanitize)(petDef.sprite),\n                            ownerId: petDef.ownerId,\n                            interactions: petDef.interactions,\n                        })\n                    );\n                }\n            }\n            return App.apiService.sendRequest(params, handler);\n        },\n        addInteraction: (ownerId) => {\n            const params = new URLSearchParams({\n                action: 'addUserInteraction',\n                ownerId,\n                interactingUserId: App.apiService._getUid(),\n            });\n            return App.apiService.sendRequest(params);\n        }\n    }\n}\n\n//# sourceURL=webpack:///./src/App.js?");

/***/ }),

/***/ "./src/Definitions.js":
/*!****************************!*\
  !*** ./src/Definitions.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Definitions: () => (/* binding */ Definitions)\n/* harmony export */ });\nconst Definitions = {\n    /* MAIN MENU */\n    main_menu: [\n        {\n            name: '<i class=\"fa-solid fa-line-chart\"></i>',\n            name: '<i class=\"fa-solid fa-dashboard\"></i>',\n            onclick: () => {\n                App.handlers.open_stats_menu();\n            }\n        },\n        {\n            name: '<i class=\"fa-solid fa-cutlery\"></i>',\n            onclick: () => {\n                App.handlers.open_feeding_menu();\n            }\n        },\n        {\n            name: '<i class=\"fa-solid fa-bath\"></i>',\n            onclick: () => {\n                // App.handlers.clean();\n                App.handlers.open_bathroom_menu();\n            }\n        },\n        {\n            name: `<i class=\"fa-solid fa-house-chimney-user\"></i>`,\n            onclick: () => {\n                App.handlers.open_care_menu();\n            }\n        },\n        {\n            name: '<i class=\"fa-solid fa-door-open\"></i>',\n            onclick: () => {\n                App.handlers.open_activity_list();\n            }\n        },\n        {\n            name: '<i class=\"fa-solid fa-box-open\"></i>',\n            onclick: () => {\n                App.handlers.open_stuff_menu();\n            }\n        },\n        {\n            name: '<i class=\"fa-solid fa-mobile-alt\"></i>',\n            onclick: () => {\n                App.handlers.open_phone();\n            }\n        },\n        {\n            name: `<i class=\"fa-solid fa-gear\"></i>`,\n            onclick: () => {\n                App.handlers.open_settings();\n            }\n        },\n    ],\n\n    /* FOOD AND SNACKS */\n    food: {\n        // foods\n        \"bread\": {\n            sprite: 542,\n            hunger_replenish: 15,\n            fun_replenish: 0,\n            health_replenish: 2,\n            price: 2,\n            age: [1, 2],\n        },\n        \"pizza\": {\n            sprite: 515,\n            hunger_replenish: 40,\n            fun_replenish: 5,\n            health_replenish: -5,\n            price: 10,\n            age: [1, 2],\n        },\n        \"hamburger\": {\n            sprite: 2,\n            hunger_replenish: 40,\n            fun_replenish: 10,\n            health_replenish: -15,\n            price: 15,\n            age: [1, 2],\n        },\n        \"heart beef\": {\n            sprite: 881,\n            hunger_replenish: 30,\n            fun_replenish: 5,\n            health_replenish: -5,\n            price: 8,\n            age: [1, 2],\n        },\n        \"crab dish\": {\n            sprite: 456,\n            hunger_replenish: 50,\n            fun_replenish: 5,\n            health_replenish: 10,\n            price: 20,\n            age: [2],\n        },\n        \"paster\": {\n            sprite: 734,\n            hunger_replenish: 25,\n            fun_replenish: 0,\n            health_replenish: 0,\n            price: 8,\n            age: [1, 2],\n        },\n        \"king burger\": {\n            sprite: 710,\n            hunger_replenish: 100,\n            fun_replenish: 50,\n            health_replenish: -40,\n            price: 40,\n            age: [2],\n        },\n        \"sushi\": {\n            sprite: 605,\n            hunger_replenish: 15,\n            fun_replenish: 10,\n            health_replenish: 5,\n            price: 12,\n            age: [1, 2],\n        },\n        \"sushi set\": {\n            sprite: 169,\n            hunger_replenish: 40,\n            fun_replenish: 10,\n            health_replenish: 20,\n            price: 30,\n            age: [2],\n        },\n        \"sunny savory soup\": {\n            sprite: 584,\n            hunger_replenish: 25,\n            fun_replenish: 0,\n            health_replenish: 25,\n            price: 15,\n            age: [1, 2],\n        },\n        \"crabstew\": {\n            sprite: 635,\n            hunger_replenish: 25,\n            fun_replenish: 0,\n            health_replenish: 30,\n            price: 20,\n            age: [1, 2],\n        },\n        \"spicy dragon pot\": {\n            sprite: 719,\n            hunger_replenish: 30,\n            fun_replenish: 0,\n            health_replenish: 10,\n            price: 20,\n            age: [1, 2],\n        },\n        \"fish dish\": {\n            sprite: 575,\n            hunger_replenish: 35,\n            fun_replenish: 5,\n            health_replenish: 20,\n            price: 22,\n            age: [1, 2],\n        },\n        \"forest fungi stew\": {\n            sprite: 638,\n            hunger_replenish: 10,\n            fun_replenish: 0,\n            health_replenish: 20,\n            price: 7,\n            age: [1, 2],\n        },\n        \"star nuggies\": {\n            sprite: 707,\n            hunger_replenish: 15,\n            fun_replenish: 10,\n            health_replenish: 0,\n            price: 8,\n            age: [1, 2],\n        },\n        \"tacos\": {\n            sprite: 767,\n            hunger_replenish: 20,\n            fun_replenish: 5,\n            health_replenish: 0,\n            price: 10,\n            age: [1, 2],\n        },\n        \"sambooseh\": {\n            sprite: 860,\n            hunger_replenish: 10,\n            fun_replenish: 0,\n            health_replenish: 0,\n            price: 5,\n            age: [1, 2],\n        },\n        \"pie\": {\n            sprite: 518,\n            hunger_replenish: 15,\n            fun_replenish: 0,\n            health_replenish: 0,\n            price: 10,\n            age: [1, 2],\n        },\n        \"lasagna\": {\n            sprite: 797,\n            hunger_replenish: 20,\n            fun_replenish: 10,\n            health_replenish: -5,\n            price: 20,\n            age: [1, 2],\n        },\n        \"red bowol\": {\n            sprite: 611,\n            hunger_replenish: 30,\n            fun_replenish: 5,\n            health_replenish: 2,\n            price: 25,\n            age: [1, 2],\n        },\n        \"noodles\": {\n            sprite: 557,\n            hunger_replenish: 18,\n            fun_replenish: 2,\n            health_replenish: 0,\n            price: 15,\n            age: [1, 2],\n        },\n        \"drumstick\": {\n            sprite: 460,\n            hunger_replenish: 20,\n            fun_replenish: 2,\n            health_replenish: 4,\n            price: 10,\n            age: [1, 2],\n        },\n        \"veggiesoup\": {\n            sprite: 463,\n            hunger_replenish: 23,\n            fun_replenish: -15,\n            health_replenish: 10,\n            price: 12,\n            age: [0, 1, 2],\n        },\n        \"cheese n breakfast\": {\n            sprite: 364,\n            hunger_replenish: 25,\n            fun_replenish: 5,\n            health_replenish: 10,\n            price: 13,\n            age: [1, 2],\n        },\n        \"breadrolls\": {\n            sprite: 554,\n            hunger_replenish: 20,\n            fun_replenish: 5,\n            health_replenish: 2,\n            price: 20,\n            age: [1, 2],\n        },\n        \"sweetbread\": {\n            sprite: 713,\n            hunger_replenish: 15,\n            fun_replenish: 0,\n            health_replenish: 10,\n            price: 10,\n            age: [1, 2],\n        },\n        \"meatballs\": {\n            sprite: 951,\n            hunger_replenish: 30,\n            fun_replenish: 0,\n            health_replenish: 0,\n            price: 15,\n            age: [1, 2],\n        },\n        \"xiao long bao\": {\n            sprite: 602,\n            hunger_replenish: 10,\n            fun_replenish: 0,\n            health_replenish: 5,\n            price: 7,\n            age: [1, 2],\n        },\n        \"spaghetti\": {\n            sprite: 219,\n            hunger_replenish: 30,\n            fun_replenish: 3,\n            health_replenish: 0,\n            price: 5,\n            age: [1, 2],\n        },\n        \"telesushi\": {\n            sprite: 163,\n            hunger_replenish: 45,\n            fun_replenish: 5,\n            health_replenish: 15,\n            price: 25,\n            age: [1, 2],\n        },\n        \"s-special dish\": {\n            sprite: 506,\n            hunger_replenish: 28,\n            fun_replenish: 0,\n            health_replenish: 10,\n            price: 20,\n            age: [1, 2],\n        },\n\n    \n        // treats\n        \"koluche\": {\n            sprite: 1030,\n            hunger_replenish: 25,\n            fun_replenish: 5,\n            health_replenish: 5,\n            price: 8,\n            age: [1, 2],\n            type: 'treat',\n        },\n        \"jelly\": {\n            sprite: 1013,\n            hunger_replenish: 8,\n            fun_replenish: 20,\n            health_replenish: 0,\n            price: 10,\n            age: [1, 2],\n            type: 'treat',\n        },\n        \"chocolate pie\": {\n            sprite: 1010,\n            hunger_replenish: 10,\n            fun_replenish: 8,\n            health_replenish: 0,\n            price: 8,\n            age: [1, 2],\n            type: 'treat',\n        },\n        \"lollipop\": {\n            sprite: 1033,\n            hunger_replenish: 5,\n            fun_replenish: 35,\n            health_replenish: 0,\n            price: 5,\n            age: [0, 1, 2],\n            type: 'treat',\n        },\n        \"vanilla icecream\": {\n            sprite: 1024,\n            hunger_replenish: 10,\n            fun_replenish: 30,\n            health_replenish: 0,\n            price: 10,\n            age: [0, 1, 2],\n            type: 'treat',\n        },\n        \"strawberry icecream\": {\n            sprite: 902,\n            hunger_replenish: 10,\n            fun_replenish: 30,\n            health_replenish: 0,\n            price: 10,\n            age: [0, 1, 2],\n            type: 'treat',\n        },\n        \"scoped icecream\": {\n            sprite: 1007,\n            hunger_replenish: 15,\n            fun_replenish: 30,\n            health_replenish: 0,\n            price: 12,\n            age: [0, 1, 2],\n            type: 'treat',\n        },\n        \"snacks and bits\": {\n            sprite: 1001,\n            hunger_replenish: 15,\n            fun_replenish: 20,\n            health_replenish: 0,\n            price: 15,\n            age: [1, 2],\n            type: 'treat',\n        },\n        \"lemonade\": {\n            sprite: 971,\n            hunger_replenish: 5,\n            fun_replenish: 25,\n            health_replenish: 0,\n            price: 10,\n            age: [1, 2],\n            type: 'treat',\n        },\n        \"cupcake\": {\n            sprite: 974,\n            hunger_replenish: 15,\n            fun_replenish: 30,\n            health_replenish: 0,\n            price: 10,\n            age: [0, 1, 2],\n            type: 'treat',\n        },\n        \"cappuccino\": {\n            sprite: 878,\n            hunger_replenish: 2,\n            fun_replenish: 25,\n            health_replenish: 0,\n            price: 7,\n            age: [1, 2],\n            type: 'treat',\n        },\n        \"strawberry donut\": {\n            sprite: 954,\n            hunger_replenish: 10,\n            fun_replenish: 15,\n            health_replenish: 0,\n            price: 5,\n            age: [0, 1, 2],\n            type: 'treat',\n        },\n        \"choco cake slice\": {\n            sprite: 998,\n            hunger_replenish: 10,\n            fun_replenish: 10,\n            health_replenish: 0,\n            price: 5,\n            age: [1, 2],\n            type: 'treat',\n        },\n        \"cotton candy\": {\n            sprite: 995,\n            hunger_replenish: 15,\n            fun_replenish: 25,\n            health_replenish: 0,\n            price: 12,\n            age: [0, 1, 2],\n            type: 'treat',\n        },\n        \"cream icepack\": {\n            sprite: 488,\n            hunger_replenish: 10,\n            fun_replenish: 25,\n            health_replenish: 0,\n            price: 10,\n            age: [1, 2],\n            type: 'treat',\n        },\n        \"bunny mooko\": {\n            sprite: 450,\n            hunger_replenish: 20,\n            fun_replenish: 30,\n            health_replenish: 0,\n            price: 14,\n            age: [0, 1, 2],\n            type: 'treat',\n        },\n        \"paloodeh\": {\n            sprite: 378,\n            hunger_replenish: 5,\n            fun_replenish: 25,\n            health_replenish: 0,\n            price: 8,\n            age: [1, 2],\n            type: 'treat',\n        },\n\n\n\n        // groc\n        /* \"broccoli\": {\n            sprite: 632,\n            hunger_replenish: 15,\n            fun_replenish: 0,\n            health_replenish: 10,\n            price: 3,\n            age: [1, 2],\n        }, */\n\n\n\n        // other\n        \"milk\": {\n            sprite: 1036,\n            hunger_replenish: 50,\n            fun_replenish: 10,\n            price: 0,\n            age: [0],\n        },\n        \"medicine\": {\n            sprite: 1050,\n            hunger_replenish: 0,\n            fun_replenish: -20,\n            health_replenish: 999,\n            price: 20,\n            type: 'med',\n            age: [0, 1, 2],\n        },\n        \"sleep replacement\": {\n            sprite: 1050,\n            hunger_replenish: -25,\n            fun_replenish: -20,\n            sleep_replenish: 999,\n            price: 120,\n            type: 'med',\n            age: [0, 1, 2],\n            isNew: false,\n        },\n    },\n\n    /* ITEMS */\n    item: {\n        \"foxy\": {\n            sprite: 1,\n            fun_replenish: 20,\n            price: 50,\n            interaction_time: 12000,\n            interruptable: true,\n        },\n        \"dumble\": {\n            sprite: 2,\n            fun_replenish: 10,\n            price: 100\n        },\n        \"music player\": {\n            sprite: 3,\n            fun_replenish: 20,\n            price: 65\n        },\n        \"ball\": {\n            sprite: 4,\n            fun_replenish: 30,\n            price: 35,\n            interaction_time: 100000,\n            interruptable: true,\n        },\n        \"smartphone\": {\n            sprite: 5,\n            fun_replenish: 80,\n            price: 350,\n            interaction_time: 100000,\n            interruptable: true,\n        },\n        \"magazine\": {\n            sprite: 6,\n            fun_replenish: 10,\n            price: 20,\n            interaction_time: 60000,\n            interruptable: true,\n        },\n        \"microphone\": {\n            sprite: 7,\n            fun_replenish: 20,\n            price: 75,\n            interaction_time: 60000,\n            interruptable: true,\n        },\n    },\n\n    /* ROOM BACKGROUNDS */\n    room_background: {\n        \"blue\": {\n            image: 'resources/img/background/house/02.png',\n            price: 200,\n            isNew: false,\n        },\n        \"peachy\": {\n            image: 'resources/img/background/house/03.png',\n            price: 250,\n            isNew: false,\n        },\n        \"princess\": {\n            image: 'resources/img/background/house/04.png',\n            price: 300,\n            isNew: false,\n        },\n        \"futura\": {\n            image: 'resources/img/background/house/05.png',\n            price: 200,\n            isNew: false,\n        },\n        \"rainbow\": {\n            image: 'resources/img/background/house/06.png',\n            price: 250,\n            isNew: false,\n        },\n        \"wooden\": {\n            image: 'resources/img/background/house/07.png',\n            price: 300,\n            isNew: false,\n        },\n        \"silky retreat\": {\n            image: 'resources/img/background/house/ex_01.png',\n            price: 0,\n            isNew: false,\n            onlineShopAccessible: true,\n            unlockLikes: 80,\n            unlockKey: 'bg_silky_retreat',\n        },\n        \"silky (sky)\": {\n            image: 'resources/img/background/house/ex_01_fs.png',\n            price: 0,\n            isNew: false,\n            onlineShopAccessible: true,\n            unlockLikes: 80,\n            unlockKey: 'bg_silky_retreat_sky',\n        },\n        \"astra\": {\n            image: 'resources/img/background/house/cc_01.png',\n            price: 250,\n            isNew: false,\n        },\n        \"seafloor\": {\n            image: 'resources/img/background/house/cc_02.png',\n            price: 300,\n            isNew: false,\n        },\n    },\n\n    /* SHELL BACKGROUNDS */\n    shell_background: [\n        // default shell bg will be the first one here\n        {\n            image: 'resources/img/ui/shell_background_cloof_01.png',\n            name: 'cloofy',\n            isNew: false,\n            onlineShopAccessible: true,\n            unlockLikes: 30,\n            unlockKey: 'unlock_cloof_shell_bg',\n        },\n        {\n            image: 'resources/img/ui/shell_background_07.png',\n            isNew: false,\n        },\n        {\n            image: 'resources/img/ui/shell_background_08.png',\n            isNew: false,\n        },\n        {\n            image: 'resources/img/ui/shell_background_09.png',\n            isNew: false,\n        },\n        {\n            image: 'resources/img/ui/shell_background_10.png',\n            isNew: false,\n        },\n        {\n            image: 'resources/img/ui/shell_background_11.png',\n            isNew: false,\n        },\n        {\n            image: 'resources/img/ui/shell_background_02.png',\n        },\n        {\n            image: 'resources/img/ui/shell_background_01.png',\n        },\n        {\n            image: 'resources/img/ui/shell_background_03.png',\n        },\n        {\n            image: 'resources/img/ui/shell_background_04.png',\n        },\n        {\n            image: 'resources/img/ui/shell_background_05.png',\n        },\n        {\n            image: 'resources/img/ui/shell_background_06.png',\n        },\n    ],\n\n    /* ACCESSORIES */\n    accessories: {\n        \"crown\": {\n            image: 'resources/img/accessory/crown_01.png',\n            front: true,\n            price: 250,\n        },\n        'wings': {\n            image: 'resources/img/accessory/wings_01.png',\n            front: false,\n            price: 350,\n        },\n        'witch hat': {\n            image: 'resources/img/accessory/witch_hat_01.png',\n            front: true,\n            price: 300,\n        },\n        'frooties': {\n            image: 'resources/img/accessory/frooties_01.png',\n            front: false,\n            price: 200,\n        },\n        'secretary': {\n            icon: 'resources/img/accessory/secretary_01_icon.png',\n            image_sprite: 'resources/img/accessory/secretary_01.png',\n            front: false,\n            price: 500,\n            isNew: false,\n            createFn: function(parent){\n                const Z = parent.z - 0.1 || 4.9;\n                const spritesheet = {\n                    cellSize: 12,\n                    rows: 5,\n                    columns: 4,\n                }\n                const secretary = new Object2d({\n                    parent: parent,\n                    x: -100, y: -100,\n                    animationFloat: 0,\n                    bodyAnimationFloat: 0,\n                    movementMult: -10,\n                    targetMovementMult: 1,\n                    movementMultDirection: 1,\n                    lastScene: App.currentScene,\n                    currentPosition: {\n                        x: 0, y: 0,\n                    },\n                    targetPosition: {\n                        x: 0, y: 0, nextChangeMs: 0,\n                    },\n                    onDraw: (me) => {\n                        if(App.lastTime > me.targetPosition.nextChangeMs){\n                            me.targetPosition.nextChangeMs = App.lastTime + random(250, 2000);\n                            const followsParent = random(0, 1);\n                            if(followsParent && !isNaN(parent.x) && !isNaN(parent.y)){\n                                me.targetPosition.x = parent.x;\n                                me.targetPosition.y = parent.y - 40;\n                            } else {\n                                me.targetPosition.x = random(10, 90);\n                                me.targetPosition.y = random(-10, 50);\n                            }\n                            if(!random(0, 2)){\n                                me.movementMultDirection = -1 * me.movementMultDirection;\n                            }\n                            // me.movementMultDirection = followsParent ? 1 : -1;\n                        }\n\n                        \n                        if(me.lastScene != App.currentScene){\n                            me.lastScene = App.currentScene;\n                            me.currentPosition.y = -40;\n                        }\n                        if(!App.isCompanionAllowed()){\n                            me.x = -100;\n                            me.y = -100;\n                            return;\n                        }\n\n                        me.animationFloat += (0.005 * App.nDeltaTime) % App.PI2;\n                        me.bodyAnimationFloat += (0.0025 * App.nDeltaTime) % App.PI2;\n                        me.currentPosition.x = lerp(me.currentPosition.x, me.targetPosition.x, 0.0005 * App.nDeltaTime);\n                        me.x = me.currentPosition.x;\n                        me.currentPosition.y = lerp(me.currentPosition.y, me.targetPosition.y, 0.0005 * App.nDeltaTime);\n                        me.y = me.currentPosition.y + Math.sin(me.animationFloat);\n\n                        const xDiff = Math.abs(me.currentPosition.x - me.targetPosition.x);\n                        const yDiff = Math.abs(me.currentPosition.y - me.targetPosition.y);\n                        me.targetMovementMult = Math.max((xDiff + yDiff) * 0.1, 1);\n                        me.movementMult = lerp(me.movementMult, me.targetMovementMult * me.movementMultDirection, 0.01 * App.nDeltaTime);\n                    }\n                })\n\n                /* body */\n                const handleBody = (me, i) => {\n                    const spread = 6 + (secretary.movementMult * 0.5);\n                    const basePosition = {\n                        x: me.parent.x,\n                        y: me.parent.y\n                    }\n                    const localPosition = {\n                        x: 0, y: 0,\n                    }\n\n                    switch(i){\n                        case (0):\n                            localPosition.x = -spread;\n                            localPosition.y = -spread;\n\n                            break;\n                        case (1):\n                            localPosition.x = -spread;\n                            localPosition.y = spread;\n                            me.rotation = 180;\n                            me.inverted = true;\n                            break;\n                        case (2):\n                            localPosition.x = spread;\n                            localPosition.y = -spread;\n                            me.inverted = true;\n                            break;\n                        case (3):\n                            localPosition.x = spread;\n                            localPosition.y = spread;\n                            me.rotation = 180;\n                            break;\n                    }\n\n                    localPosition.y += Math.sin(secretary.bodyAnimationFloat + i) * 0.55;\n                    localPosition.y += Math.sin(secretary.bodyAnimationFloat + i) * 0.55;\n\n                    // me.rotation = i * 90;\n\n                    me.x = localPosition.x + basePosition.x;\n                    me.y = localPosition.y + basePosition.y;\n                }\n                for(let i = 0; i < 4; i++){\n                    new Object2d({\n                        parent: secretary,\n                        img: App.checkResourceOverride(this.image_sprite),\n                        x: 0, y: 0, z: Z,\n                        animationFloat: 0,\n                        spritesheet: {\n                            ...spritesheet, cellNumber: 1,\n                        },\n                        onDraw: (me) => handleBody(me, i),\n                        // composite: \"darken\"\n                    })\n                }\n\n                /* body */\n                const handleArrows = (me, i) => {\n                    const spread = 13 + secretary.movementMult;\n                    const basePosition = {\n                        x: me.parent.x,\n                        y: me.parent.y\n                    }\n                    const localPosition = {\n                        x: 0, y: 0\n                    }\n\n                    const offsetMult = 10, strength = 0.8 + (-secretary.movementMult * 0.25);\n                    switch(i){\n                        case (0):\n                            localPosition.x = -spread;\n                            localPosition.y = -spread;\n                            me.inverted = true;\n                            localPosition.x += Math.sin(secretary.animationFloat - i * offsetMult) * strength;\n                            localPosition.y += Math.sin(secretary.animationFloat - i * offsetMult) * strength;\n                            break;\n                        case (1):\n                            localPosition.x = -spread;\n                            localPosition.y = spread;\n                            me.inverted = true;\n                            me.rotation = -90;\n                            localPosition.x += Math.sin(secretary.animationFloat - i * offsetMult) * strength;\n                            localPosition.y -= Math.sin(secretary.animationFloat - i * offsetMult) * strength;\n                            break;\n                        case (2):\n                            localPosition.x = spread;\n                            localPosition.y = -spread;\n                            localPosition.x -= Math.sin(secretary.animationFloat - i * offsetMult) * strength;\n                            localPosition.y += Math.sin(secretary.animationFloat - i * offsetMult) * strength;\n                            break;\n                        case (3):\n                            localPosition.x = spread;\n                            localPosition.y = spread;\n                            me.rotation = 90;\n                            localPosition.x -= Math.sin(secretary.animationFloat - i * offsetMult) * strength;\n                            localPosition.y -= Math.sin(secretary.animationFloat - i * offsetMult) * strength;\n                            break;\n                    }\n\n                    localPosition.y += Math.sin(secretary.bodyAnimationFloat + i) * 0.55;\n                    localPosition.y += Math.sin(secretary.bodyAnimationFloat + i) * 0.55;\n\n                    me.x = localPosition.x + basePosition.x;\n                    me.y = localPosition.y + basePosition.y;\n                }\n                for(let i = 0; i < 4; i++){\n                    new Object2d({\n                        parent: secretary,\n                        img: App.checkResourceOverride(this.image_sprite),\n                        x: 0, y: 0, z: Z,\n                        spritesheet: {\n                            ...spritesheet, cellNumber: 3,\n                        },\n                        onDraw: (me) => handleArrows(me, i),\n                        // composite: \"darken\"\n                    })\n                }\n\n                /* head */\n                new Object2d({\n                    parent: secretary,\n                    img: App.checkResourceOverride(this.image_sprite),\n                    x: 0, y: 0, z: Z,\n                    spritesheet: {\n                        ...spritesheet, cellNumber: 2,\n                    },\n                    onDraw: (me) => {\n                        me.x = me.parent.x;\n                        me.y = me.parent.y;\n                        me.rotation = Math.sin(secretary.bodyAnimationFloat) * 45 * secretary.movementMult;\n                    },\n                    // composite: \"darken\"\n                })\n\n                /* light */\n                new Object2d({\n                    parent: secretary,\n                    img: App.checkResourceOverride(this.image_sprite),\n                    x: 0, y: 0, z: Z - 0.1,\n                    spritesheet: {\n                        ...spritesheet, cellNumber: 4,\n                    },\n                    onDraw: (me) => {\n                        me.x = me.parent.x;\n                        me.y = me.parent.y;\n                        // me.rotation = Math.sin(secretary.bodyAnimationFloat) * 45 * secretary.movementMult;\n                        me.scale = 1.3 + Math.abs(Math.sin(secretary.animationFloat) * 0.1);\n                        me.opacity = Math.abs(Math.sin(secretary.bodyAnimationFloat) * 0.3);\n                    },\n                    composite: \"lighten\",\n                    opacity: 0.1,\n                })\n\n                return secretary;\n            }\n        },\n        'mini band': {\n            icon: 'resources/img/accessory/mini_band_01_icon.png',\n            image: 'resources/img/accessory/mini_band_01.png',\n            front: true,\n            price: 200,\n            isNew: false,\n        },\n        'cloof': {\n            icon: 'resources/img/accessory/cloof_01.png',\n            image_sprite: 'resources/img/accessory/cloof_01.png',\n            front: false,\n            price: 0,\n            isNew: false,\n            onlineShopAccessible: true,\n            unlockLikes: 50,\n            unlockKey: 'unlock_cloof',\n            createFn: function(parent){\n                const Z = parent.z - 0.0001 || 4.9;\n                const spritesheet = {\n                    cellSize: 12,\n                    rows: 5,\n                    columns: 4,\n                }\n                const cloof = new Object2d({\n                    img: 'resources/img/accessory/cloof_01.png',\n                    parent: parent,\n                    x: 0, y: -999,\n                    animationFloatX: 0,\n                    animationFloatY: Math.PI,\n                    currentPosition: {\n                        x: 0, y: 0,\n                    },\n                    targetPosition: {\n                        x: 0, y: 0, nextChangeMs: 0,\n                    },\n                    onDraw: (me) => {\n                        me.animationFloatX = (me.animationFloatX + 0.0035 * App.deltaTime) % App.PI2;\n                        me.animationFloatY = (me.animationFloatY + 0.0025 * App.deltaTime) % App.PI2;\n                        const additionalMotionX = Math.sin(me.animationFloatX) * 2;\n                        const additionalMotionY = Math.sin(me.animationFloatY) * 3;\n                        me.x = parent.x + additionalMotionX;\n                        me.y = parent.y - 40 - (App.pet.spritesheet.offsetY ?? 0) + additionalMotionY;\n\n                        if(!App.isCompanionAllowed()){\n                            me.x = -100;\n                            me.y = -100;\n                            return;\n                        }\n                    }\n                })\n\n                return cloof;\n            }\n        }\n    },\n\n    /* ACHIEVEMENTS */\n    achievements: {\n        pat_x_times: {\n            name: 'Pat! Pat! Pat!',\n            description: 'Pet your buddy 100 times!',\n            checkProgress: () => App.getRecord('times_patted') >= 100,\n            advance: (amount) => App.addRecord('times_patted', amount),\n            getReward: () => {\n                App.pet.stats.gold += 150;\n                App.displayPopup(`You've received $150!`);\n            }\n        },\n        use_toilet_x_times: {\n            name: 'Toilet Master',\n            description: 'Have your pets go to the toilet 5 times',\n            checkProgress: () => App.getRecord('times_used_toilet') >= 5,\n            advance: (amount) => App.addRecord('times_used_toilet', amount),\n            getReward: () => {\n                App.pet.stats.gold += 150;\n                App.displayPopup(`You've received $150!`);\n            }\n        },\n        marry_x_times: {\n            name: 'Serial Marrier',\n            description: 'Marry off your pets 5 times',\n            checkProgress: () => App.getRecord('times_married') >= 5,\n            advance: (amount) => App.addRecord('times_married', amount),\n            getReward: () => {\n                App.pet.stats.gold += 1000;\n                App.displayPopup(`You've received $1000!`);\n            }\n        },\n        birthday_x_times: {\n            name: 'Happy Birthday!',\n            description: 'Age up your pet',\n            checkProgress: () => App.getRecord('times_had_birthday') >= 1,\n            advance: (amount) => App.addRecord('times_had_birthday', amount),\n            getReward: () => {\n                App.pet.stats.gold += 150;\n                App.displayPopup(`You've received $150!`);\n            }\n        },\n        redecor_x_times: {\n            name: 'Interior Designer',\n            description: 'Redecor your room',\n            checkProgress: () => App.getRecord('times_redecorated_background') >= 1,\n            advance: (amount) => App.addRecord('times_redecorated_background', amount),\n            getReward: () => {\n                App.pet.stats.gold += 100;\n                App.displayPopup(`You've received $100!`);\n            }\n        },\n        give_gifts_x_times: {\n            name: 'Giftspreader',\n            description: 'Give 5 gifts to your friends',\n            checkProgress: () => App.getRecord('times_gave_gift') >= 5,\n            advance: (amount) => App.addRecord('times_gave_gift', amount),\n            getReward: () => {\n                App.pet.stats.gold += 500;\n                App.displayPopup(`You've received $500!`);\n            }\n        },\n        work_x_times: {\n            name: 'Workaholic',\n            description: 'Work for 10 shifts',\n            checkProgress: () => App.getRecord('times_worked') >= 10,\n            advance: (amount) => App.addRecord('times_worked', amount),\n            getReward: () => {\n                App.pet.stats.gold += 350;\n                App.displayPopup(`You've received $350!`);\n            }\n        },\n        go_to_vacation_x_times: {\n            name: 'Sightsee-er',\n            description: 'Take a vacation!',\n            checkProgress: () => App.getRecord('times_went_on_vacation') >= 1,\n            advance: (amount) => App.addRecord('times_went_on_vacation', amount),\n            getReward: () => {\n                App.pet.stats.gold += 150;\n                App.displayPopup(`You've received $150!`);\n            }  \n        },\n        not_propose_on_date_x_times: {\n            name: 'Heartbreaker',\n            description: `Go on successful dates but don't propose!`,\n            checkProgress: () => App.getRecord('times_not_proposed') >= 10,\n            advance: (amount) => App.addRecord('times_not_proposed', amount),\n            getReward: () => {\n                App.pet.stats.gold += 300;\n                App.displayPopup(`You've received $300!`);\n            }\n        },\n\n        // minigames\n        perfect_minigame_rodrush_win_x_times: {\n            name: 'Rod Rush Pro',\n            description: 'Win with perfect score in Rod Rush game 10 times',\n            checkProgress: () => App.getRecord('times_perfected_rodrush_minigame') >= 10,\n            advance: (amount) => App.addRecord('times_perfected_rodrush_minigame', amount),\n            getReward: () => {\n                App.pet.stats.gold += 500;\n                App.displayPopup(`You've received $500!`);\n            }\n        },\n        perfect_minigame_catch_win_x_gold: {\n            name: 'Money Catcher',\n            description: 'Win $125 in single game of Catch!',\n            required: 125,\n            checkProgress: () => App.getRecord('won_x_gold_in_catch_minigame') >= 1,\n            advance: () => App.addRecord('won_x_gold_in_catch_minigame', 1),\n            getReward: () => {\n                App.pet.stats.gold += 400;\n                App.displayPopup(`You've received $400!`);\n            }\n        },\n        perfect_minigame_mimic_win_x_times: {\n            name: 'Perfect Imitator',\n            description: 'Win with perfect score in Mimic game 10 times!',\n            checkProgress: () => App.getRecord('times_perfected_mimic_minigame') >= 10,\n            advance: (amount) => App.addRecord('times_perfected_mimic_minigame', amount),\n            getReward: () => {\n                App.pet.stats.gold += 500;\n                App.displayPopup(`You've received $500!`);\n            }\n        },\n    },\n\n    /* MAIL */\n    mail: {\n        affirmations: [\n            [\n                \"Breaking News: Local Hero Spreads Happiness with Every Step!\",\n                \"Our sources confirm that someone very special (hint: it’s you!) is making the world a better place just by being themselves.\",\n            ],\n            [\n                \"Forecast: Bright Days Ahead!\",\n                \"The future looks sunny and full of joy for our favorite reader! Keep smiling—good things are coming.\",\n            ],\n            [\n                \"Exclusive Interview: Experts Agree - You’re Doing Great!\",\n                \"According to experts, small steps lead to big success, and you’re right on track!\",\n            ],\n            [\n                \"Front Page Scoop: You’re Stronger Than You Think!\",\n                \"Recent studies reveal that strength and courage shine brightly in our favorite reader. Keep going!\",\n            ],\n            [\n                \"Community Spotlight: Heart of Gold Found Right Here!\",\n                \"In a heartwarming story, we’ve discovered a true gem (that’s you!) spreading kindness everywhere!\",\n            ],\n            [\n                \"Public Notice: Bravery and Kindness Recognized!\",\n                \"Officials have recognized an extraordinary individual for their courage and kindness—congratulations to you!\",\n            ],\n            [\n                \"Daily Boost: You’re the Reason Today is Special!\",\n                \"Thanks to your warmth and cheer, today is officially better! Spread those good vibes!\",\n            ],\n            [\n                \"Good News Today: Happiness Found in Every Small Moment!\",\n                \"Joy is all around, and it’s all thanks to our reader’s incredible attitude. Keep shining!\",\n            ],\n            [\n                \"You Heard it Here First: Your Journey is Full of Promise!\",\n                \"With every step, you’re creating an amazing story. Stay tuned for more greatness!\",\n            ],\n            [\n                \"Breaking Headlines: Best Version of You Making Waves!\",\n                \"Readers report sightings of you achieving amazing things! The community is cheering you on!\",\n            ],\n            [\n                \"Breaking News: Kindness Levels at an All-Time High!\",\n                \"Reports indicate that your actions are filling the world with kindness and positivity. Keep it up!\",\n            ],\n            [\n                \"Headline Update: Confidence Soars Across the Region!\",\n                \"Sources confirm that your hard work and self-belief are inspiring everyone around you!\",\n            ],\n            [\n                \"Special Report: You’re the Star of Today’s Story!\",\n                \"Our newsroom agrees—you’re doing incredible things and deserve the spotlight. Shine on!\",\n            ],\n            [\n                \"Public Announcement: You Make Every Day Better!\",\n                \"Official declarations state that your presence brightens even the dullest moments. Thank you for being you!\",\n            ],\n            [\n                \"Extra! Extra! You’re Loved More Than Words Can Say!\",\n                \"Breaking hearts in the best way, your compassion and care are unmatched. The world is lucky to have you!\",\n            ],\n            [\n                \"Front Page: Happiness Found in Your Smile!\",\n                \"Eyewitness accounts reveal that your smile can turn any frown upside down. Keep spreading joy!\",\n            ],\n            [\n                \"Breaking Alert: Big Achievements Ahead!\",\n                \"Insiders predict that your dedication and effort will lead to amazing accomplishments. Stay on course!\",\n            ],\n            [\n                \"Daily Highlight: You’re a True Inspiration!\",\n                \"Community leaders have nominated you as a shining example of resilience and hope. Congratulations!\",\n            ],\n            [\n                \"Forecast: You’re Destined for Greatness!\",\n                \"The stars align, pointing to a future filled with happiness and success for you. Keep going!\",\n            ],\n            [\n                \"Latest Buzz: You’re the Talk of the Town!\",\n                \"Everyone’s raving about your kindness, courage, and charm. Keep making waves!\",\n            ],\n            [\n                \"Breaking News: A Bright Future Awaits You!\",\n                \"Top analysts predict that your hard work and positivity are paving the way for wonderful things ahead.\",\n            ],\n            [\n                \"Spotlight: Your Actions Make the World Shine!\",\n                \"Reports confirm that your efforts bring light and love to everyone around you. Keep shining!\",\n            ],\n            [\n                \"Breaking News: You Are Enough, Just As You Are!\",\n                \"In a world that can feel overwhelming, your courage to be yourself is truly inspiring. Thank you for being you.\",\n            ],\n            [\n                \"Headline Spotlight: Your Efforts Matter More Than You Realize!\",\n                \"Even the smallest things you do make a difference. You’re creating ripples of kindness and hope everywhere you go.\",\n            ],\n            [\n                \"Exclusive Feature: Your Strength is Quietly Changing the World!\",\n                \"We see it—the way you keep moving forward, even when it’s hard. That strength is something to be proud of.\",\n            ],\n            [\n                \"Front Page Story: You Are Loved More Than You Know!\",\n                \"Sometimes it’s easy to forget, but you are deeply valued and appreciated by those around you. Don’t ever doubt it.\",\n            ],\n            [\n                \"Breaking Update: You’re Learning and Growing Every Day!\",\n                \"Every challenge you face is shaping you into someone even more incredible. Trust the process—you’re doing great.\",\n            ],\n            [\n                \"Special Report: Your Kind Heart Makes Life Better!\",\n                \"In a world that needs more love, your compassion is a gift that changes lives. Never underestimate its power.\",\n            ],\n            [\n                \"Top Story: You’re So Much Stronger Than You Feel Right Now!\",\n                \"It’s okay to have tough days, but remember—your resilience has carried you through so much already. Keep believing in yourself.\",\n            ],\n            [\n                \"Daily Reminder: You Deserve the Good Things Coming Your Way!\",\n                \"The kindness you’ve shown and the love you’ve shared are coming back to you. Be ready to receive them—you’ve earned it.\",\n            ],\n            [\n                \"Breaking Alert: Your Voice Matters and So Do You!\",\n                \"The way you think, feel, and express yourself makes the world richer. Your presence is a gift that can’t be replaced.\",\n            ],\n            [\n                \"Personal Feature: You’re Exactly Where You Need to Be!\",\n                \"Life isn’t a race, and every step you take is part of your unique story. You’re on the right path—trust yourself.\",\n            ],\n            [\n                \"Headline Scoop: You Have a Light That Guides Others!\",\n                \"Even when you don’t see it, your kindness and warmth inspire those around you. Keep shining—it’s beautiful.\",\n            ],\n            [\n                \"Forecast: Healing and Happiness Are On the Horizon!\",\n                \"Take it one day at a time. The tough moments are only temporary, and better days are just around the corner.\",\n            ],\n        ],\n        news: [\n            [\n                \"Breaking News: The Sunflower Festival is in Full Bloom!\",\n                \"Local critters are buzzing with excitement as fields of sunflowers paint the horizon golden. Perfect for a picnic today!\",\n            ],\n            [\n                \"Local Hero: Sparky the Squirrel Finds Missing Acorn Stash!\",\n                \"After a week-long search, Sparky proudly declared the missing acorns found. 'I knew they were in the flower pot!' he said.\",\n            ],\n            [\n                \"Weather Update: Slight Chance of Marshmallow Showers!\",\n                \"Residents are advised to carry cocoa mugs just in case. Experts say it’ll be the sweetest storm of the season.\",\n            ],\n            [\n                \"Community Spotlight: Mr. Whiskers Wins Pie-Eating Contest!\",\n                \"In a record-breaking feat, Mr. Whiskers devoured 12 strawberry pies. 'I just couldn’t stop!' he shared, covered in crumbs.\",\n            ],\n            [\n                \"Exclusive: The Glowbugs Host a Nightly Light Show!\",\n                \"Every evening this week, the glowbugs will illuminate the skies with dazzling patterns. Don’t forget to look up!\",\n            ],\n            [\n                \"Breaking: A New Bakery Opens in Muffin Meadow!\",\n                \"Locals are raving about the honeyberry tarts and freshly baked cinnamon buns. Free samples available all week!\",\n            ],\n            [\n                \"Headline: Baby Ducks Take Their First Swim!\",\n                \"A group of adorable ducklings paddled across Lilypad Lake today, cheered on by their proud parents. Quack-tastic!\",\n            ],\n            [\n                \"Public Alert: The Rainbow Bridge Appeared Overnight!\",\n                \"Adventurers report that the rare rainbow bridge is back, connecting Blossom Woods to Starry Hills for a limited time.\",\n            ],\n            [\n                \"Daily Scoop: Fluffy the Cloud Found in Fun Shapes!\",\n                \"Residents spotted Fluffy resembling a bunny, a heart, and even a teacup. The cloud promises more surprises tomorrow.\",\n            ],\n            [\n                \"Special Report: Berry Harvest Bigger Than Ever!\",\n                \"Farmers report record-breaking yields of blueberries and raspberries this season. Get your baskets ready for a berry bonanza!\",\n            ],\n            [\n                \"Top Story: Fuzzy Caterpillar Parade Marches Through Town!\",\n                \"Dozens of fuzzy caterpillars lined up for a parade, waving tiny flags and wiggling with joy. Adorable chaos ensued.\",\n            ],\n            [\n                \"Exclusive: Moonlight Sparkles Seen in Crystal Cavern!\",\n                \"Night owls exploring Crystal Cavern were treated to a rare light show as moonlight danced on the glittering walls.\",\n            ],\n            [\n                \"Alert: Bunny Burrow Cafe Hosts Tea Party Today!\",\n                \"A charming tea party featuring carrot cake and dandelion tea is happening at Bunny Burrow Cafe. All critters invited!\",\n            ],\n            [\n                \"Forecast: Shooting Stars Expected Tonight!\",\n                \"Skywatchers are in for a treat as dozens of shooting stars light up the skies. Make your wishes ready!\",\n            ],\n        ]        \n    },\n\n    /* TWEETS */\n    tweets: {\n        generic: [\n            ['Found a crumb, feels like a feast! #TinyTreats', 1, \"resources/img/background/house/kitchen_02.png\"],\n            ['#vibing', 1, null],\n            ['#sunny', 1, \"resources/img/background/house/beach_01.png\"],\n            ['Leaf boat ride! Best day ever. #LeafBoat', 2, null],\n            ['Nap in a matchbox bed. So cozy! #SmallDreams', 16, \"resources/img/background/sky/night.png\"],\n            ['Danced in a raindrop, got soaked! #RaindropDance', 8, \"resources/img/background/sky/rain_01.png\"],\n            ['Whispered a wish to a dandelion. #Wishes', 10, null],\n            ['Tried lifting a pebble, felt strong! #TinyStrength', 1, \"resources/img/background/outside/park_02.png\"],\n            ['Stargazing tonight. Wishes everywhere! #StarrySky', 1, \"resources/img/background/sky/night.png\"],\n            ['A butterfly landed on me! #ButterflyFriends', 2, \"resources/img/background/outside/garden_01.png\"],\n            ['Dewdrop crystal ball. Big adventures ahead! #DewdropVisions', 7, null],\n            ['Lost in a grass maze. Tall blades everywhere! #GrassAdventures', 1, \"resources/img/background/outside/garden_01.png\"],\n            ['Shared a berry with an ant. #BerryFeast', 8, \"resources/img/background/outside/garden_01.png\"],\n            ['Woooow!', 7, \"resources/img/background/house/online_hub_01.png\"],\n            ['#Hubchi', 2, \"resources/img/background/house/online_hub_01.png\"],\n            ['Played hide and seek with parents! #TinyGames', 2, \"resources/img/background/house/parents_house_01.png\"],\n            ['Leaf fell on me. Guess I’m a tree now! #TreeLife', 8, \"resources/img/background/outside/park_02.png\"],\n            ['#onthatgrind', 14, \"resources/img/background/house/office_01.png\"],\n            ['Market day! #shopping', 10, \"resources/img/background/outside/market_01.png\"],\n            ['Prices too high! #whatisthis', 7, \"resources/img/background/outside/market_01.png\"],\n            ['Looking for a cute #headband!', 8, \"resources/img/background/outside/market_01.png\"],\n            ['Lost again! Done with gaming. #hategaming', 6, \"resources/img/background/house/arcade_01.png\"],\n            ['I’m just better! #gaming', 2, \"resources/img/background/house/arcade_01.png\"],\n            ['Won again! #ilovegaming', 2, \"resources/img/background/house/arcade_01.png\"],\n            ['Chasing rainbows today! #ColorChase', 1, \"resources/img/background/outside/garden_01.png\"],\n            ['Found a ladybug! So lucky. #LuckyDay', 2, null],\n            ['Tiny picnic in the grass. Life is good! #TinyPicnic', 8, \"resources/img/background/outside/park_02.png\"],\n            ['Jumping puddles! Let’s get wet. #PuddleJump', 10, \"resources/img/background/sky/rain_01.png\"],\n            ['The sky’s full of clouds. So dreamy. #CloudyDay', 1, \"resources/img/background/sky/afternoon.png\"],\n            ['Met a squirrel today. Best friends now! #SquirrelSquad', 7, \"resources/img/background/outside/park_02.png\"],\n            ['Feeling a bit sick!', 4, \"resources/img/background/outside/hospital_01.png\"],\n            ['Checkout my stand!', 2, \"resources/img/background/outside/stand_01.png\"],\n            ['I’m a leaf warrior! #LeafBattle', 1, \"resources/img/background/outside/park_02.png\"],\n            ['Discovered a secret path in the woods. #MysteryTrail', 7, \"resources/img/background/outside/park_02.png\"],\n            ['Feeling like a cloud. Soft and fluffy. #CloudVibes', 8, \"resources/img/background/sky/afternoon.png\"]\n        ]\n    }\n}\n\n//# sourceURL=webpack:///./src/Definitions.js?");

/***/ }),

/***/ "./src/Drawer.js":
/*!***********************!*\
  !*** ./src/Drawer.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Drawer: () => (/* binding */ Drawer)\n/* harmony export */ });\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"./src/Utils.js\");\n\n\nclass Drawer {\n    constructor(canvas, optWidth, optHeight) {\n        if(!canvas) {\n            canvas = document.createElement('canvas');\n            canvas.setAttribute('width', optWidth);\n            canvas.setAttribute('height', optHeight);\n        }\n        this.canvas = canvas;\n        this.context = canvas.getContext('2d');\n        this.context.fillStyle = 'white';\n        this.context.font = '8px Calibri';\n\n        this.context.msImageSmoothingEnabled = false;\n        this.context.mozImageSmoothingEnabled = false;\n        this.context.webkitImageSmoothingEnabled = false;\n        this.context.imageSmoothingEnabled = false;\n        // this.bounds = canvas.getBoundingClientRect();\n        this.bounds = {\n            width: optWidth || this.canvas.width,\n            height: optHeight || this.canvas.height\n        }\n        this.objects = [];\n    }\n    draw(objects, skipClear) {\n        if(!skipClear) this.clear();\n        if(!objects) objects = this.objects;\n\n        // sorting based on z\n        objects = objects.filter(object => object).sort((a, b) => (a.z || 0) - (b.z || 0));\n\n        objects.forEach(object => {\n            if(!object || object.hidden || object.absHidden) return;\n\n            if (object.onDraw !== undefined)\n                object.onDraw(object);\n\n            if (object.x.toString().indexOf('%') >= 0) {\n                let width = object.spritesheet ? object.spritesheet.cellSize : object.width || object.image.width;\n                object.x = this.getRelativePositionX(Number(object.x.toString().slice(0, object.x.toString().length - 1))) - width / 2;\n            }\n            if (object.y.toString().indexOf('%') >= 0) {\n                let height = object.spritesheet ? object.spritesheet.cellSize : object.height || object.image.height;\n                object.y = this.getRelativePositionY(Number(object.y.slice(0, object.y.length - 1))) - height / 2;\n            }\n\n            let x = object.x,\n                y = object.y;\n\n            if (object.additionalX) x += object.additionalX;\n            if (object.additionalY) y += object.additionalY;\n\n            // fixes blurriness on some frames\n            y = Math.round(y);\n            x = Math.round(x);\n\n            function drawSprite(object, x, y, context) {\n                const { image, spritesheet, inverted, upperHalfOffsetY, scale, width, height, clipCircle, rotation, composite, opacity, isSkybox } = object;\n                if (!image) return;\n\n                context.save();\n\n                const spriteCenterX = x + (spritesheet ? spritesheet.cellSize / 2 : (width || image.width) / 2);\n                const spriteCenterY = y + (spritesheet ? spritesheet.cellSize / 2 : (height || image.height) / 2);\n\n                if (scale) {\n                    context.translate(spriteCenterX, spriteCenterY);\n                    context.scale(scale, scale);\n                    context.translate(-spriteCenterX, -spriteCenterY);\n                }\n                \n                if (rotation) {\n                    const rotationRadians = rotation * (Math.PI / 180);\n                    context.translate(spriteCenterX, spriteCenterY);\n                    context.rotate(rotationRadians);\n                    context.translate(-spriteCenterX, -spriteCenterY);\n                }\n\n                if (clipCircle) {\n                    const radius = Math.min((width || image.width), (height || image.height)) / 2; // for a circle, radius is half of the smaller dimension\n\n                    context.beginPath();\n                    context.arc(spriteCenterX, spriteCenterY, radius, 0, Math.PI * 2, false);\n                    context.clip();\n                }\n\n                if (inverted) {\n                    context.scale(-1, 1);\n                    x = -x - (spritesheet ? spritesheet.cellSize : (width || image.width));\n                }\n\n                if (composite) {\n                    context.globalCompositeOperation = composite ?? \"multiply\";\n                }\n\n                if (opacity !== undefined) {\n                    context.globalAlpha = opacity;\n                }\n\n                if (spritesheet) {\n                    const cellNumber = spritesheet.cellNumber - 1;\n                    const cellSize = spritesheet.cellSize;\n                    const rows = spritesheet.rows;\n                    const columns = spritesheet.columns;\n                    const sx = (cellNumber % rows) * cellSize;\n                    const sy = Math.floor(cellNumber / columns) * cellSize;\n\n                    const upperHalfHeight = Math.round((4 / 5) * cellSize);\n                    const lowerHalfHeight = (cellSize - upperHalfHeight);\n\n                    const drawHalf = (half, offsetY) => {\n                        let dy = y; // destination y coordinate\n                        let sh = half === 0 ? upperHalfHeight : lowerHalfHeight; // source height\n                        let dh = sh; // destination height\n\n                        if (half === 0 && offsetY) dy += offsetY; // applying offset to upper half\n\n                        context.drawImage(\n                            image,\n                            sx,\n                            sy + (half === 0 ? 0 : upperHalfHeight), // adjusting source y for lower half\n                            cellSize,\n                            sh, // using calculated height for the half\n                            x,\n                            dy + (half === 0 ? 0 : upperHalfHeight), // adjusting destination y for lower half\n                            cellSize,\n                            dh // using calculated height for the half\n                        );\n                    };\n\n                    drawHalf(0, upperHalfOffsetY); // drawing upper half with offset\n                    drawHalf(1); // drawing lower half\n                } else {\n                    context.drawImage(image, x, y, (object.width || image.width), (object.height || image.height));\n                }\n\n                context.restore();\n            }\n\n            drawSprite(object, x, y, this.context);\n            \n            /* if(object.dirtyCircle){\n                this.context.globalCompositeOperation = \"color\";\n                // this.context.globalCompositeOperation = \"multiply\";\n                // this.context.fillStyle = 'rgba(124, 55, 29, 1)'; // Red tint\n                // this.context.ellipse(x, y, object.spritesheet.cellSize, object.spritesheet.cellSize, 0, 0, 360);\n                // this.context.fill();\n                // this.context.fillRect(x, y, object.spritesheet.cellSize, object.spritesheet.cellSize); // Apply the tint to a specific area\n                \n                this.context.beginPath();\n                this.context.arc(x + object.spritesheet.cellSize / 2, y + object.spritesheet.cellSize / 2, 8, 0, 2 * Math.PI, false);\n                this.context.fillStyle = 'rgba(124, 55, 29, 1)';\n                this.context.fill();\n                this.context.lineWidth = 0;\n                // this.context.strokeStyle = '#003300';\n                // this.context.stroke();\n\n                this.context.globalCompositeOperation = 'source-over';\n            } */\n\n            if(object.dirtyPatches){\n                let hCell = object.spritesheet.cellSize / 2;\n                this.context.globalCompositeOperation = \"multiply\";\n\n                let areas = [\n                    [hCell - 0, hCell, 3],\n                    [hCell + 3, hCell - 3, 2],\n                    [hCell - 2, hCell + 2, 2],\n                    // [hCell, hCell, 3],\n                ]\n                areas = [];\n\n                _Utils__WEBPACK_IMPORTED_MODULE_0__.pRandom.save();\n                _Utils__WEBPACK_IMPORTED_MODULE_0__.pRandom.seed = 1;\n                for(let i = 0; i < 6; i++){\n                    areas.push([\n                        hCell - _Utils__WEBPACK_IMPORTED_MODULE_0__.pRandom.getIntBetween(-6, 6),\n                        hCell - _Utils__WEBPACK_IMPORTED_MODULE_0__.pRandom.getIntBetween(-6, 6),\n                        _Utils__WEBPACK_IMPORTED_MODULE_0__.pRandom.getIntBetween(1, 6)\n                    ])\n                }\n                _Utils__WEBPACK_IMPORTED_MODULE_0__.pRandom.load();\n                \n                areas.forEach(area => {\n                    this.context.beginPath();\n                    this.context.arc(x + area[0], y + object.upperHalfOffsetY + area[1], area[2], 0, 2 * Math.PI, false);\n                    this.context.fillStyle = 'rgba(124, 55, 29, 0.6)';\n                    this.context.fill();\n                    this.context.lineWidth = 0;\n                })\n\n\n                this.context.globalCompositeOperation = 'source-over';\n            }\n\n            if (object.text){\n                this.context.fillText(object.text, x, y);\n            }\n\n            if (object.onLateDraw !== undefined)\n                object.onLateDraw();\n        })\n        return this;\n    }\n    pixelate(){\n        let w = this.bounds.width * 0.4,\n            h = this.bounds.height * 0.4;\n        this.context.drawImage(this.canvas, 0, 0, w, h);\n        this.context.drawImage(this.canvas, 0, 0, w, h, 0, 0, this.bounds.width, this.bounds.height);\n    }\n    drawImmediate(entity){\n        if(entity.image){\n            let img = new Image();\n                img.src = entity.image;\n                entity.image = img;\n        }\n        \n        this.draw([entity], true);\n    }\n    clear() {\n        this.context.clearRect(0, 0, this.bounds.width, this.bounds.height);\n    }\n    getRelativePositionX(percent) {\n        return percent / 100 * this.bounds.width;\n    }\n    getRelativePositionY(percent) {\n        return percent / 100 * this.bounds.height;\n    }\n    addObject(object) {\n        let id = this.objects.push(object);\n        object.drawerId = id - 1;\n        return object.drawerId;\n    }\n    removeObject(object) {\n        if(!object || object.drawerId === undefined){\n            return console.log('no drawer id, cant remove', object);\n        }\n\n        this.objects[object.drawerId] = null;\n        this.objects.forEach(otherObject => {\n            if(otherObject?.parent?.drawerId === object.drawerId){\n                // this.objects[otherObject.drawerId] = null;\n                this.removeObject(otherObject);\n            }\n        })\n    }\n}\n\n//# sourceURL=webpack:///./src/Drawer.js?");

/***/ }),

/***/ "./src/Missions.js":
/*!*************************!*\
  !*** ./src/Missions.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Missions: () => (/* binding */ Missions)\n/* harmony export */ });\n/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App */ \"./src/App.js\");\n/* harmony import */ var _Definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Definitions */ \"./src/Definitions.js\");\n/* harmony import */ var _libs_moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./libs/moment */ \"./src/libs/moment.js\");\n/* harmony import */ var _libs_moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_libs_moment__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils */ \"./src/Utils.js\");\n\n\n\n\n\nconst Missions = {\n    current: [],\n    currentPts: 0,\n    currentStep: 0,\n    refreshTime: 0,\n    MAX_STEPS: 4,\n    TYPES: {\n        food: 'food',\n        pat: 'pat',\n        gift: 'gift',\n        cook: 'cook',\n        win_game: 'win_game',\n        online_interact: 'online_interact',\n        buy_food: 'buy_food',\n        playdate: 'playdate',\n        check_social_post: 'check_social_post',\n        find_park_friend: 'find_park_friend',\n        use_bath: 'use_bath',\n        use_toilet: 'use_toilet',\n        clean_room: 'clean_room',\n        visit_doctor: 'visit_doctor',\n        fulfill_want: 'fulfill_want',\n        play_item: 'play_item',\n        visit_online_hub: 'visit_online_hub',\n        visit_mall: 'visit_mall',\n        visit_market: 'visit_market',\n    },\n    TYPE_DESCRIPTIONS: {\n        food: 'Eat food',\n        pat: 'Pat your pet',\n        gift: 'Give gift to a friend',\n        cook: 'Cook',\n        win_game: 'Win a game center game',\n        online_interact: 'Interact with online players',\n        buy_food: 'Buy food or snacks',\n        playdate: 'Invite a friend over',\n        check_social_post: 'Check social media posts',\n        find_park_friend: 'Find a park friend',\n        use_bath: 'Bathe your pet',\n        use_toilet: 'Use the toilet',\n        clean_room: 'Clean the room',\n        visit_doctor: 'Visit the doctor',\n        fulfill_want: \"Fulfill your pet's want\",\n        play_item: 'Play with an item',\n        visit_online_hub: 'Visit Hubchi',\n        visit_mall: 'Visit the mall',\n        visit_market: 'Visit the market',\n    },\n    init: function(data){\n        if(data?.current) this.current = data?.current;\n        if(data?.currentPts) this.currentPts = data?.currentPts;\n        if(data?.currentStep) this.currentStep = data?.currentStep;\n        if(data?.refreshTime) this.refreshTime = data?.refreshTime;\n\n        if(this.refreshTime < Date.now()){\n            this.refresh();\n        }\n    },\n    done: function(type, attribute0) {\n        if(!this.current?.length) return;\n\n        const activeMission = this.current.find(m => m.type === type);\n        if(!activeMission) return;\n\n        activeMission.counter += attribute0 ?? 1;\n\n        if(activeMission.counter >= activeMission.targetCount){\n            activeMission.counter = activeMission.targetCount;\n            activeMission.isDone = true;\n        }\n    },\n    refresh: function(){\n        this.current = [];\n        this.currentStep = 0;\n        this.refreshTime = (this.refreshTime || Date.now()) + (1000 * 60 * 60 * 24); // resets in 24hrs\n        for(let i = 0; i < 8; i++){\n            let type;\n            while(!type || this.current.find(m => m.type === type)){\n                type = (0,_Utils__WEBPACK_IMPORTED_MODULE_3__.randomFromArray)(Object.keys(Missions.TYPES));\n            }\n\n            const mission = {\n                type,\n                counter: 0,\n                targetCount: (0,_Utils__WEBPACK_IMPORTED_MODULE_3__.random)(1, 3),\n                pts: 25,\n            }\n\n            mission.description = `${Missions.TYPE_DESCRIPTIONS[mission.type]} ${mission.targetCount} ${mission.targetCount === 1 ? 'time' : 'times'}.`\n            \n            this.current.push(mission);\n        }\n        console.log(this.current);\n    },\n    openRewardsMenu: function(){\n        const defs = _Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions;\n        _App__WEBPACK_IMPORTED_MODULE_0__.App.sendAnalytics('opened_mission_rewards', Missions.currentPts);\n        const foodPool = Object.keys(defs.food).filter(key => defs.food[key].price).map(key => { \n            return {\n                name: key,\n                icon: _App__WEBPACK_IMPORTED_MODULE_0__.App.getFoodCSprite(defs.food[key].sprite),\n                count: [1, 4],\n                type: 'consumable',\n                onClaim: (amt) => {\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.addNumToObject(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inventory.food, key, amt || 1);\n                }\n            } \n        });\n        const itemsPool = Object.keys(defs.item).map(key => { \n            return {\n                name: key,\n                icon: _App__WEBPACK_IMPORTED_MODULE_0__.App.getItemCSprite(defs.item[key].sprite),\n                count: [1, 1],\n                type: 'item',\n                onClaim: () => {\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.addNumToObject(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inventory.item, key, 1);\n                }\n            } \n        });\n        const accessoriesPool = Object.keys(defs.accessories).map(key => { \n            return {\n                name: key,\n                icon: _App__WEBPACK_IMPORTED_MODULE_0__.App.getAccessoryCSprite(key),\n                count: [1, 1],\n                type: 'accessory',\n                onClaim: () => {\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.inventory.accessory[key] = true;\n                }\n            } \n        });\n        const goldPullDef = {\n            name: 'gold',\n            icon: '<div class=\"gold-circle\">$</div>',\n            count: [6, 35],\n            type: '',\n            onClaim: (amt) => {\n                _App__WEBPACK_IMPORTED_MODULE_0__.App.pet.stats.gold += amt || 50;\n            }\n        }\n        const pullFromPool = (pool, isGoldPull) => {\n            const randomPull = isGoldPull ? goldPullDef : (0,_Utils__WEBPACK_IMPORTED_MODULE_3__.randomFromArray)(pool);\n            const [min, max] = randomPull.count;\n            let count = (0,_Utils__WEBPACK_IMPORTED_MODULE_3__.random)(min, max) * (isGoldPull ? 5 : 1);\n            if(_App__WEBPACK_IMPORTED_MODULE_0__.App.isDuringChristmas()) count *= 2;\n            randomPull.onClaim?.(count);\n            _App__WEBPACK_IMPORTED_MODULE_0__.App.displayPopup(`\n                <div class=\"pulse\">\n                    ${randomPull.icon}\n                </div>\n                <b>${randomPull.name}</b>\n                <br>\n                <span>x${count}</span>\n                <br>\n                <span>${randomPull.type}</span>\n                ${\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.isDuringChristmas() ?\n                    _App__WEBPACK_IMPORTED_MODULE_0__.App.getBadge('doubled!') : ''\n                }\n            `, 5000, null, true);\n        }\n\n        const chests = [\n            {\n                name: 'Standard Chest',\n                price: 75,\n                info: `\n                    <div>\n                        <div> gold++++ </div>\n                        <div> food+++ </div>\n                        <div> items+ </div>\n                        <div> accessories+ </div>\n                    </div>\n                `,\n                onClaim: () => {\n                    const pool = [\n                        ...foodPool,\n                        ...foodPool,\n                        ...foodPool,\n                        ...foodPool,\n                        ...itemsPool,\n                        ...accessoriesPool,\n                    ]\n                    pullFromPool(pool, (0,_Utils__WEBPACK_IMPORTED_MODULE_3__.random)(0, 1));\n                }\n            },\n            {\n                name: 'Uncommon Chest',\n                price: 125,\n                info: `\n                    <div>\n                        <div> food+ </div>\n                        <div> items+ </div>\n                        <div> accessories+ </div>\n                    </div>\n                `,\n                onClaim: () => {\n                    const pool = [\n                        ...foodPool,\n                        ...itemsPool,\n                        ...accessoriesPool,\n                    ]\n                    pullFromPool(pool, false);\n                }\n            },\n        ]\n        const list = _App__WEBPACK_IMPORTED_MODULE_0__.App.displayList([\n            {\n                _ignore: !_App__WEBPACK_IMPORTED_MODULE_0__.App.isDuringChristmas(),\n                name: `<small class=\"flex flex-gap-1 flex-dir-row align-center\">\n                    <img src=\"resources/img/misc/xmas_tree_01.png\"></img>\n                    Double rewards during the xmas event!\n                    ${_App__WEBPACK_IMPORTED_MODULE_0__.App.getBadge('active!', 'neutral')}\n                </small>`,\n                type: 'text'\n            },\n            ...chests\n            .map(chest => {\n                return {\n                    name: \n                        chest.name \n                        + `<br><small class=\"inline-list\">${chest.info }<small>`\n                        + _App__WEBPACK_IMPORTED_MODULE_0__.App.getBadge(`${_App__WEBPACK_IMPORTED_MODULE_0__.App.getIcon('coins', true)} <span style=\"margin-left: 3px\">${chest.price}</span>`),\n                    _disable: chest.price > Missions.currentPts,\n                    class: 'large',\n                    onclick: () => {\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.displayConfirm(`Open the <br> <b>${chest.name}</b> <br> for <br> ${_App__WEBPACK_IMPORTED_MODULE_0__.App.getIcon('coins') + chest.price}?`, [\n                            {\n                                name: `yes`,\n                                onclick: () => {\n                                    chest.onClaim();\n                                    Missions.currentPts -= chest.price;\n                                    document.querySelector('#mission-pts').textContent = Missions.currentPts;\n                                    list.close();\n                                    Missions.openRewardsMenu();\n                                    _App__WEBPACK_IMPORTED_MODULE_0__.App.sendAnalytics('opened_mission_chest', chest.name);\n                                }\n                            },\n                            {\n                                name: 'no',\n                                class: 'back-btn',\n                                onclick: () => {}\n                            }\n                        ])\n                        return true;\n                    }\n                }\n            }),\n            {\n                name: `<small>\n                    <i class=\"fa-solid fa-info-circle\"></i>\n                    The + symbol represents the drop chance for each entry. The more + symbols, the higher the chance of that item dropping.\n                </small>`,\n                type: 'text'\n            },\n        ], null, 'Rewards');\n        return list;\n    },\n    hasUnclaimedRewards: function(){\n        return this.current.filter(m => m.isDone && !m.isClaimed).length;\n    },\n    openMenu: function(){\n        if(!this.current?.length) return;\n\n        const list = _App__WEBPACK_IMPORTED_MODULE_0__.App.displayList([\n            {\n                name: `\n                    <span>\n                        ${_App__WEBPACK_IMPORTED_MODULE_0__.App.getIcon('coins', true)}\n                        <span id=\"mission-pts\">\n                            ${this.currentPts}\n                        </span>\n                    </span>\n                    <button onclick=\"Missions.openRewardsMenu()\" class=\"generic-btn stylized\">\n                        ${_App__WEBPACK_IMPORTED_MODULE_0__.App.getIcon('shopping-bag', true)}\n                    </button>\n                `,\n                type: 'text',\n                solid: true,\n                class: 'flex-between align-center'\n            },\n            {\n                _mount: (me) => me.innerHTML = _App__WEBPACK_IMPORTED_MODULE_0__.App.createStepper(this.MAX_STEPS, Missions.currentStep).node.outerHTML,\n                name: '',\n                type: 'empty',\n                style: 'padding: 0 10px; margin: 5px 0 10px 0',\n                id: 'missions-stepper',\n            },\n            ...this.current\n            .filter(m => !m.isClaimed)\n            .sort((a, b) => !!b.isDone - !!a.isDone)\n            .map(m => {\n                const title = Missions.TYPE_DESCRIPTIONS[m.type];\n                return {\n                    _disable: !m.isDone,\n                    name: `\n                        <div \n                        style=\"max-width: 100%; align-items: center;\" \n                        class=\"flex-between width-full\"\n                        >\n\n                        <span class=\"overflow-hidden\" style=\"margin-right: 10px\">\n                            <div style=\"width: fit-content\" class=\"${title.length > 10 ? 'marquee' : ''}\">\n                                ${title}\n                            </div>\n                        </span>\n\n                        <span style=\"padding: 2px; margin: 0\" class=\"solidd-surface-stylized b-radius-10\">\n                            ${m.counter}/${m.targetCount}\n                        </span>\n                        </div>\n                    `,\n                    onclick: (btn) => {\n                        btn?.remove();\n                        m.isClaimed = true;\n                        _App__WEBPACK_IMPORTED_MODULE_0__.App.sendAnalytics('mission_done', m.type);\n                        if(Missions.currentStep < Missions.MAX_STEPS){\n                            Missions.currentPts += m.pts;\n                            Missions.currentStep ++;\n                            list.querySelector('#mission-pts').textContent = Missions.currentPts;\n                            list.querySelector('#missions-stepper')?._mount?.();\n                        }\n                        return true;\n                    }\n                }\n            }),\n            {\n                name: `<small>\n                    <i class=\"fa-solid fa-info-circle\"></i>\n                    refreshes ${_libs_moment__WEBPACK_IMPORTED_MODULE_2___default()(Missions.refreshTime).fromNow()}\n                </small>`,\n                type: 'text'\n            },\n        ], null, 'Missions')\n\n        return list;\n    }\n}\n\n//# sourceURL=webpack:///./src/Missions.js?");

/***/ }),

/***/ "./src/Object2d.js":
/*!*************************!*\
  !*** ./src/Object2d.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Object2d: () => (/* binding */ Object2d)\n/* harmony export */ });\n/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App */ \"./src/App.js\");\n\n\nclass Object2d {\n    constructor(config) {\n        // parent drawer\n        if (!config.drawer) {\n            if (Object2d.defaultDrawer) {\n                config.drawer = Object2d.defaultDrawer;\n            } else {\n                console.log('no default drawer');\n                return false;\n            }\n        }\n\n        // basic\n        this.x = '50%';\n        this.y = '50%';\n        this.rotation = 0;\n        this.imageSrc = '';\n\n        // props\n        for (let key of Object.keys(config)) {\n            this[key] = config[key];\n        }\n\n        // config\n        this.config = config;\n\n        // initializing\n        if(!this.image){\n            this.image = new Image();\n            this.setImg(config.img);\n        } else {\n            this.setImage(this.image.cloneNode(true));\n        }\n\n        this.id = this.drawer.addObject(this);\n    }\n    /* setImg(img){ // this one gets image url\n        if(!img) return;\n\n        const preloaded = App.preloadedResources[img];\n        if(preloaded){\n            console.log('is preloaded', img)\n            return this.setImage(preloaded);\n        }\n        console.log('not preloaded', img)\n        this.imageSrc = img;\n        const resource = App.checkResourceOverride(img);\n        const newImage = new Image();\n        newImage.src = resource;\n        newImage.onload = () => {\n            this.image = newImage;\n        }\n    }\n    setImage(image){ // this one gets img object (presume preloadedResource)\n        if(!image) return;\n        \n        this.imageSrc = image.src;\n        const resource = App.checkResourceOverride(image.src);\n        this.image = image;\n        // this.image.src = resource;\n    } */\n    setImg(img){ // this one gets image url\n        if(!img) return;\n\n        const preloaded = _App__WEBPACK_IMPORTED_MODULE_0__.App.preloadedResources[img];\n        if(preloaded && !this.noPreload){\n            return this.setImage(preloaded);\n        }\n\n        this.imageSrc = img;\n        this.image.src = _App__WEBPACK_IMPORTED_MODULE_0__.App.checkResourceOverride(img);\n    }\n    setImage(image){ // this one gets img object (presume preloadedResource)\n        this.imageSrc = image.src;\n        this.image = image;\n        this.image.src = _App__WEBPACK_IMPORTED_MODULE_0__.App.checkResourceOverride(this.image.src);\n    }\n    removeObject(){\n        this.drawer.removeObject(this);\n    }\n    mimicParent(ignoreList = []){\n        if(!this.parent) return;\n\n        function should(val){\n            return !ignoreList.includes(val);\n        }\n        \n        if(should('x')) this.x = this.parent.x;\n        if(should('y')) this.y = this.parent.y + this.parent.additionalY;\n        if(should('inverted')) this.inverted = this.parent.inverted;\n        if(should('upperHalfOffsetY')) this.upperHalfOffsetY = this.parent.upperHalfOffsetY;\n        if(should('scale')) this.scale = this.parent.scale;\n        if(should('opacity')) this.opacity = this.parent.opacity;\n\n        if(should('spritesheet')) if(this.spritesheet) this.spritesheet.cellNumber = this.parent.spritesheet.cellNumber;\n    }\n    stopMove(){\n        this.targetX = undefined;\n        this.targetY = undefined;\n    }\n    moveToTarget(speed = 0.01) {\n        if (this.targetX !== undefined && this.targetX != this.x) {\n            this.isMoving = true;\n            if (this.x > this.targetX)\n                this.moveLeft(this.targetX, speed);\n            else if(this.x < this.targetX)\n                this.moveRight(this.targetX, speed);\n        } else {\n            this.isMoving = false;\n        }\n\n        if (this.targetY !== undefined && this.targetY != this.y) {\n            // this.y = lerp(this.y, this.targetY, this.stats.speed * App.deltaTime * 0.1);\n            if (this.y > this.targetY)\n                this.moveUp(this.targetY, speed);\n            else if(this.y < this.targetY)\n                this.moveDown(this.targetY, speed);\n        }\n    }\n    moveRight(maxX, speed) {\n        const velocity = this.x + speed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n        this.x = velocity > maxX ? maxX : velocity;\n        this.inverted = true;\n    }\n    moveLeft(minX, speed) {\n        const velocity = this.x - speed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n        this.x = velocity < minX ? minX : velocity;\n        this.inverted = false;\n    }\n    moveUp(minY, speed) {\n        const velocity = this.y - speed * 2 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n        this.y = velocity < minY ? minY : velocity;\n    }\n    moveDown(maxY, speed) {\n        const velocity = this.y + speed * 2 * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n        this.y = velocity > maxY ? maxY : velocity;\n    }\n    static setDrawer(drawer) {\n        Object2d.defaultDrawer = drawer;\n    }\n    static animations = {\n        flip: function(me, flipTime){\n            if(!flipTime) flipTime = 300;\n            if(!me.nextFlipMs || _App__WEBPACK_IMPORTED_MODULE_0__.App.time > me.nextFlipMs) {\n                me.inverted = !me.inverted;\n                me.nextFlipMs = _App__WEBPACK_IMPORTED_MODULE_0__.App.time + flipTime;\n            }\n        },\n        bob: function(me, bobSpeed, bobStrength){\n            if(!bobSpeed) bobSpeed = 0.01;\n            if(!bobStrength) bobStrength = 0.4;\n            if(!me.bobFloat || me.bobFloat > _App__WEBPACK_IMPORTED_MODULE_0__.App.PI2) me.bobFloat = 0;\n            me.bobFloat += bobSpeed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n            let currentFloat = Math.sin(me.bobFloat) * bobStrength;\n            me.y += currentFloat;\n        },\n        pixelBreath: function(me, speed, diffPixels){\n            if(!diffPixels) diffPixels = 1;\n            if(!speed) speed = 0.00145;\n            if(me.currentOffset === undefined) me.currentOffset = 0;\n            if(!me.breathFloat || me.breathFloat > 1) {\n                me.breathFloat = 0;\n                me.breathState = !me.breathState;\n                if(me.breathState) me.currentOffset = diffPixels;\n                else me.currentOffset = 0;\n\n                // me.y += me.currentOffset;\n                me.upperHalfOffsetY = me.currentOffset;\n            }\n            me.breathFloat += speed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n        },\n        circleAround: function(me, radius, deg, originX, originY){\n            let y = -Math.ceil(radius * Math.cos(deg));\n            let x = Math.ceil(radius * Math.sin(deg));\n\n            me.x = originX + x; \n            me.y = originY + y;\n        },\n        pulseScale: function(me, speed, strength){\n            if(!me.scale) me.scale = 1;\n            if(!speed) speed = 0.01;\n            if(!strength) strength = 0.4;\n            if(!me.pulseScaleFloat || me.pulseScaleFloat >= _App__WEBPACK_IMPORTED_MODULE_0__.App.PI2) me.pulseScaleFloat = 0;\n            me.pulseScaleFloat += speed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n            let currentFloat = Math.sin(me.pulseScaleFloat) * strength;\n            me.scale += currentFloat;\n        },\n        rotateAround: function(me, speed){\n            if(!speed) speed = 0.05;\n            if(!me.rotateAroundFloat) me.rotateAroundFloat = 0;\n            // me.rotateAroundFloat += speed * App.deltaTime;\n            me.rotation += speed * _App__WEBPACK_IMPORTED_MODULE_0__.App.deltaTime;\n        }\n    }\n}\n\n//# sourceURL=webpack:///./src/Object2d.js?");

/***/ }),

/***/ "./src/Pet.js":
/*!********************!*\
  !*** ./src/Pet.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pet: () => (/* binding */ Pet)\n/* harmony export */ });\n/* harmony import */ var _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Activities/Activities */ \"./src/Activities/Activities.js\");\n/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./App */ \"./src/App.js\");\n/* harmony import */ var _Definitions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Definitions */ \"./src/Definitions.js\");\n/* harmony import */ var _Missions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Missions */ \"./src/Missions.js\");\n/* harmony import */ var _Object2d__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Object2d */ \"./src/Object2d.js\");\n/* harmony import */ var _PetDefinition__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PetDefinition */ \"./src/PetDefinition.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Utils */ \"./src/Utils.js\");\n\n\n\n\n\n\n\n\nclass Pet extends _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d {\n    // basic init\n    defaultElevation = -20;\n    y = '100%';\n    z = _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.NPC_PET_Z;\n    additionalY = this.defaultElevation;\n    animation = {\n        currentFrame: 0,\n        nextFrameTime: 0,\n        set: null,\n    }\n    scriptedEventCooldowns = {};\n    state = 'idle';\n    activeMoodlets = [];\n    animObjectsQueue = [];\n    accessoryObjects = [];\n    castShadow = true;\n    speedOverride = 0;\n\n    constructor(petDefinition, additionalProps){\n        const image = petDefinition.spriteSkin \n            ? _App__WEBPACK_IMPORTED_MODULE_1__.App.preloadedResources[petDefinition.spriteSkin]\n            : _App__WEBPACK_IMPORTED_MODULE_1__.App.preloadedResources[petDefinition.sprite];\n\n        const config = {\n            image,\n            spritesheet: petDefinition.spritesheet,\n        };\n        super(config);\n\n        this.petDefinition = petDefinition;\n        this.stats = this.petDefinition.stats;\n        this.inventory = this.petDefinition.inventory;\n        this.animations = this.petDefinition.animations;\n        this.additionalY += this.petDefinition.spritesheet.offsetY || 0;\n\n        for(let prop in additionalProps){\n            this[prop] = additionalProps[prop];\n        }\n\n        this.createOverlays();\n        this.createAccessories();\n    }\n\n    createOverlays(){\n        this.needsToiletOverlay = new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n            parent: this,\n            img: 'resources/img/misc/needstoilet_01.png',\n            x: 0,\n            y: 0,\n            width: this.petDefinition.spritesheet.cellSize, height: this.petDefinition.spritesheet.cellSize,\n            hidden: true,\n            onDraw: (overlay) => {\n                overlay.mimicParent(['inverted', 'upperHalfOffsetY']);\n                _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d.animations.flip(overlay, 250);\n            }\n        });\n\n        this.dirtyOverlay = new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n            parent: this,\n            img: 'resources/img/misc/stinky_01.png',\n            x: 0,\n            y: 0,\n            width: this.petDefinition.spritesheet.cellSize, height: this.petDefinition.spritesheet.cellSize,\n            hidden: true,\n            onDraw: (overlay) => {\n                overlay.mimicParent(['inverted', 'upperHalfOffsetY']);\n                _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d.animations.flip(overlay, 300);\n            }\n        });\n\n        this.shadowOverlay = new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n            parent: this,\n            img: 'resources/img/misc/shadow_01.png',\n            width: this.petDefinition.spritesheet.cellSize, \n            height: this.petDefinition.spritesheet.cellSize,\n            // z: (this.z - 0.1) || 4.9,\n            z: 4.89,\n            hidden: !this.castShadow,\n            onDraw: (overlay) => {\n                overlay.x = this.x;\n\n                if(_App__WEBPACK_IMPORTED_MODULE_1__.App.currentScene.noShadows) {\n                    overlay.y = -9999;\n                    return;\n                }\n\n                if (this.staticShadow === undefined && this.isMainPet !== undefined){\n                    if(this.isMainPet) this.staticShadow = false;\n                    else this.staticShadow = true;\n                }\n\n                if (this.staticShadow) {\n                    overlay.y = this.y + this.additionalY + Math.ceil(this.spritesheet.cellSize / 2.1);\n                    return;\n                }\n\n                overlay.y = 96 + this.additionalY + (_App__WEBPACK_IMPORTED_MODULE_1__.App.currentScene.shadowOffset || 0) + (this.shadowOffset || 0);\n                const distanceToCaster = overlay.y - this.y;\n                overlay.scale = 1 - ((distanceToCaster + 4) * 0.01);\n            }\n        })\n    }\n    createAccessories(){\n        // removing old accessories\n        this.accessoryObjects.forEach(accessoryObject => accessoryObject?.removeObject());\n        this.accessoryObjects = [];\n\n        if(!this.petDefinition.accessories) return;\n        this.petDefinition.accessories.forEach((accName) => {\n            const accessory = _Definitions__WEBPACK_IMPORTED_MODULE_2__.Definitions.accessories[accName];\n            if(!accessory) return;\n\n            const accessoryObject = \n                accessory.createFn \n                    ? accessory.createFn(this) \n                    : new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n                        parent: this,\n                        img: accessory.image,\n                        z: accessory.front ? (this.z + 0.1) || 5.1 : (this.z - 0.1) || 4.9,\n                        spritesheet: {\n                            cellNumber: 1,\n                            cellSize: 64,\n                            rows: 4,\n                            columns: 4,\n                        },\n                        onDraw: (overlay) => {\n                            overlay.mimicParent();\n                            overlay.x -= 16;\n                            overlay.y -= 16;\n                        }\n                    });\n\n            this.accessoryObjects.push(accessoryObject);\n        })\n    }\n    onLateDraw() {\n        this.behavior();\n    }\n    behavior() {\n        this.isMainPet = this === _App__WEBPACK_IMPORTED_MODULE_1__.App.pet;\n\n        if(this.stats.is_dead) return this.handleDead();\n        if(this.stats.is_egg) return this.handleEgg();\n\n        this.think();\n        this.moveToTarget(this.speedOverride || this.stats.speed);\n        this.stateManager();\n        this.handleAnimation();\n\n        _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d.animations.pixelBreath(this);\n    }\n    handleWants(){\n        if(!this.isMainPet || _App__WEBPACK_IMPORTED_MODULE_1__.App.haveAnyDisplays()) return;\n\n        const {current_want} = this.stats;\n        if(current_want.pendingFulfilled){\n            this.showThought(_App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.fulfilled);\n            current_want.pendingFulfilled = null;\n        }\n\n        if(_App__WEBPACK_IMPORTED_MODULE_1__.App.fullTime > current_want.next_refresh_ms || 0){\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition.refreshWant()\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.pet.showCurrentWant()\n        }\n    }\n    handleDead(){\n        this.x = -600;\n\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(false, () => {\n            // App.displayPopup('dead');\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.displayConfirm(`Do you want to receive a new egg?`, [\n                {\n                    name: 'yes',\n                    onclick: () => {\n                        const lastPet = _App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition;\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.pet.removeObject();\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition = new _PetDefinition__WEBPACK_IMPORTED_MODULE_5__.PetDefinition({\n                            name: (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.getRandomName)(),\n                            sprite: (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.randomFromArray)(PET_BABY_CHARACTERS),\n                        }).setStats({is_egg: true});\n\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition.inventory = lastPet.inventory;\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition.stats.gold = lastPet.stats.gold;\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition.deceasedPredecessors = [...lastPet.deceasedPredecessors, \n                            {\n                                birthday: lastPet.birthday,\n                                family: lastPet.family,\n                                sprite: lastPet.sprite,\n                                name: lastPet.name,\n                            }\n                        ];\n\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.pet = _App__WEBPACK_IMPORTED_MODULE_1__.App.createActivePet(_App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition);\n                        setTimeout(() => {\n                            _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.playEggUfoAnimation(() => _App__WEBPACK_IMPORTED_MODULE_1__.App.handlers.show_set_pet_name_dialog());\n                        }, 100);\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_1__.App.scene.home);\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(true);\n                    }\n                },\n                {\n                    name: 'no',\n                    class: 'back-btn',\n                    onclick: () => { }\n                },\n            ], false);\n        })\n\n        if(!this.ghostObject){\n            this.ghostObject = new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n                img: 'resources/img/misc/ghost_01.png',\n                x: 0, \n                y: -5,\n                onDraw: (me) => {\n                    _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d.animations.bob(me, 0.001, 0.1);\n                    _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d.animations.flip(me, 1500);\n\n                    if(!_App__WEBPACK_IMPORTED_MODULE_1__.App.pet.stats.is_dead) me.removeObject();\n                }\n            });\n\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_1__.App.scene.graveyard);\n        }\n    }\n    handleEgg(){\n        this.x = -600;\n\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(false, () => {\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.displayPopup('wait for your egg to hatch');\n        })\n\n        if(!this.eggObject){\n            this.eggStartTime = Date.now();\n            this.hatchTime = this.eggStartTime + (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(20000, 60000);\n            this.eggObject = new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n                img: 'resources/img/misc/egg.png',\n                x: '50%', \n                y: '80%',\n            });\n        }\n\n        if(Math.random() < 0.006){\n            this.eggObject.setImg('resources/img/misc/egg_02.png');\n            setTimeout(() => this.eggObject?.setImg('resources/img/misc/egg.png'), 200);\n            if(Date.now() > this.hatchTime){\n                this.stats.is_egg = false;\n                _App__WEBPACK_IMPORTED_MODULE_1__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_1__.App.scene.home);\n                _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(true);\n                this.eggObject?.removeObject();\n                this.eggObject = null;\n                this.triggerScriptedState('uncomfortable', 5000);\n            }\n        }\n    }\n    _switchScene(scene){\n        // todo: not hardcode these values,\n        // instead it should be defined on the scene\n        // so that every scene can have it's own values\n        this.y = '100%';\n        this.x = '50%';\n        switch(scene){\n            case 'house':\n                _App__WEBPACK_IMPORTED_MODULE_1__.App.background.setImg('resources/img/background/house/01.jpg');\n                break;\n            case 'kitchen':\n                _App__WEBPACK_IMPORTED_MODULE_1__.App.background.setImg('resources/img/background/house/kitchen_01.png');\n                _App__WEBPACK_IMPORTED_MODULE_1__.App.foods.x = 40;\n                _App__WEBPACK_IMPORTED_MODULE_1__.App.foods.y = 58;\n                this.x = 62;\n                this.y = 74;\n                break;\n            case 'park':\n                _App__WEBPACK_IMPORTED_MODULE_1__.App.background.setImg('resources/img/background/outside/park_01.png');\n                break;\n        }\n    }\n    sleep(){\n        if(this.stats.is_sleeping) return;\n        this.stopMove();\n        this.x = '50%';\n        if(this.hasMoodlet('rested') && !_App__WEBPACK_IMPORTED_MODULE_1__.App.isSleepHour()){\n            this.playRefuseAnimation();\n            return;\n        }\n        this.stats.is_sleeping = true;\n    }\n    feed(foodSpriteCellNumber, value, type, forced, onEndFn){\n        const me = this;\n\n        if(!type) type = 'food';\n\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(false, () => {\n            this.stopScriptedState();\n        });\n        this.stopMove();\n\n        const refuse = () => {\n            me.playRefuseAnimation();\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_1__.App.scene.home);\n            // App.foods.hidden = true;\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.uiFood.style.visibility = 'hidden';\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(true);\n            return false;\n        }\n\n        const wantedFoodItem = _Definitions__WEBPACK_IMPORTED_MODULE_2__.Definitions.food[this.stats.current_want.item];\n        if(_App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition.checkWant(foodSpriteCellNumber == wantedFoodItem?.sprite, _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.food)){\n            forced = true;\n        }\n\n        if(!forced){\n            switch(type){\n                case \"food\": \n                    if(this.hasMoodlet('full')) return refuse();\n                    break;\n            }\n        }\n\n        _Missions__WEBPACK_IMPORTED_MODULE_3__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_3__.Missions.TYPES.food);\n\n        /* App.foods.hidden = false; // remove this getting rid of ui food\n        App.foods.spritesheet.cellNumber = foodSpriteCellNumber; */\n\n        let baseFoodSpriteIndex = foodSpriteCellNumber - 1;\n        let foodSpriteIndex = baseFoodSpriteIndex;\n        let lastFoodSpriteIndexChangeMs = _App__WEBPACK_IMPORTED_MODULE_1__.App.time;\n\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.uiFood.style.visibility = 'visible';\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.uiFood.setAttribute('index', foodSpriteCellNumber - 1);\n        \n        this.inverted = false;\n        this.stats.current_hunger += value;\n\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_1__.App.scene.kitchen);\n\n        this.triggerScriptedState('eating', 4000, null, true, () => {\n            switch(type){\n                case \"med\":\n                    this.playCheeringAnimationIfTrue(this.hasMoodlet('healthy'), () => {\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_1__.App.scene.home);\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(true);\n                    });\n                    break;\n                default:\n                    const end = (noLongerHungry) => {\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.closeAllDisplays();\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(true);\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_1__.App.scene.home);\n                        // if(!noLongerHungry){\n                        //     App.handlers.open_feeding_menu();\n                        //     App.handlers.open_food_list(null, null, type);\n                        // }\n                        onEndFn?.(noLongerHungry);\n                    }\n                    if(this.hasMoodlet('full')){\n                        _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(false);\n                        this.playCheeringAnimation(() => { end(true) });\n                    } else end();\n                    break;\n            }\n            // App.foods.hidden = true;\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.uiFood.style.visibility = 'hidden';\n            // App.toggleGameplayControls(true);\n        }, () => {\n            if(_App__WEBPACK_IMPORTED_MODULE_1__.App.time - lastFoodSpriteIndexChangeMs > 1200){\n                lastFoodSpriteIndexChangeMs = _App__WEBPACK_IMPORTED_MODULE_1__.App.time;\n\n                foodSpriteIndex = (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(foodSpriteIndex + 1, baseFoodSpriteIndex, baseFoodSpriteIndex + 2);\n\n                _App__WEBPACK_IMPORTED_MODULE_1__.App.uiFood.setAttribute('index', foodSpriteIndex);\n            }\n        });\n\n        return true;\n    }\n    useItem(item){\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.closeAllDisplays();\n        \n        let itemObject = new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n            img: \"resources/img/item/items.png\",\n            spritesheet: {\n                cellNumber: item.sprite,\n                cellSize: 22,\n                rows: 10,\n                columns: 10\n            },\n            x: 20, y: 20\n        });\n\n        _Missions__WEBPACK_IMPORTED_MODULE_3__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_3__.Missions.TYPES.play_item);\n\n        itemObject.x = '55%', itemObject.y = '47%';\n\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(false);\n\n        let interruptFn = () => {\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.pet.stopScriptedState();\n        }\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(false, (item.interruptable ? interruptFn : false))\n\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition.checkWant(this.stats.current_want.item == item.name, _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.item);\n\n        this.stopMove();\n        this.x = '30%';\n        this.y = '63%';\n        this.inverted = true;\n        this.staticShadow = true;\n        this.triggerScriptedState('cheering', item.interaction_time || 10000, false, true, () => {  \n            _App__WEBPACK_IMPORTED_MODULE_1__.App.drawer.removeObject(itemObject);\n\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.pet.stats.current_fun += item.fun_replenish || 0;\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.pet.stats.current_sleep += item.sleep_replenish || 0;\n\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.pet.playCheeringAnimation();\n\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.setScene(_App__WEBPACK_IMPORTED_MODULE_1__.App.currentScene); // to reset pet pos\n            \n            _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(true);\n        }, Pet.scriptedEventDrivers.playingWithItem.bind({pet: _App__WEBPACK_IMPORTED_MODULE_1__.App.pet, item: item, itemObject}))\n    }\n    playCheeringAnimationIfTrue(requirement, onEndFn){\n        if(requirement)\n            this.playCheeringAnimation(onEndFn);\n        else\n            if(onEndFn) onEndFn();\n    }\n    playCheeringAnimation(onEndFn, noSoundAndIcon){\n        this.stopMove();\n        if(!noSoundAndIcon) setTimeout(() => this.playSound('resources/sounds/cheer_success.ogg', true));\n        const stateName = !noSoundAndIcon ? 'cheering_with_icon' : 'cheering';\n        this.triggerScriptedState(stateName, 2000, null, true, () => {\n            if(onEndFn) onEndFn();\n        });\n    }\n    playRefuseAnimation(onEndFn){\n        this.stopMove();\n        this.triggerScriptedState('refuse', 2000, null, true, () => {\n            if(onEndFn) onEndFn();\n        });\n    }\n    playAngryAnimation(onEndFn){\n        this.stopMove();\n        this.triggerScriptedState('angry', 2000, null, true, () => {\n            if(onEndFn) onEndFn();\n        });\n    }\n    playUncomfortableAnimation(onEndFn){\n        this.stopMove();\n        this.triggerScriptedState('uncomfortable', 2000, null, true, () => {\n            if(onEndFn) onEndFn();\n        });\n    }\n    think(){\n        if(!this.nextThinkTime){\n            this.nextThinkTime = _App__WEBPACK_IMPORTED_MODULE_1__.App.lastTime + 500;\n        } else if(this.nextThinkTime < _App__WEBPACK_IMPORTED_MODULE_1__.App.lastTime){\n            this.nextThinkTime = 0;\n            return;\n        } else {\n            return;\n        }\n\n        // thinking\n        this.statsManager();\n\n        if(this.state == 'sleeping') \n            return;\n\n        if(!this.isDuringScriptedState()){\n            this.wander();\n            this.handleRandomGestures();\n            this.handleWants();\n        }\n    }\n    handleRandomGestures(){\n        /* if(random(0, 100) == 1){\n            if(this.stats.current_sleep < this.stats.max_sleep / 3){\n                this.triggerScriptedState('tired', 10000, 20000);\n                this.stopMove();\n                return;\n            }\n        } */\n\n        // bad animations\n        if((0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(0, 100) < 10){\n            if(this.hasMoodlet('sleepy')){\n                this.triggerScriptedState('angry', 4000, (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(20000, 30000));\n                this.stopMove();\n                return;\n            }\n            if(this.hasMoodlet('hungry') || this.hasMoodlet('bored')){\n                this.triggerScriptedState('uncomfortable', 4000, (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(20000, 30000));\n                this.stopMove();\n                return;\n            }\n        }\n\n        // const hasGoodMoodlets = ['amused', 'rested', 'full', 'healthy'].map(moodName => this.hasMoodlet(moodName)).some(moodlet => moodlet);\n        const hasBadMoodlets = ['bored', 'sleepy', 'hungry', 'sick'].map(moodName => this.hasMoodlet(moodName)).some(moodlet => moodlet);\n\n        // good animations\n        if(!hasBadMoodlets){\n            if((0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(0, 100) < 10){\n                let animations = [\n                    {name: 'sitting', length: (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(2000, 4000)}, \n                    {name: 'blush', length: (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(550, 1000)}, \n                    {name: 'cheering', length: (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(550, 1000)}, \n                    {name: 'shocked', length: (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(450, 800)}, \n                ];\n                let animation = (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.randomFromArray)(animations);\n                this.triggerScriptedState(animation.name, animation.length, (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(10000, 20000));\n                this.stopMove();\n            } else if((0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(0, 105) < 3 && this.isMainPet){\n                this.jump();\n            }\n        }\n    }\n    statsManager(isOfflineProgression, hour){\n        if(!this.isMainPet || this.stats.is_dead) return;\n        if(!hour) hour = _App__WEBPACK_IMPORTED_MODULE_1__.App.hour;\n\n        let stats = this.stats;\n        const previousStats = Object.assign({}, this.stats);\n\n        let depletion_mult = 1, offlineAndIsNight = false;\n        if(isOfflineProgression){\n            depletion_mult = 0.25;\n\n            if(_App__WEBPACK_IMPORTED_MODULE_1__.App.isSleepHour()){\n                offlineAndIsNight = true;\n                depletion_mult = 0.05;\n            }\n        }\n\n        switch(this.petDefinition.lifeStage){\n            case 0: depletion_mult *= 1.65; break;\n            case 1: depletion_mult *= 1.3; break;\n        }\n\n        if(this.stats.is_at_parents){\n            if((hour < _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.PARENT_DAYCARE_START || hour >= _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.PARENT_DAYCARE_END)){\n                if(!isOfflineProgression) {\n                    _Activities_Activities__WEBPACK_IMPORTED_MODULE_0__.Activities.stayAtParents(true);\n                }\n                this.stats.is_at_parents = false;\n            }\n        }\n        if(!offlineAndIsNight && this.stats.is_at_parents) depletion_mult = -0.1;\n\n        if(this.stats.is_at_vacation) depletion_mult = -0.1;\n\n        let hunger_depletion_rate = stats.hunger_depletion_rate * depletion_mult;\n        let sleep_depletion_rate = stats.sleep_depletion_rate * depletion_mult;\n        let fun_depletion_rate = stats.fun_depletion_rate * depletion_mult;\n        let bladder_depletion_rate = stats.bladder_depletion_rate * depletion_mult;\n        let health_depletion_rate = stats.health_depletion_rate * depletion_mult;\n        let cleanliness_depletion_rate = stats.cleanliness_depletion_rate * depletion_mult;\n        let max_death_tick = stats.max_death_tick;\n        switch(this.petDefinition.lifeStage){\n            case 0: max_death_tick = stats.baby_max_death_tick; break;\n            case 1: max_death_tick = stats.teen_max_death_tick; break;\n        }\n\n        if(isOfflineProgression){\n            // health_depletion_rate = 0;\n            sleep_depletion_rate /= 2;\n        }\n\n        // sleeping case\n        if(this.stats.is_sleeping || offlineAndIsNight){\n            // fun_depletion_rate = 0;\n            // hunger_depletion_rate = 0;\n\n            // health_depletion_rate = 0;\n\n            let sleepAdditionalDepletionMult = 1;\n            if(offlineAndIsNight) sleepAdditionalDepletionMult = 2;\n            sleep_depletion_rate = -stats.sleep_replenish_rate * sleepAdditionalDepletionMult;\n        }\n\n        // clamping between 0 and max\n        stats.current_hunger = (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(stats.current_hunger, 0, stats.max_hunger);\n        stats.current_sleep = (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(stats.current_sleep, 0, stats.max_sleep);\n        stats.current_fun = (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(stats.current_fun, 0, stats.max_fun);\n        stats.current_bladder = (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(stats.current_bladder, 0, stats.max_bladder);\n        stats.current_health = (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(stats.current_health, 0, stats.max_health);\n        stats.current_cleanliness = (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(stats.current_cleanliness, 0, stats.max_cleanliness);\n\n        // depletion\n        stats.current_hunger -= hunger_depletion_rate;\n        if(stats.current_hunger <= 0){\n            stats.current_hunger = 0;\n            // console.log('dead?');\n        }\n        stats.current_sleep -= sleep_depletion_rate;\n        if(stats.current_sleep <= 0){\n            stats.current_sleep = 0;\n            if(_App__WEBPACK_IMPORTED_MODULE_1__.App.currentScene == _App__WEBPACK_IMPORTED_MODULE_1__.App.scene.home){\n                this.stats.is_sleeping = true;\n            }\n        }\n        stats.current_fun -= fun_depletion_rate;\n        if(stats.current_fun <= 0){\n            stats.current_fun = 0;\n            // console.log('All my friends no fun?');\n        }\n        stats.current_bladder -= bladder_depletion_rate;\n        if(stats.current_bladder <= 0){\n            stats.current_bladder = stats.max_bladder;\n            this.stats.has_poop_out = true;\n            // console.log('pooping myself');\n        }\n        if(stats.current_bladder <= stats.max_bladder / 4){\n            this.needsToiletOverlay.hidden = false;\n        } else {\n            this.needsToiletOverlay.hidden = true;\n        }\n        if(this.stats.has_poop_out){\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.poop.hidden = false;\n        } else {\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.poop.hidden = true;\n        }\n        stats.current_cleanliness -= cleanliness_depletion_rate;\n        if(stats.current_cleanliness <= 0){\n            stats.current_cleanliness = 0;\n        }\n        if(stats.current_cleanliness <= 25){\n            // App.pet.dirtyPatches = true;\n            this.dirtyOverlay.hidden = false;\n        } else {\n            // App.pet.dirtyPatches = false;\n            this.dirtyOverlay.hidden = true;\n        }\n        if(this.stats.has_poop_out || !this.dirtyOverlay.hidden){ // gradually decrease health if poop is nearby or dirty\n            stats.current_health -= health_depletion_rate * stats.health_depletion_mult;\n            stats.current_cleanliness -= cleanliness_depletion_rate * stats.cleanliness_depletion_mult;\n        }\n        if(stats.current_health <= 0){\n            stats.current_health = 0;\n            // console.log('dead of sickness?');\n        }\n\n        if(stats.current_health <= 0 && \n            stats.current_cleanliness <= 0 && \n            stats.current_fun <= 0 && \n            stats.current_hunger <= 0\n        ) stats.current_death_tick -= stats.death_tick_rate;\n        else stats.current_death_tick = max_death_tick;\n\n        if(stats.current_death_tick <= 0){\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.pet.stats.is_dead = true;\n        }\n\n        // care rating check\n        const careAffectingStats = [\n            'current_health',\n            'current_fun',\n            'current_hunger',\n            'current_cleanliness',\n        ]\n        careAffectingStats.forEach(statName => {\n            // decreasing\n            if(\n                previousStats[statName] != 0\n                && this.stats[statName] == 0\n            ) {\n                this.petDefinition.adjustCare(false);\n            }\n        })\n        // increasing\n        const careIncreaseThreshold = this.stats.hunger_satisfaction || 85; // this value is based on lowest satisfaction stat\n        const eligibleForCareIncrease = careAffectingStats.every(statName => this.stats[statName] > careIncreaseThreshold);\n        const shouldResetCareIncreaseFlag = careAffectingStats.some(statName => this.stats[statName] < 65);\n        if(eligibleForCareIncrease){\n            if(this.stats.should_care_increase){\n                this.stats.should_care_increase = false;\n                this.petDefinition.adjustCare(true);\n            }\n        } else if(shouldResetCareIncreaseFlag) {\n            this.stats.should_care_increase = true;\n        }\n\n        // moodlets\n        this.triggerMoodlet(\n            stats.current_hunger,\n            stats.hunger_min_desire, 'hungry',\n            stats.hunger_satisfaction, 'full'\n        );\n        this.triggerMoodlet(\n            stats.current_sleep,\n            stats.sleep_min_desire, 'sleepy',\n            stats.sleep_satisfaction, 'rested'\n        );\n        this.triggerMoodlet(\n            stats.current_fun,\n            stats.fun_min_desire, 'bored',\n            stats.fun_satisfaction, 'amused'\n        );\n        this.triggerMoodlet(\n            stats.current_health,\n            stats.max_health * 0.25, 'sick',\n            stats.max_health * 0.8, 'healthy'\n        );\n    }\n    triggerMoodlet(current, min, minName, max, maxName){\n        if(current < min){\n            this.addMoodlet(minName);\n        } else {\n            this.removeMoodlet(minName);\n        }\n\n        if(current > max){\n            this.addMoodlet(maxName);\n        } else {\n            this.removeMoodlet(maxName);\n        }\n    }\n    addMoodlet(mood){\n        if(this.activeMoodlets.indexOf(mood) >= 0) return;\n        this.activeMoodlets.push(mood);\n        return true;\n    }\n    removeMoodlet(mood){\n        let index = this.activeMoodlets.indexOf(mood);\n        if(index == -1) return;\n        this.activeMoodlets.splice(index, 1);\n        return true;\n    }\n    hasMoodlet(mood){\n        return this.activeMoodlets.indexOf(mood) >= 0;\n    }\n    triggerScriptedState(state, length, cooldown, forced, onEndFn, driverFn){\n        return new Promise((resolve, reject) => {\n            if(!forced){\n                if(this.scriptedEventTime){\n                    return resolve(); // already during scripted event\n                }\n        \n                if(this.scriptedEventCooldowns[state]){\n                    if(this.scriptedEventCooldowns[state] > _App__WEBPACK_IMPORTED_MODULE_1__.App.lastTime){\n                        return resolve();\n                    }\n                }\n            }\n\n            /* check if this is needed\n            // if(this.scriptedEventTime){\n            //     if(this.scriptedEventOnEndFn) this.scriptedEventOnEndFn();\n            // } */\n    \n            if(cooldown){\n                this.scriptedEventCooldowns[state] = _App__WEBPACK_IMPORTED_MODULE_1__.App.lastTime + cooldown;\n            }\n    \n            this.scriptedEventTime = _App__WEBPACK_IMPORTED_MODULE_1__.App.lastTime + length;\n            this.scriptedEventOnEndFn = (...args) => {\n                if(typeof onEndFn === \"function\") onEndFn(...args);\n                onEndFn = null;\n                resolve();\n            };\n            this.scriptedEventDriverFn = driverFn;\n            this.setState(state);\n        })\n    }\n    setState(newState){\n        if(newState != this.state){\n            this.animation.currentFrame = 0;\n            this.animation.nextFrameTime = 0;\n            this.animation.set = this.animations[newState];\n\n            this.state = newState;\n        }\n    }\n    stopScriptedState(){\n        this.stopMove();\n        this.scriptedEventTime = null;\n        if(this.scriptedEventOnEndFn) {\n            this.scriptedEventOnEndFn();\n            return true;\n        }\n        return false;\n    }\n    isDuringScriptedState(){\n        return !!this.scriptedEventTime;\n    }\n    stateManager(){\n        if(this.scriptedEventTime){\n            if(this.scriptedEventTime < _App__WEBPACK_IMPORTED_MODULE_1__.App.lastTime){ // ending scripted event time\n                if(this.stopScriptedState()) return;\n            } else { // during scripted event\n                if(this.scriptedEventDriverFn) this.scriptedEventDriverFn(this);\n                return;\n            }\n        }\n\n        if(this.isMainPet){\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.darkOverlay.hidden = !this.stats.is_sleeping;\n        }\n\n        if(this.stats.is_sleeping){\n            if(\n                (this.stats.current_sleep >= this.stats.max_sleep \n                || (this.hasMoodlet('rested') && Math.random() < this.stats.light_sleepiness * 0.01)) \n                && !_App__WEBPACK_IMPORTED_MODULE_1__.App.isSleepHour()\n            ){\n                this.stats.is_sleeping = false;\n                _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(true);\n                return;\n            }\n            this.stopMove();\n            this.setState('sleeping');  \n            _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(false, () => {\n                this.stats.is_sleeping = false;\n                _App__WEBPACK_IMPORTED_MODULE_1__.App.toggleGameplayControls(true);\n                if(!this.hasMoodlet('rested')){\n                    _App__WEBPACK_IMPORTED_MODULE_1__.App.pet.triggerScriptedState('uncomfortable', 3000);\n                } else {\n                    _App__WEBPACK_IMPORTED_MODULE_1__.App.pet.playCheeringAnimation();\n                }\n            });\n        }\n        else if(this.isMoving)\n            this.setState('moving');\n        else {\n            if(this.state.indexOf('idle') == -1){\n                if(this.hasMoodlet('hungry') || this.hasMoodlet('sleepy') || this.hasMoodlet('bored') || this.hasMoodlet('sick')){\n                    if((0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(0, 1))\n                        this.setState('idle_uncomfortable');\n                    else \n                        this.setState('idle_side_uncomfortable');\n                }\n                else {\n                    this.setState('idle');\n                }\n            }\n        }\n    }\n    handleAnimation(){\n        const me = this;\n\n        if(!this.animation.set) return;\n\n        let set = this.animation.set;\n\n        let frameRound = set.end - set.start;\n\n        if(this.animation.nextFrameTime < _App__WEBPACK_IMPORTED_MODULE_1__.App.lastTime){ // go to next frame\n\n            if(this.animObjectsQueue.length){\n                this.animObjectsQueue.forEach(obj => {\n                    if(obj._lives && obj._lives > 0){\n                        obj._lives --;\n                        return;\n                    }\n                    _App__WEBPACK_IMPORTED_MODULE_1__.App.drawer.removeObject(obj);\n                })\n            }\n\n            this.animation.nextFrameTime = _App__WEBPACK_IMPORTED_MODULE_1__.App.lastTime + set.frameTime;\n\n            this.animation.currentFrame = (this.animation.currentFrame + 1) % frameRound;\n            this.spritesheet.cellNumber = set.start + this.animation.currentFrame;\n\n            if(set.sound){\n                if(!set.sound._counter) set.sound._counter = 0;\n                if(++set.sound._counter == set.sound.interval){\n                    set.sound._counter = 0;\n                    this.playSound(`resources/sounds/${set.sound.file}`);\n                }\n            }\n\n            if(set.objects){\n                set.objects.forEach(objectDef => {\n                    if(!objectDef._counter) objectDef._counter = 0;\n                    if(++objectDef._counter == objectDef.interval){\n                        objectDef._counter = 0;\n                        let object = new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d(objectDef);\n                        me.animObjectsQueue.push(object);\n                    }\n                })\n            }\n        }\n    }\n    wander() {\n        if(this.isMoving){\n            this.nextRandomTargetSelect = 0;\n        }\n\n        if (!this.nextRandomTargetSelect) {\n            this.nextRandomTargetSelect = _App__WEBPACK_IMPORTED_MODULE_1__.App.lastTime + (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(this.stats.wander_min, this.stats.wander_max) * 1000;\n        }\n\n        if (_App__WEBPACK_IMPORTED_MODULE_1__.App.lastTime > this.nextRandomTargetSelect) {\n            this.targetX = (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.random)(this.drawer.getRelativePositionX(0), this.drawer.getRelativePositionX(100) - this.spritesheet.cellSize);\n            this.nextRandomTargetSelect = 0;\n        }\n    }\n    jump(strength = 0.28){\n        if(this.isJumping !== undefined) return false;\n\n        this.isJumping = true;\n        const gravity = 0.001;\n        const startY = this.y;\n        let velocity = strength;\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.playSound('resources/sounds/jump.ogg', true);\n\n        this.triggerScriptedState('jumping', _App__WEBPACK_IMPORTED_MODULE_1__.App.INF, 0, true, \n        () => { // on end\n            this.y = startY;\n            this.isJumping = undefined;\n        }, () => { // driver fn\n            velocity -= gravity * _App__WEBPACK_IMPORTED_MODULE_1__.App.deltaTime;\n            this.y -= velocity * _App__WEBPACK_IMPORTED_MODULE_1__.App.deltaTime;\n            if(this.y >= startY){\n                this.stopScriptedState();\n            }\n        });\n    }\n    simulateAwayProgression(elapsedTime){\n        this.isMainPet = true;\n\n        // calling stats manager once every second instead of twice every second\n        let iterations = Math.floor((elapsedTime / 1000));\n        for(let i = 0; i < iterations; i++){\n            if(this.stats.is_egg){\n                this.handleEgg();\n                continue;\n            }\n            this.statsManager();\n        }\n    }\n    simulateOfflineProgression(elapsedTime){\n        this.isMainPet = true;\n        // getting caught up with the stats simulation\n        // since pets call statsManager twice each seconds\n        // we are going to simulate that by approximating\n        // deprecated: (max offline progression is 12 hours)\n        // (max offline progression is 7 days)\n\n        // 3600(secs in 1 hour) * 24(1 day) * 7(7 days) = 604800\n        const maxOfflineProgressionSeconds = 604800;\n\n        const startTime = Date.now();\n        let iterations = Math.floor((0,_Utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(elapsedTime / 1000, 0, maxOfflineProgressionSeconds) * 2);\n        for(let i = 0; i < iterations; i++){\n            elapsedTime -= 500;\n            let date = new Date(startTime - elapsedTime);\n            let hour = date.getHours();\n\n            // supplying hour because from 22:00 to 9:00 the starts will drop much slower and pet will get sleep\n            if(this.stats.is_egg){\n                this.handleEgg();\n                continue;\n            }\n            this.statsManager(true, hour);\n        }\n    }\n    ageUp(){\n        this.petDefinition.ageUp()\n        this.removeObject();\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.pet = _App__WEBPACK_IMPORTED_MODULE_1__.App.createActivePet(this.petDefinition);\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.save();\n    }\n    serializeStats(){\n        return this.petDefinition.serializeStats();\n    }\n    loadStats(json){\n        this.petDefinition.loadStats(json);\n    }\n    playSound(sound, force){\n        if(!this.isMainPet) return;\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.playSound(sound, force);\n    }\n    getStatsDepletionRates(offline){\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition.maxStats();\n        \n        let seconds = 3600 * 100;\n        let report = {};\n        // let offline = false;\n\n        for(let i = 0; i < seconds; i++){\n            this.statsManager(offline);\n            this.statsManager(offline);\n\n            let min = {m: i / 60, s: i, h: i / 60 / 60};\n            if(this.stats.current_hunger <= 0 && !report.hunger) report.hunger = {...min, stat: this.stats.current_hunger};\n            if(this.stats.current_sleep <= 2 && !report.sleep) report.sleep = {...min, stat: this.stats.current_sleep};\n            if(this.stats.current_fun <= 0 && !report.fun) report.fun = {...min, stat: this.stats.current_fun};\n            if(this.stats.current_bladder <= 3 && !report.bladder) report.bladder = {...min, stat: this.stats.current_bladder};\n            if(this.stats.current_cleanliness <= 0 && !report.cleanliness) report.cleanliness = {...min, stat: this.stats.current_cleanliness};\n            if(this.stats.current_health <= 0 && !report.health) report.health = {...min, stat: this.stats.current_health};\n            if(this.stats.current_death_tick <= 0 && !report.death_tick) report.death_tick = {...min, stat: this.stats.current_death_tick};\n        }\n\n        console.log(`Time every stats hit ~0:`, report);\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.petDefinition.maxStats();\n    }\n    showCurrentWant(){\n        if(this.stats.current_want.type){\n            this.showThought(this.stats.current_want.type, this.stats.current_want.item);\n        }\n    }\n    showThought(type, item){\n        const bubble = new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n            parent: this,\n            img: 'resources/img/misc/thought_bubble_01.png',\n            x: -999, \n            y: -999,\n            opacity: 0,\n            z: _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.ACTIVE_PET_Z + 0.1,\n            shouldFadeout: false,\n            float: 0,\n            onDraw: (me) => {\n                me.x = this.x;\n                me.float += 0.004 * _App__WEBPACK_IMPORTED_MODULE_1__.App.deltaTime;\n                if(me.float > _App__WEBPACK_IMPORTED_MODULE_1__.App.PI2) me.float = 0;\n                me.y = this.y - (this.spritesheet.cellSize * 1.5) - (this.spritesheet.offsetY * 1.8 || 0) + Math.sin(me.float); \n                const opacityTarget = me.shouldFadeout ? 0 : 1;\n                me.opacity = (0,_Utils__WEBPACK_IMPORTED_MODULE_6__.lerp)(me.opacity, opacityTarget, _App__WEBPACK_IMPORTED_MODULE_1__.App.deltaTime * 0.01);\n            }\n        })\n\n        // shows type icon if exists\n        if([\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.food,\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.playdate,\n            _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.item,\n        ].includes(type)) {\n            const typeIcon = new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n                parent: bubble,\n                img: `resources/img/misc/thought_bubble_type_${type}.png`,\n                x: 0, \n                y: 0,\n                opacity: 0,\n                z: 10.01,\n                shouldFadeout: false,\n                float: 0,\n                onDraw: (me) => {\n                    me.opacity = bubble.opacity;\n                    me.x = bubble.x;\n                    me.y = bubble.y;\n                }\n            })\n        }\n\n        const scale = 1 || 0;\n\n        switch(type){\n            case _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.food:\n                const foodSpriteIndex = _Definitions__WEBPACK_IMPORTED_MODULE_2__.Definitions.food[item]?.sprite;\n                if(!foodSpriteIndex) break;\n                new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n                    parent: bubble,\n                    image: _App__WEBPACK_IMPORTED_MODULE_1__.App.preloadedResources[_App__WEBPACK_IMPORTED_MODULE_1__.App.constants.FOOD_SPRITESHEET],\n                    x: 10, y: 10, z: 10,\n                    scale: 0.62,\n                    spritesheet: {\n                        cellNumber: foodSpriteIndex,\n                        cellSize: 24,\n                        rows: 33,\n                        columns: 33,\n                    },\n                    onDraw: (me) => {\n                        me.opacity = bubble.opacity;\n                        me.x = bubble.x + 4;\n                        me.y = bubble.y + 1;\n                    }\n                })\n                break;\n            case _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.playdate:\n                const friendDef = this.petDefinition.friends[item];\n                if(!friendDef) break;\n                new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n                    parent: bubble,\n                    image: _App__WEBPACK_IMPORTED_MODULE_1__.App.preloadedResources[friendDef.sprite],\n                    x: 10, y: 10, z: 10,\n                    scale: 0.62,\n                    spritesheet: friendDef.spritesheet,\n                    onDraw: (me) => {\n                        me.opacity = bubble.opacity;\n                        me.x = bubble.x + (friendDef.spritesheet.offsetY ?? 0);\n                        me.y = bubble.y - 4 + (friendDef.spritesheet.offsetY ?? 0);\n                    }\n                })\n                break;\n            case _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.item:\n                const itemSpriteIndex = _Definitions__WEBPACK_IMPORTED_MODULE_2__.Definitions.item[item]?.sprite;\n                if(!itemSpriteIndex) break;\n                new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n                    parent: bubble,\n                    image: _App__WEBPACK_IMPORTED_MODULE_1__.App.preloadedResources[\"resources/img/item/items.png\"],\n                    x: 10, y: 10, z: 10,\n                    scale: 0.7,\n                    spritesheet: {\n                        cellNumber: itemSpriteIndex,\n                        cellSize: 22,\n                        rows: 10,\n                        columns: 10\n                    },\n                    onDraw: (me) => {\n                        me.opacity = bubble.opacity;\n                        me.x = bubble.x + 5;\n                        me.y = bubble.y + 2;\n                    }\n                })\n                break;\n            case _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.minigame:\n                new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n                    parent: bubble,\n                    image: _App__WEBPACK_IMPORTED_MODULE_1__.App.preloadedResources[\"resources/img/misc/minigames.png\"],\n                    x: 10, y: 10, z: 10,\n                    onDraw: (me) => {\n                        me.opacity = bubble.opacity;\n                        me.x = bubble.x;\n                        me.y = bubble.y;\n                    }\n                })\n                break;\n            case _App__WEBPACK_IMPORTED_MODULE_1__.App.constants.WANT_TYPES.fulfilled:\n                new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n                    parent: bubble,\n                    image: _App__WEBPACK_IMPORTED_MODULE_1__.App.preloadedResources[\"resources/img/misc/want_fulfilled.png\"],\n                    x: 10, y: 10, z: 10,\n                    onDraw: (me) => {\n                        me.opacity = bubble.opacity;\n                        me.x = bubble.x;\n                        me.y = bubble.y;\n                    }\n                })\n                break;\n            default:\n                new _Object2d__WEBPACK_IMPORTED_MODULE_4__.Object2d({\n                    parent: bubble,\n                    image: _App__WEBPACK_IMPORTED_MODULE_1__.App.preloadedResources[`resources/img/misc/${type}.png`],\n                    x: 10, y: 10, z: 10,\n                    onDraw: (me) => {\n                        me.opacity = bubble.opacity;\n                        me.x = bubble.x;\n                        me.y = bubble.y;\n                    }\n                })\n        }\n\n        setTimeout(() => {\n            bubble.shouldFadeout = true;\n            setTimeout(() => bubble.removeObject(), 1000);\n        }, 5000);\n    }\n    static scriptedEventDrivers = {\n        playing: function(start){\n            this.pet.setState('moving');\n\n            if(this.playing_current_target_x === undefined){\n                this.playing_current_target_x = true;\n                this.pet.targetX = 0;\n            }\n\n            if(this.pet.x == this.pet.targetX){\n                if(this.pet.targetX == 0) this.pet.targetX = 100 - this.pet.spritesheet.cellSize;\n                else this.pet.targetX = 0;\n            }\n        },\n        movingOut: function(start){\n            this.pet.setState('moving');\n\n            if(this.moving_init_done === undefined){\n                this.moving_init_done = true;\n                this.pet.x = 0;\n                this.pet.targetX = -20;\n            }\n        },\n        movingIn: function(){\n            this.pet.setState('moving');\n\n            if(this.moving_init_done === undefined){\n                this.moving_init_done = true;\n                this.pet.x = '105%';\n                this.pet.targetX = -20;\n            }\n        },\n        playingWithItem: function(){\n            // if(!this.item) return false;\n\n            switch(this.item?.name){\n                default:\n                    const possibleStates = ['cheering', 'eating', 'shocked', 'sitting', 'blush'];\n                    if(Math.random() < 0.007){\n                        this.pet.setState((0,_Utils__WEBPACK_IMPORTED_MODULE_6__.randomFromArray)(possibleStates));\n                        // this.pet.inverted = random(0, 1) ? true : false;\n                        // if(this.pet.inverted){\n                        //     this.itemObject.x = '75%';\n                        // } else {\n                        //     this.itemObject.x = '25%';\n                        // }\n                    }\n            }\n        }\n    }\n}\n\n//# sourceURL=webpack:///./src/Pet.js?");

/***/ }),

/***/ "./src/PetDefinition.js":
/*!******************************!*\
  !*** ./src/PetDefinition.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PetDefinition: () => (/* binding */ PetDefinition)\n/* harmony export */ });\n/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App */ \"./src/App.js\");\n/* harmony import */ var _Definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Definitions */ \"./src/Definitions.js\");\n/* harmony import */ var _libs_moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./libs/moment */ \"./src/libs/moment.js\");\n/* harmony import */ var _libs_moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_libs_moment__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Missions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Missions */ \"./src/Missions.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Utils */ \"./src/Utils.js\");\n\n\n\n\n\n\nclass PetDefinition {\n    // sprite data\n    spritesheet = {\n        cellNumber: 0,\n        cellSize: 32,\n        rows: 4,\n        columns: 4,\n    };\n\n    // metadata\n    birthday = new Date();\n    lastBirthday = new Date();\n    animations = {\n        idle: {\n            start: 1,\n            end: 2,\n            frameTime: 500\n        },\n        idle_side: {\n            start: 9,\n            end: 10,\n            frameTime: 500\n        },\n        idle_uncomfortable: {\n            start: 4,\n            end: 5,\n            frameTime: 500,\n        },\n        idle_side_uncomfortable: {\n            start: 12,\n            end: 13,\n            frameTime: 1000,\n        },\n        moving: {\n            start: 10,\n            end: 12,\n            frameTime: 100,\n            // sound: {\n            //     file: 'walk_01.ogg',\n            //     interval: 2,\n            // },\n        },\n        sitting: {\n            start: 14,\n            end: 15,\n            frameTime: 300\n        },\n        uncomfortable: {\n            start: 4,\n            end: 6,\n            frameTime: 500,\n            sound: {\n                file: 'sad.ogg',\n                interval: 2,\n            },\n        },\n        angry: {\n            start: 6,\n            end: 7,\n            frameTime: 500,\n            sound: {\n                file: 'angry.ogg',\n                interval: 2,\n            },\n        },\n        eating: {\n            start: 14,\n            end: 16,\n            frameTime: 250,\n            sound: {\n                file: 'eat.ogg',\n                interval: 2,\n            },\n        },\n        shocked: {\n            start: 7,\n            end: 8,\n            frameTime: 250,\n        },\n        blush: {\n            start: 8,\n            end: 9,\n            frameTime: 250,\n        },\n        cheering: {\n            start: 2,\n            end: 4,\n            frameTime: 250,\n            sound: {\n                file: 'cheer.ogg',\n                interval: 2,\n            },\n        },\n        cheering_with_icon: {\n            start: 2,\n            end: 4,\n            frameTime: 250,\n            // sound: {\n            //     file: 'cheer.ogg',\n            //     interval: 2,\n            // },\n            objects: [\n                {\n                    img: 'resources/img/misc/happy_icon.png',\n                    x: 10, y: 10, z: 8,\n                    interval: 2,\n                }\n            ]\n        },\n        jumping: {\n            start: 2,\n            end: 3,\n            frameTime: 250,\n        },\n        refuse: {\n            start: 4,\n            end: 7,\n            frameTime: 300,\n            sound: {\n                file: 'refuse.ogg',\n                interval: 2,\n            },\n        },\n        sleeping: {\n            start: 16,\n            end: 17,\n            frameTime: 1000,\n        },\n        kissing: {\n            start: 12,\n            end: 14,\n            frameTime: 250,\n        },\n        battle: {\n            start: 1,\n            end: 3,\n            frameTime: 350 + Math.random() * 250,\n        }\n    }\n    stats = {\n        speed: 0.01,\n        // hunger\n        max_hunger: 100,\n        hunger_satisfaction: 85, // note: when reaching this they won't want anymore food\n        hunger_min_desire: 40, // note: when below this number they desire it\n        hunger_depletion_rate: 0.0145,\n        activity_hunger_depletion: 0.5,\n        // sleep\n        max_sleep: 100,\n        sleep_satisfaction: 70,\n        sleep_min_desire: 20,\n        sleep_depletion_rate: 0.0034,\n        sleep_replenish_rate: 0.1,\n        light_sleepiness: 0.01,\n        activity_sleep_depletion: 0.3,\n        // fun\n        max_fun: 100,\n        fun_min_desire: 35,\n        fun_satisfaction: 70,\n        fun_depletion_rate: 0.0235,\n        // bladder\n        max_bladder: 100,\n        bladder_depletion_rate: 0.015,\n        // health\n        max_health: 100,\n        health_depletion_mult: 0.5, // from 0 to 1, 0 means immune to all health risks\n        health_depletion_rate: 0.0055,\n        // cleanliness\n        max_cleanliness: 100,\n        cleanliness_depletion_mult: 20,\n        cleanliness_depletion_rate: 0.0115,\n        // death ticker\n        max_death_tick: 100, // ~ 54 hours\n        baby_max_death_tick: 44, // ~ 24 hours\n        teen_max_death_tick: 74, // ~ 40 hours\n        death_tick_rate: 0.000289,\n        // care\n        max_care: 3,\n        // wander (sec)\n        wander_min: 1.5,\n        wander_max: 8,\n\n        // current\n        current_hunger: 40,\n        current_sleep: 70,\n        current_fun: 10,\n        current_bladder: 10,\n        current_health: 90,\n        current_cleanliness: 50,\n        current_death_tick: 100,\n        current_care: 1,\n\n        // gold\n        gold: 15,\n\n        // other stats\n        is_sleeping: false,\n        has_poop_out: false,\n        is_egg: false,\n        is_player_family: false,\n        is_at_parents: false,\n        is_dead: false,\n        is_at_vacation: false,\n        current_want: {\n            type: null,\n            item: null,\n            appearTime: null,\n            pendingFulfilled: null,\n            next_refresh_ms: new Date().getTime() + (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.random)(5000, 30000),\n        },\n        should_care_increase: true,\n    }\n    friends = [];\n    family = [];\n    deceasedPredecessors = [];\n    inventory = {\n        food: {\n            'bread': 1,\n            'slice of pizza': 3,\n        },\n        item: { },\n        accessory: { },\n    }\n    accessories = [];\n\n    constructor(config) {\n        if(config){\n            Object.assign(this, config);\n        }\n\n        this.prepareSprite();\n    }\n\n    getSpritesheetDefinition(){\n        this.spritesheet = this.spritesheetDefinitions[this.lifeStage + ''];\n    }\n    \n    serializables = [\n        'name', \n        'stats', \n        'inventory', \n        'friends', \n        'family', \n        'sprite', \n        'birthday', \n        'lastBirthday', \n        'accessories',\n        'deceasedPredecessors',\n        'spriteSkin',\n    ];\n    serializeStats(noStringify){\n        let s = {};\n        this.serializables.forEach(serializable => {\n            if(serializable === 'stats'){\n                s['stats'] = { // todo: for testing, might want to revert\n                    gold: this.stats.gold,\n                    current_bladder: this.stats.current_bladder,\n                    current_fun: this.stats.current_fun,\n                    current_hunger: this.stats.current_hunger,\n                    current_sleep: this.stats.current_sleep,\n                    current_health: this.stats.current_health,\n                    current_cleanliness: this.stats.current_cleanliness,\n                    current_death_tick: this.stats.current_death_tick,\n                    has_poop_out: this.stats.has_poop_out,\n                    is_sleeping: this.stats.is_sleeping,\n                    is_egg: this.stats.is_egg,\n                    is_player_family: this.stats.is_player_family,\n                    player_friendship: this.stats.player_friendship,\n                    is_at_parents: this.stats.is_at_parents,\n                    is_at_vacation: this.stats.is_at_vacation,\n                    is_dead: this.stats.is_dead,\n                    current_want: this.stats.current_want,\n                    current_care: this.stats.current_care,\n                    should_care_increase: this.stats.should_care_increase,\n                }\n                return;\n            }\n            if(serializable === 'friends'){\n                s['friends'] = this.friends.map(friendDef => {\n                    return {\n                        ..._App__WEBPACK_IMPORTED_MODULE_0__.App.minimalizePetDef(friendDef.serializeStats(true)), \n                        stats: {\n                            player_friendship: friendDef.stats.player_friendship,\n                            is_player_family: friendDef.stats.is_player_family,\n                        }\n                    };\n                })\n                return;\n            }\n            s[serializable] = this[serializable];\n        });\n\n        if(noStringify) return s;\n        return JSON.stringify(s);\n    }\n    loadStats(json){\n        this.serializables.forEach(serializable => {\n            if(!json[serializable]) return;\n\n            // if(serializable == 'lastBirthday' || serializable == 'birthday'){\n            //     return;\n            // }\n\n            if(typeof json[serializable] === 'object'){\n                Object.assign(this[serializable], json[serializable]);\n            } else {\n                this[serializable] = json[serializable];\n            }\n        });\n\n        // changing psuedo pet defs to real ones\n        if(this.friends.length) {\n            this.friends = this.friends.map(friend => {\n                let def = new PetDefinition().loadStats(friend);\n                def.friends = [];\n                return def;\n            });\n        }\n\n        this.prepareSprite();\n\n        return this;\n    }\n    setStats(stats){\n        Object.assign(this.stats, stats);\n        return this;\n    }\n    maxStats(){\n        this.stats.current_hunger = 100;\n        this.stats.current_fun = 100;\n        this.stats.current_sleep = 100;\n        this.stats.current_health = 100;\n        this.stats.current_bladder = 100;\n        this.stats.current_cleanliness = 100;\n        this.stats.current_death_tick = 100;\n        this.stats.has_poop_out = false;\n        this.stats.is_dead = false;\n    }\n\n    loadAccessories(accessories){\n        if(accessories) this.accessories = accessories;\n        return this;\n    }\n\n    increaseFriendship(value){\n        if(!value) value = (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.random)(5, 10);\n\n        if(!this.stats.player_friendship) this.stats.player_friendship = value;\n        else this.stats.player_friendship += value;\n\n        this.stats.player_friendship = (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.clamp)(this.stats.player_friendship, 1, 100);\n    }\n\n    getFriendship(){\n        if(!this.stats.player_friendship)\n            this.increaseFriendship((0,_Utils__WEBPACK_IMPORTED_MODULE_4__.random)(2, 8));\n        return this.stats.player_friendship;\n    }\n\n    getLifeStage(){\n        return PetDefinition._getLifeStage(this.sprite);\n    }\n\n    getLifeStageLabel(){\n        let age = 'baby';\n        switch(this.getLifeStage()){\n            case 1: age = 'teen'; break;\n            case 2: age = 'adult'; break;\n        }\n        return age;\n    }\n\n    prepareSprite(){\n        this.lifeStage = this.getLifeStage();\n        this.getSpritesheetDefinition();  \n    }\n\n    getNextBirthdayDate(){\n        let m = _libs_moment__WEBPACK_IMPORTED_MODULE_2___default()(this.lastBirthday).utc();\n        switch(this.lifeStage){\n            case 0:\n                return m.add(_App__WEBPACK_IMPORTED_MODULE_0__.App.constants.MANUAL_AGE_HOURS_BABY, 'hours');\n            case 1:\n                return m.add(_App__WEBPACK_IMPORTED_MODULE_0__.App.constants.MANUAL_AGE_HOURS_TEEN, 'hours');\n        }\n        return false;\n    }\n\n    getNextAutomaticBirthdayDate(){\n        let m = _libs_moment__WEBPACK_IMPORTED_MODULE_2___default()(this.birthday).utc();\n        switch(this.lifeStage){\n            case 0:\n                return m.add(_App__WEBPACK_IMPORTED_MODULE_0__.App.constants.AUTO_AGE_HOURS_BABY, 'hours');\n            case 1:\n                return m.add(_App__WEBPACK_IMPORTED_MODULE_0__.App.constants.AUTO_AGE_HOURS_TEEN, 'hours');\n        }\n        return false;\n    }\n\n    ageUp(isNpc){\n        const careRating = !isNpc ? this.stats.current_care : (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.random)(1, 3);\n        let possibleEvolutions = GROWTH_CHART[this.sprite];\n        if(!possibleEvolutions){\n            possibleEvolutions = GROWTH_CHART[(0,_Utils__WEBPACK_IMPORTED_MODULE_4__.randomFromArray)(Object.keys(GROWTH_CHART))]\n        }\n\n        switch(this.lifeStage){\n            case 0:\n                let targetEvolutions;\n                switch(careRating){\n                    case 1: targetEvolutions = possibleEvolutions.slice(0, 2); break; // low care\n                    case 3: targetEvolutions = possibleEvolutions.slice(5); break; // high care\n                    default: targetEvolutions = possibleEvolutions.slice(2, 5); // default medium care\n                }\n                this.sprite = (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.randomFromArray)(targetEvolutions);\n                break;\n            case 1:\n                switch(careRating){\n                    case 1: this.sprite = possibleEvolutions[0]; break; // low care\n                    case 3: this.sprite = possibleEvolutions[2]; break; // high care\n                    default: this.sprite = possibleEvolutions[1]; // default medium care\n                }\n                break;\n            case 2: return;\n        }\n\n        this.lastBirthday = new Date();\n        this.prepareSprite();\n\n        this.friends?.forEach(friendDef => {\n            if(friendDef.ageUp) friendDef.ageUp(true);\n        })\n\n        return true;\n    }\n\n    addFriend(friendDef, friendship){\n        if(this.friends.indexOf(friendDef) === -1){ // checking friends list\n            let friendDefS = friendDef.name + friendDef.sprite;\n            let haveMatchingDef = this.friends.some(activeFriendDef => {\n                let activeFriendDefS = activeFriendDef.name + activeFriendDef.sprite;\n                if(activeFriendDefS == friendDefS) return true;\n                return false;\n            });\n            if(!haveMatchingDef){ // new friend\n                this.friends.push(friendDef);\n                friendDef.increaseFriendship(friendship);\n                return true;\n            } else { // not new friend\n                return false;\n            }\n        }\n\n        return false;\n    }\n\n    getCSprite(){\n        return PetDefinition.generateCSprite(this.sprite);\n    }\n\n    getFullCSprite(){\n        return PetDefinition.generateFullCSprite(this.sprite);\n    }\n\n    getParents(){\n        if(!this.friends.length) return false;\n\n        let parents = this.friends.filter(friendDef => friendDef.stats.is_player_family);\n        if(!parents.length) return false;\n        \n        return parents;\n    }\n\n    refreshWant(currentTry = 1, existingCurrentCategory, forced){\n        if(currentTry > 48 && !forced) return;\n\n        const {current_want} = this.stats;\n\n        if(current_want.type){ // has unfulfilled want\n            this.clearWant(false);\n        }\n\n        const possibleCategories = [\n            'food',\n            'snack',\n            'playdate',\n            'item',\n            'minigame',\n            // 'park',\n            // 'redecor',\n            // 'accessory',\n        ]\n\n        if(_App__WEBPACK_IMPORTED_MODULE_0__.App.pet.hasMoodlet('hungry')){\n            possibleCategories.push('hungry', 'hungry', 'hungry');\n        }\n\n        const currentCategory = /* 'minigame' ||  */existingCurrentCategory || (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.randomFromArray)(possibleCategories);\n\n        switch(currentCategory){\n            case \"food\": // item is food name\n                const wantedFood = (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.randomFromArray)(Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.food));\n                if(\n                    !_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.food[wantedFood].age.includes(this.lifeStage) \n                    || ['med', 'treat'].includes(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.food[wantedFood].type)\n                ) return this.refreshWant(++currentTry, currentCategory);\n                current_want.type = _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.food;\n                current_want.item = wantedFood;\n                break;\n            case \"snack\": // item is food name\n                const wantedSnack = (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.randomFromArray)(Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.food));\n                if(\n                    !_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.food[wantedSnack].age.includes(this.lifeStage) \n                    || !['treat'].includes(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.food[wantedSnack].type)\n                ) return this.refreshWant(++currentTry, currentCategory);\n                current_want.type = _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.food;\n                current_want.item = wantedSnack;\n                break;\n            case \"playdate\": // item is friend index\n                if(!this.friends.length) return this.refreshWant(++currentTry);\n                const wantedFriendIndex = (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.random)(0, this.friends.length - 1);\n                current_want.type = _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.playdate;\n                current_want.item = wantedFriendIndex;\n                break;\n            case \"item\": // item is item name\n                const wantedItem = (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.randomFromArray)(Object.keys(_Definitions__WEBPACK_IMPORTED_MODULE_1__.Definitions.item));\n                current_want.type = _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.item;\n                current_want.item = wantedItem;\n                break;\n            case \"minigame\": // item is not used\n                current_want.type = _App__WEBPACK_IMPORTED_MODULE_0__.App.constants.WANT_TYPES.minigame;\n                current_want.item = true;\n                break;\n        }\n\n        current_want.appearTime = _App__WEBPACK_IMPORTED_MODULE_0__.App.fullTime;\n        current_want.next_refresh_ms = _App__WEBPACK_IMPORTED_MODULE_0__.App.fullTime += (1000 * 60 * (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.random)(30, 60)); // 30-60 min\n    }\n    clearWant(fulfilled){\n        const {current_want} = this.stats;\n        console.log('want cleared', {fulfilled});\n        current_want.type = null;\n        current_want.item = null;\n        current_want.appearTime = null;\n        current_want.pendingFulfilled = fulfilled;\n\n        if(fulfilled){\n            this.stats.current_fun += (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.random)(30, 50);\n            this.adjustCare(true);\n            _Missions__WEBPACK_IMPORTED_MODULE_3__.Missions.done(_Missions__WEBPACK_IMPORTED_MODULE_3__.Missions.TYPES.fulfill_want);\n        } else {\n            if(!(0,_Utils__WEBPACK_IMPORTED_MODULE_4__.random)(0, 4)) this.adjustCare(false);\n        }\n    }\n    checkWant(condition, type){\n        if(!condition || type !== this.stats.current_want.type) return false;\n\n        this.clearWant(true);\n        return true;\n    }\n    adjustCare(add){\n        if(add) this.stats.current_care += 1;\n        else this.stats.current_care -= 1;\n        this.stats.current_care = (0,_Utils__WEBPACK_IMPORTED_MODULE_4__.clamp)(this.stats.current_care, 1, this.stats.max_care);\n    }\n\n    spritesheetDefinitions = {\n        '0': { // baby\n            cellNumber: 1,\n            cellSize: 16,\n            rows: 4,\n            columns: 4,\n            offsetY: 8,\n        },\n        '1': { // teen\n            cellNumber: 1,\n            cellSize: 24,\n            rows: 4,\n            columns: 4,\n            offsetY: 4,    \n        },\n        '2': { // adult\n            cellNumber: 1,\n            cellSize: 32,\n            rows: 4,\n            columns: 4,\n        }\n    }\n\n    static generateCSprite(sprite, noMargin){\n        const margin = noMargin ? 0 : 10;\n        const lifeStage = PetDefinition._getLifeStage(sprite);\n        if(lifeStage == 0) return `<c-sprite width=\"16\" height=\"16\" index=\"0\" src=\"${sprite}\" pos-x=\"0\" pos-y=\"0\" style=\"margin-right: ${margin}px;\"></c-sprite>`;\n        if(lifeStage == 1) return `<c-sprite width=\"16\" height=\"16\" index=\"0\" src=\"${sprite}\" pos-x=\"4\" pos-y=\"4\" style=\"margin-right: ${margin}px;\"></c-sprite>`;\n        return `<c-sprite width=\"20\" height=\"20\" index=\"0\" src=\"${sprite}\" pos-x=\"6\" pos-y=\"4\" style=\"margin-right: ${margin}px;\"></c-sprite>`;\n    }\n\n    static generateFullCSprite(sprite){\n        const lifeStage = PetDefinition._getLifeStage(sprite);\n        if(lifeStage == 0) return `<c-sprite width=\"16\" height=\"16\" index=\"0\" src=\"${sprite}\" pos-x=\"0\" pos-y=\"0\"></c-sprite>`;\n        if(lifeStage == 1) return `<c-sprite width=\"24\" height=\"24\" index=\"0\" src=\"${sprite}\" pos-x=\"0\" pos-y=\"0\"></c-sprite>`;\n        return `<c-sprite width=\"32\" height=\"32\" index=\"0\" src=\"${sprite}\" pos-x=\"0\" pos-y=\"0\"></c-sprite>`;\n    }\n\n    static _getLifeStage(sprite){\n        if(PET_BABY_CHARACTERS.some(char => char === sprite)) return 0;\n        else if(PET_TEEN_CHARACTERS.some(char => char === sprite)) return 1;\n        return 2;\n    }\n\n    static getCharCode(sprite){\n        return sprite.replace(/\\D+/g, '');\n    }\n}\n\n//# sourceURL=webpack:///./src/PetDefinition.js?");

/***/ }),

/***/ "./src/Scene.js":
/*!**********************!*\
  !*** ./src/Scene.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Scene: () => (/* binding */ Scene)\n/* harmony export */ });\nclass Scene {\n    constructor(data){\n        Object.assign(this, data);\n    }\n}\n\n//# sourceURL=webpack:///./src/Scene.js?");

/***/ }),

/***/ "./src/UiHelper.js":
/*!*************************!*\
  !*** ./src/UiHelper.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UI: () => (/* binding */ UI)\n/* harmony export */ });\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"./src/Utils.js\");\n\n\nconst UI = {\n    specialProps: [\n        'componentType',\n        'parent',\n        'children',\n    ],\n    create: (props) => {\n        return UI.ce(props);\n    },\n    ce: (props) => {\n        const e = document.createElement(props?.componentType || 'div');\n\n        Object.keys(props).forEach(propName => {\n\n            if(UI.specialProps.includes(propName)){\n                switch(propName){\n                    case 'children':\n                        props.children.forEach((child) => {\n                            UI.ce({\n                                ...child,\n                                parent: e\n                            })\n                        })\n                        break\n                    case 'parent':\n                        if(props.parentInsertBefore)\n                            props.parent.insertBefore(e, props.parent.firstChild)\n                        else\n                            props.parent.appendChild(e);\n                        break;\n                }\n                return;\n            }\n\n            e[propName] = props[propName];\n            // e.setAttribute(prop, props[prop]);\n        })\n        return e;\n    },\n    genericButton: (props) => {\n        return UI.ce({\n            ...props,\n            componentType: 'button',\n            className: 'cila-btn',\n        })\n    },\n    genericFlexContainer: (props) => {\n        const element = UI.ce({\n            classList: ['cila-generic-flex-container'],\n            parent: document.querySelector('.screen-wrapper'),\n        })\n        element.close = () => element.remove();\n        return element;\n    },\n    empty: () => {\n        return document.createElement('div');\n    },\n    genericListContainer: (backFn, backFnTitle) => {\n        let backBtnName = 'Back';\n        const activeListContainers = [...document.querySelectorAll('.screen-wrapper .generic-list-container')];\n        const previousListItem = activeListContainers.at(-1);\n        if(activeListContainers.length > 0){ // to make sure it always display \"back\" when only one layer deep in the interaction tree\n            backBtnName = backFnTitle || UI.lastClickedButton?.textContent?.trim() || previousListItem?._listItems?.at(0)?.name || backBtnName;\n        }\n        UI.lastClickedButton = null;\n\n        const list = document.querySelector('.cloneables .generic-list-container').cloneNode(true);\n        // list.style['z-index'] = 3;\n        list.close = function(){\n            list.remove();\n        }\n        list.transitionAnim = () => {\n            list.classList.remove('menu-animation');\n            list.offsetWidth;\n            list.classList.add('menu-animation');\n        }\n        if(backFn !== false){\n            list.style.paddingTop = '32px';\n            UI.create({\n                parent: list,\n                componentType: 'button',\n                innerHTML: (0,_Utils__WEBPACK_IMPORTED_MODULE_0__.ellipsis)(backBtnName, 13),\n                className: 'back-btn generic-btn solid primary bold floating-top no-anim',\n                onclick: () => {\n                    if(backFn) backFn();\n                    list.close();\n                    // if(previousListItem && previousListItem.transitionAnim) previousListItem.transitionAnim();\n                },\n                children: [\n                    {\n                        componentType: 'i',\n                        className: 'fa-solid fa-arrow-left',\n                        style: `\n                            margin-right: 4px;\n                        `,  \n                        parentInsertBefore: true,\n                    }\n                ]\n            })\n        }\n        document.querySelector('.screen-wrapper').appendChild(list);\n        return list;\n    },\n    clearLastClicked: () => {\n        UI.lastClickedButton = null;\n    },\n    genericListContainerContent: (contentString, listContainer) => {\n        const content = UI.empty();\n        content.innerHTML = contentString;\n        listContainer?.appendChild(content);\n        return content;\n    },\n    fadeOut: (element, timeMs, onEnd) => {\n        if(!timeMs) timeMs = 300;\n        element.classList.add('fade-out');\n        element.style['animation-duration'] = `${timeMs}ms`;\n        setTimeout(() => {\n            UI.hide(element);\n            if(onEnd) onEnd(element);\n        }, timeMs);\n    },\n    hide: (element) => {\n        element.style.display = 'none';\n    },\n    show: (element) => {\n        element.style.display = '';\n    },\n}\n\n//# sourceURL=webpack:///./src/UiHelper.js?");

/***/ }),

/***/ "./src/Utils.js":
/*!**********************!*\
  !*** ./src/Utils.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clamp: () => (/* binding */ clamp),\n/* harmony export */   ellipsis: () => (/* binding */ ellipsis),\n/* harmony export */   getCookie: () => (/* binding */ getCookie),\n/* harmony export */   getRandomName: () => (/* binding */ getRandomName),\n/* harmony export */   lerp: () => (/* binding */ lerp),\n/* harmony export */   move: () => (/* binding */ move),\n/* harmony export */   pRandom: () => (/* binding */ pRandom),\n/* harmony export */   pRandomFromArray: () => (/* binding */ pRandomFromArray),\n/* harmony export */   random: () => (/* binding */ random),\n/* harmony export */   randomFromArray: () => (/* binding */ randomFromArray),\n/* harmony export */   sanitize: () => (/* binding */ sanitize),\n/* harmony export */   setCookie: () => (/* binding */ setCookie)\n/* harmony export */ });\nconst pRandom = {\n    a: 1664525,\n    c: 1013904223,\n    m: Math.pow(2, 32),\n    seed: Math.round(Math.random() * (Math.pow(2, 32) - 1)),\n    getInt: function(){\n        this.seed = (this.a * this.seed + this.c) % this.m;\n        return this.seed;\n    },\n    getFloat: function(){\n        return this.getInt() / this.m;\n    },\n    getBool: function(){\n        return (this.getIntBetween(0,1)) ? true : false;\n    },\n    getIntBetween: function(min, max){\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(this.getFloat() * (max - min + 1)) + min;\n    },\n    getFloatBetween: function(min, max){\n        return this.getFloat() * (max - min) + min;\n    },\n    getPercent: function(p){\n        return (this.getFloatBetween(0,100) > p || p <= 0) ? false : true;\n    },\n    save: function(){\n    \tthis._seed = this.seed;\n    },\n    load: function(){\n    \tif(!this._seed) return false;\n    \tthis.seed = this._seed;\n    },\n    randomSeed: function(){\n        this.seed = Math.round(Math.random() * (Math.pow(2, 32) - 1))\n    }\n};\n\nconst lerp = function(s, e, p){\n    return (1 - p) * s + p * e;\n}\nconst clamp = function(n, min, max) {\n    if (n < min) n = min;\n    if (n > max) n = max;\n    return n;\n}\nconst random = function(min, max, seeded){\n    if(seeded){\n        pRandom.save()\n        pRandom.seed = seeded;\n        const r = pRandom.getIntBetween(min, max);\n        pRandom.load()\n        return r;\n    }\n\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\nconst move = function(s, e, amount){\n    if(s > e) {\n        s -= amount;\n        if(s < e) s = e;\n    }\n    else if(s < e) {\n        s += amount;\n        if(s > e) s = e;\n    }\n    else s = e;\n    return s;\n}\nconst randomFromArray = function(arr){\n    return arr[random(0, arr.length - 1)];\n}\nconst pRandomFromArray = function(arr){\n    return arr[pRandom.getIntBetween(0, arr.length - 1)];\n}\nconst ellipsis = (str, length = 15) => {\n    if(str?.length > length){\n        return str?.slice(0, length).concat('…');\n    }\n    return str;\n}\n\nfunction sanitize (string) {\n    // var entityMap = {\n    //     '&': '&amp;',\n    //     '<': '&lt;',\n    //     '>': '&gt;',\n    //     '\"': '&quot;',\n    //     \"'\": '&#39;',\n    //     '/': '&#x2F;',\n    //     '`': '&#x60;',\n    //     '=': '&#x3D;'\n    // };\n    return String(string).replace(/[&<>\"'`=]/g, function (s) {\n        // return entityMap[s];\n        return '';\n    });\n}\nfunction setCookie(cname, cvalue, exdays) {\n    const d = new Date();\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n    let expires = \"expires=\"+d.toUTCString();\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\nfunction getCookie(cname) {\n    let name = cname + \"=\";\n    let ca = document.cookie.split(';');\n    for(let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n        c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n        return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\nfunction getRandomName(seed){\n    const firstNames = [\"Aaren\",\"Aarika\",\"Abagael\",\"Abagail\",\"Abbe\",\"Abbey\",\"Abbi\",\"Abbie\",\"Abby\",\"Abbye\",\"Abigael\",\"Abigail\",\"Abigale\",\"Abra\",\"Ada\",\"Adah\",\"Adaline\",\"Adan\",\"Adara\",\"Adda\",\"Addi\",\"Addia\",\"Addie\",\"Addy\",\"Adel\",\"Adela\",\"Adelaida\",\"Adelaide\",\"Adele\",\"Adelheid\",\"Adelice\",\"Adelina\",\"Adelind\",\"Adeline\",\"Adella\",\"Adelle\",\"Adena\",\"Adey\",\"Adi\",\"Adiana\",\"Adina\",\"Adora\",\"Adore\",\"Adoree\",\"Adorne\",\"Adrea\",\"Adria\",\"Adriaens\",\"Adrian\",\"Adriana\",\"Adriane\",\"Adrianna\",\"Adrianne\",\"Adriena\",\"Adrienne\",\"Aeriel\",\"Aeriela\",\"Aeriell\",\"Afton\",\"Ag\",\"Agace\",\"Agata\",\"Agatha\",\"Agathe\",\"Aggi\",\"Aggie\",\"Aggy\",\"Agna\",\"Agnella\",\"Agnes\",\"Agnese\",\"Agnesse\",\"Agneta\",\"Agnola\",\"Agretha\",\"Aida\",\"Aidan\",\"Aigneis\",\"Aila\",\"Aile\",\"Ailee\",\"Aileen\",\"Ailene\",\"Ailey\",\"Aili\",\"Ailina\",\"Ailis\",\"Ailsun\",\"Ailyn\",\"Aime\",\"Aimee\",\"Aimil\",\"Aindrea\",\"Ainslee\",\"Ainsley\",\"Ainslie\",\"Ajay\",\"Alaine\",\"Alameda\",\"Alana\",\"Alanah\",\"Alane\",\"Alanna\",\"Alayne\",\"Alberta\",\"Albertina\",\"Albertine\",\"Albina\",\"Alecia\",\"Aleda\",\"Aleece\",\"Aleen\",\"Alejandra\",\"Alejandrina\",\"Alena\",\"Alene\",\"Alessandra\",\"Aleta\",\"Alethea\",\"Alex\",\"Alexa\",\"Alexandra\",\"Alexandrina\",\"Alexi\",\"Alexia\",\"Alexina\",\"Alexine\",\"Alexis\",\"Alfi\",\"Alfie\",\"Alfreda\",\"Alfy\",\"Ali\",\"Alia\",\"Alica\",\"Alice\",\"Alicea\",\"Alicia\",\"Alida\",\"Alidia\",\"Alie\",\"Alika\",\"Alikee\",\"Alina\",\"Aline\",\"Alis\",\"Alisa\",\"Alisha\",\"Alison\",\"Alissa\",\"Alisun\",\"Alix\",\"Aliza\",\"Alla\",\"Alleen\",\"Allegra\",\"Allene\",\"Alli\",\"Allianora\",\"Allie\",\"Allina\",\"Allis\",\"Allison\",\"Allissa\",\"Allix\",\"Allsun\",\"Allx\",\"Ally\",\"Allyce\",\"Allyn\",\"Allys\",\"Allyson\",\"Alma\",\"Almeda\",\"Almeria\",\"Almeta\",\"Almira\",\"Almire\",\"Aloise\",\"Aloisia\",\"Aloysia\",\"Alta\",\"Althea\",\"Alvera\",\"Alverta\",\"Alvina\",\"Alvinia\",\"Alvira\",\"Alyce\",\"Alyda\",\"Alys\",\"Alysa\",\"Alyse\",\"Alysia\",\"Alyson\",\"Alyss\",\"Alyssa\",\"Amabel\",\"Amabelle\",\"Amalea\",\"Amalee\",\"Amaleta\",\"Amalia\",\"Amalie\",\"Amalita\",\"Amalle\",\"Amanda\",\"Amandi\",\"Amandie\",\"Amandy\",\"Amara\",\"Amargo\",\"Amata\",\"Amber\",\"Amberly\",\"Ambur\",\"Ame\",\"Amelia\",\"Amelie\",\"Amelina\",\"Ameline\",\"Amelita\",\"Ami\",\"Amie\",\"Amii\",\"Amil\",\"Amitie\",\"Amity\",\"Ammamaria\",\"Amy\",\"Amye\",\"Ana\",\"Anabal\",\"Anabel\",\"Anabella\",\"Anabelle\",\"Analiese\",\"Analise\",\"Anallese\",\"Anallise\",\"Anastasia\",\"Anastasie\",\"Anastassia\",\"Anatola\",\"Andee\",\"Andeee\",\"Anderea\",\"Andi\",\"Andie\",\"Andra\",\"Andrea\",\"Andreana\",\"Andree\",\"Andrei\",\"Andria\",\"Andriana\",\"Andriette\",\"Andromache\",\"Andy\",\"Anestassia\",\"Anet\",\"Anett\",\"Anetta\",\"Anette\",\"Ange\",\"Angel\",\"Angela\",\"Angele\",\"Angelia\",\"Angelica\",\"Angelika\",\"Angelina\",\"Angeline\",\"Angelique\",\"Angelita\",\"Angelle\",\"Angie\",\"Angil\",\"Angy\",\"Ania\",\"Anica\",\"Anissa\",\"Anita\",\"Anitra\",\"Anjanette\",\"Anjela\",\"Ann\",\"Ann-Marie\",\"Anna\",\"Anna-Diana\",\"Anna-Diane\",\"Anna-Maria\",\"Annabal\",\"Annabel\",\"Annabela\",\"Annabell\",\"Annabella\",\"Annabelle\",\"Annadiana\",\"Annadiane\",\"Annalee\",\"Annaliese\",\"Annalise\",\"Annamaria\",\"Annamarie\",\"Anne\",\"Anne-Corinne\",\"Anne-Marie\",\"Annecorinne\",\"Anneliese\",\"Annelise\",\"Annemarie\",\"Annetta\",\"Annette\",\"Anni\",\"Annice\",\"Annie\",\"Annis\",\"Annissa\",\"Annmaria\",\"Annmarie\",\"Annnora\",\"Annora\",\"Anny\",\"Anselma\",\"Ansley\",\"Anstice\",\"Anthe\",\"Anthea\",\"Anthia\",\"Anthiathia\",\"Antoinette\",\"Antonella\",\"Antonetta\",\"Antonia\",\"Antonie\",\"Antonietta\",\"Antonina\",\"Anya\",\"Appolonia\",\"April\",\"Aprilette\",\"Ara\",\"Arabel\",\"Arabela\",\"Arabele\",\"Arabella\",\"Arabelle\",\"Arda\",\"Ardath\",\"Ardeen\",\"Ardelia\",\"Ardelis\",\"Ardella\",\"Ardelle\",\"Arden\",\"Ardene\",\"Ardenia\",\"Ardine\",\"Ardis\",\"Ardisj\",\"Ardith\",\"Ardra\",\"Ardyce\",\"Ardys\",\"Ardyth\",\"Aretha\",\"Ariadne\",\"Ariana\",\"Aridatha\",\"Ariel\",\"Ariela\",\"Ariella\",\"Arielle\",\"Arlana\",\"Arlee\",\"Arleen\",\"Arlen\",\"Arlena\",\"Arlene\",\"Arleta\",\"Arlette\",\"Arleyne\",\"Arlie\",\"Arliene\",\"Arlina\",\"Arlinda\",\"Arline\",\"Arluene\",\"Arly\",\"Arlyn\",\"Arlyne\",\"Aryn\",\"Ashely\",\"Ashia\",\"Ashien\",\"Ashil\",\"Ashla\",\"Ashlan\",\"Ashlee\",\"Ashleigh\",\"Ashlen\",\"Ashley\",\"Ashli\",\"Ashlie\",\"Ashly\",\"Asia\",\"Astra\",\"Astrid\",\"Astrix\",\"Atalanta\",\"Athena\",\"Athene\",\"Atlanta\",\"Atlante\",\"Auberta\",\"Aubine\",\"Aubree\",\"Aubrette\",\"Aubrey\",\"Aubrie\",\"Aubry\",\"Audi\",\"Audie\",\"Audra\",\"Audre\",\"Audrey\",\"Audrie\",\"Audry\",\"Audrye\",\"Audy\",\"Augusta\",\"Auguste\",\"Augustina\",\"Augustine\",\"Aundrea\",\"Aura\",\"Aurea\",\"Aurel\",\"Aurelea\",\"Aurelia\",\"Aurelie\",\"Auria\",\"Aurie\",\"Aurilia\",\"Aurlie\",\"Auroora\",\"Aurora\",\"Aurore\",\"Austin\",\"Austina\",\"Austine\",\"Ava\",\"Aveline\",\"Averil\",\"Averyl\",\"Avie\",\"Avis\",\"Aviva\",\"Avivah\",\"Avril\",\"Avrit\",\"Ayn\",\"Bab\",\"Babara\",\"Babb\",\"Babbette\",\"Babbie\",\"Babette\",\"Babita\",\"Babs\",\"Bambi\",\"Bambie\",\"Bamby\",\"Barb\",\"Barbabra\",\"Barbara\",\"Barbara-Anne\",\"Barbaraanne\",\"Barbe\",\"Barbee\",\"Barbette\",\"Barbey\",\"Barbi\",\"Barbie\",\"Barbra\",\"Barby\",\"Bari\",\"Barrie\",\"Barry\",\"Basia\",\"Bathsheba\",\"Batsheva\",\"Bea\",\"Beatrice\",\"Beatrisa\",\"Beatrix\",\"Beatriz\",\"Bebe\",\"Becca\",\"Becka\",\"Becki\",\"Beckie\",\"Becky\",\"Bee\",\"Beilul\",\"Beitris\",\"Bekki\",\"Bel\",\"Belia\",\"Belicia\",\"Belinda\",\"Belita\",\"Bell\",\"Bella\",\"Bellanca\",\"Belle\",\"Bellina\",\"Belva\",\"Belvia\",\"Bendite\",\"Benedetta\",\"Benedicta\",\"Benedikta\",\"Benetta\",\"Benita\",\"Benni\",\"Bennie\",\"Benny\",\"Benoite\",\"Berenice\",\"Beret\",\"Berget\",\"Berna\",\"Bernadene\",\"Bernadette\",\"Bernadina\",\"Bernadine\",\"Bernardina\",\"Bernardine\",\"Bernelle\",\"Bernete\",\"Bernetta\",\"Bernette\",\"Berni\",\"Bernice\",\"Bernie\",\"Bernita\",\"Berny\",\"Berri\",\"Berrie\",\"Berry\",\"Bert\",\"Berta\",\"Berte\",\"Bertha\",\"Berthe\",\"Berti\",\"Bertie\",\"Bertina\",\"Bertine\",\"Berty\",\"Beryl\",\"Beryle\",\"Bess\",\"Bessie\",\"Bessy\",\"Beth\",\"Bethanne\",\"Bethany\",\"Bethena\",\"Bethina\",\"Betsey\",\"Betsy\",\"Betta\",\"Bette\",\"Bette-Ann\",\"Betteann\",\"Betteanne\",\"Betti\",\"Bettina\",\"Bettine\",\"Betty\",\"Bettye\",\"Beulah\",\"Bev\",\"Beverie\",\"Beverlee\",\"Beverley\",\"Beverlie\",\"Beverly\",\"Bevvy\",\"Bianca\",\"Bianka\",\"Bibbie\",\"Bibby\",\"Bibbye\",\"Bibi\",\"Biddie\",\"Biddy\",\"Bidget\",\"Bili\",\"Bill\",\"Billi\",\"Billie\",\"Billy\",\"Billye\",\"Binni\",\"Binnie\",\"Binny\",\"Bird\",\"Birdie\",\"Birgit\",\"Birgitta\",\"Blair\",\"Blaire\",\"Blake\",\"Blakelee\",\"Blakeley\",\"Blanca\",\"Blanch\",\"Blancha\",\"Blanche\",\"Blinni\",\"Blinnie\",\"Blinny\",\"Bliss\",\"Blisse\",\"Blithe\",\"Blondell\",\"Blondelle\",\"Blondie\",\"Blondy\",\"Blythe\",\"Bobbe\",\"Bobbee\",\"Bobbette\",\"Bobbi\",\"Bobbie\",\"Bobby\",\"Bobbye\",\"Bobette\",\"Bobina\",\"Bobine\",\"Bobinette\",\"Bonita\",\"Bonnee\",\"Bonni\",\"Bonnibelle\",\"Bonnie\",\"Bonny\",\"Brana\",\"Brandais\",\"Brande\",\"Brandea\",\"Brandi\",\"Brandice\",\"Brandie\",\"Brandise\",\"Brandy\",\"Breanne\",\"Brear\",\"Bree\",\"Breena\",\"Bren\",\"Brena\",\"Brenda\",\"Brenn\",\"Brenna\",\"Brett\",\"Bria\",\"Briana\",\"Brianna\",\"Brianne\",\"Bride\",\"Bridget\",\"Bridgette\",\"Bridie\",\"Brier\",\"Brietta\",\"Brigid\",\"Brigida\",\"Brigit\",\"Brigitta\",\"Brigitte\",\"Brina\",\"Briney\",\"Brinn\",\"Brinna\",\"Briny\",\"Brit\",\"Brita\",\"Britney\",\"Britni\",\"Britt\",\"Britta\",\"Brittan\",\"Brittaney\",\"Brittani\",\"Brittany\",\"Britte\",\"Britteny\",\"Brittne\",\"Brittney\",\"Brittni\",\"Brook\",\"Brooke\",\"Brooks\",\"Brunhilda\",\"Brunhilde\",\"Bryana\",\"Bryn\",\"Bryna\",\"Brynn\",\"Brynna\",\"Brynne\",\"Buffy\",\"Bunni\",\"Bunnie\",\"Bunny\",\"Cacilia\",\"Cacilie\",\"Cahra\",\"Cairistiona\",\"Caitlin\",\"Caitrin\",\"Cal\",\"Calida\",\"Calla\",\"Calley\",\"Calli\",\"Callida\",\"Callie\",\"Cally\",\"Calypso\",\"Cam\",\"Camala\",\"Camel\",\"Camella\",\"Camellia\",\"Cami\",\"Camila\",\"Camile\",\"Camilla\",\"Camille\",\"Cammi\",\"Cammie\",\"Cammy\",\"Candace\",\"Candi\",\"Candice\",\"Candida\",\"Candide\",\"Candie\",\"Candis\",\"Candra\",\"Candy\",\"Caprice\",\"Cara\",\"Caralie\",\"Caren\",\"Carena\",\"Caresa\",\"Caressa\",\"Caresse\",\"Carey\",\"Cari\",\"Caria\",\"Carie\",\"Caril\",\"Carilyn\",\"Carin\",\"Carina\",\"Carine\",\"Cariotta\",\"Carissa\",\"Carita\",\"Caritta\",\"Carla\",\"Carlee\",\"Carleen\",\"Carlen\",\"Carlene\",\"Carley\",\"Carlie\",\"Carlin\",\"Carlina\",\"Carline\",\"Carlita\",\"Carlota\",\"Carlotta\",\"Carly\",\"Carlye\",\"Carlyn\",\"Carlynn\",\"Carlynne\",\"Carma\",\"Carmel\",\"Carmela\",\"Carmelia\",\"Carmelina\",\"Carmelita\",\"Carmella\",\"Carmelle\",\"Carmen\",\"Carmencita\",\"Carmina\",\"Carmine\",\"Carmita\",\"Carmon\",\"Caro\",\"Carol\",\"Carol-Jean\",\"Carola\",\"Carolan\",\"Carolann\",\"Carole\",\"Carolee\",\"Carolin\",\"Carolina\",\"Caroline\",\"Caroljean\",\"Carolyn\",\"Carolyne\",\"Carolynn\",\"Caron\",\"Carree\",\"Carri\",\"Carrie\",\"Carrissa\",\"Carroll\",\"Carry\",\"Cary\",\"Caryl\",\"Caryn\",\"Casandra\",\"Casey\",\"Casi\",\"Casie\",\"Cass\",\"Cassandra\",\"Cassandre\",\"Cassandry\",\"Cassaundra\",\"Cassey\",\"Cassi\",\"Cassie\",\"Cassondra\",\"Cassy\",\"Catarina\",\"Cate\",\"Caterina\",\"Catha\",\"Catharina\",\"Catharine\",\"Cathe\",\"Cathee\",\"Catherin\",\"Catherina\",\"Catherine\",\"Cathi\",\"Cathie\",\"Cathleen\",\"Cathlene\",\"Cathrin\",\"Cathrine\",\"Cathryn\",\"Cathy\",\"Cathyleen\",\"Cati\",\"Catie\",\"Catina\",\"Catlaina\",\"Catlee\",\"Catlin\",\"Catrina\",\"Catriona\",\"Caty\",\"Caye\",\"Cayla\",\"Cecelia\",\"Cecil\",\"Cecile\",\"Ceciley\",\"Cecilia\",\"Cecilla\",\"Cecily\",\"Ceil\",\"Cele\",\"Celene\",\"Celesta\",\"Celeste\",\"Celestia\",\"Celestina\",\"Celestine\",\"Celestyn\",\"Celestyna\",\"Celia\",\"Celie\",\"Celina\",\"Celinda\",\"Celine\",\"Celinka\",\"Celisse\",\"Celka\",\"Celle\",\"Cesya\",\"Chad\",\"Chanda\",\"Chandal\",\"Chandra\",\"Channa\",\"Chantal\",\"Chantalle\",\"Charil\",\"Charin\",\"Charis\",\"Charissa\",\"Charisse\",\"Charita\",\"Charity\",\"Charla\",\"Charlean\",\"Charleen\",\"Charlena\",\"Charlene\",\"Charline\",\"Charlot\",\"Charlotta\",\"Charlotte\",\"Charmain\",\"Charmaine\",\"Charmane\",\"Charmian\",\"Charmine\",\"Charmion\",\"Charo\",\"Charyl\",\"Chastity\",\"Chelsae\",\"Chelsea\",\"Chelsey\",\"Chelsie\",\"Chelsy\",\"Cher\",\"Chere\",\"Cherey\",\"Cheri\",\"Cherianne\",\"Cherice\",\"Cherida\",\"Cherie\",\"Cherilyn\",\"Cherilynn\",\"Cherin\",\"Cherise\",\"Cherish\",\"Cherlyn\",\"Cherri\",\"Cherrita\",\"Cherry\",\"Chery\",\"Cherye\",\"Cheryl\",\"Cheslie\",\"Chiarra\",\"Chickie\",\"Chicky\",\"Chiquia\",\"Chiquita\",\"Chlo\",\"Chloe\",\"Chloette\",\"Chloris\",\"Chris\",\"Chrissie\",\"Chrissy\",\"Christa\",\"Christabel\",\"Christabella\",\"Christal\",\"Christalle\",\"Christan\",\"Christean\",\"Christel\",\"Christen\",\"Christi\",\"Christian\",\"Christiana\",\"Christiane\",\"Christie\",\"Christin\",\"Christina\",\"Christine\",\"Christy\",\"Christye\",\"Christyna\",\"Chrysa\",\"Chrysler\",\"Chrystal\",\"Chryste\",\"Chrystel\",\"Cicely\",\"Cicily\",\"Ciel\",\"Cilka\",\"Cinda\",\"Cindee\",\"Cindelyn\",\"Cinderella\",\"Cindi\",\"Cindie\",\"Cindra\",\"Cindy\",\"Cinnamon\",\"Cissiee\",\"Cissy\",\"Clair\",\"Claire\",\"Clara\",\"Clarabelle\",\"Clare\",\"Claresta\",\"Clareta\",\"Claretta\",\"Clarette\",\"Clarey\",\"Clari\",\"Claribel\",\"Clarice\",\"Clarie\",\"Clarinda\",\"Clarine\",\"Clarissa\",\"Clarisse\",\"Clarita\",\"Clary\",\"Claude\",\"Claudelle\",\"Claudetta\",\"Claudette\",\"Claudia\",\"Claudie\",\"Claudina\",\"Claudine\",\"Clea\",\"Clem\",\"Clemence\",\"Clementia\",\"Clementina\",\"Clementine\",\"Clemmie\",\"Clemmy\",\"Cleo\",\"Cleopatra\",\"Clerissa\",\"Clio\",\"Clo\",\"Cloe\",\"Cloris\",\"Clotilda\",\"Clovis\",\"Codee\",\"Codi\",\"Codie\",\"Cody\",\"Coleen\",\"Colene\",\"Coletta\",\"Colette\",\"Colleen\",\"Collen\",\"Collete\",\"Collette\",\"Collie\",\"Colline\",\"Colly\",\"Con\",\"Concettina\",\"Conchita\",\"Concordia\",\"Conni\",\"Connie\",\"Conny\",\"Consolata\",\"Constance\",\"Constancia\",\"Constancy\",\"Constanta\",\"Constantia\",\"Constantina\",\"Constantine\",\"Consuela\",\"Consuelo\",\"Cookie\",\"Cora\",\"Corabel\",\"Corabella\",\"Corabelle\",\"Coral\",\"Coralie\",\"Coraline\",\"Coralyn\",\"Cordelia\",\"Cordelie\",\"Cordey\",\"Cordi\",\"Cordie\",\"Cordula\",\"Cordy\",\"Coreen\",\"Corella\",\"Corenda\",\"Corene\",\"Coretta\",\"Corette\",\"Corey\",\"Cori\",\"Corie\",\"Corilla\",\"Corina\",\"Corine\",\"Corinna\",\"Corinne\",\"Coriss\",\"Corissa\",\"Corliss\",\"Corly\",\"Cornela\",\"Cornelia\",\"Cornelle\",\"Cornie\",\"Corny\",\"Correna\",\"Correy\",\"Corri\",\"Corrianne\",\"Corrie\",\"Corrina\",\"Corrine\",\"Corrinne\",\"Corry\",\"Cortney\",\"Cory\",\"Cosetta\",\"Cosette\",\"Costanza\",\"Courtenay\",\"Courtnay\",\"Courtney\",\"Crin\",\"Cris\",\"Crissie\",\"Crissy\",\"Crista\",\"Cristabel\",\"Cristal\",\"Cristen\",\"Cristi\",\"Cristie\",\"Cristin\",\"Cristina\",\"Cristine\",\"Cristionna\",\"Cristy\",\"Crysta\",\"Crystal\",\"Crystie\",\"Cthrine\",\"Cyb\",\"Cybil\",\"Cybill\",\"Cymbre\",\"Cynde\",\"Cyndi\",\"Cyndia\",\"Cyndie\",\"Cyndy\",\"Cynthea\",\"Cynthia\",\"Cynthie\",\"Cynthy\",\"Dacey\",\"Dacia\",\"Dacie\",\"Dacy\",\"Dael\",\"Daffi\",\"Daffie\",\"Daffy\",\"Dagmar\",\"Dahlia\",\"Daile\",\"Daisey\",\"Daisi\",\"Daisie\",\"Daisy\",\"Dale\",\"Dalenna\",\"Dalia\",\"Dalila\",\"Dallas\",\"Daloris\",\"Damara\",\"Damaris\",\"Damita\",\"Dana\",\"Danell\",\"Danella\",\"Danette\",\"Dani\",\"Dania\",\"Danica\",\"Danice\",\"Daniela\",\"Daniele\",\"Daniella\",\"Danielle\",\"Danika\",\"Danila\",\"Danit\",\"Danita\",\"Danna\",\"Danni\",\"Dannie\",\"Danny\",\"Dannye\",\"Danya\",\"Danyelle\",\"Danyette\",\"Daphene\",\"Daphna\",\"Daphne\",\"Dara\",\"Darb\",\"Darbie\",\"Darby\",\"Darcee\",\"Darcey\",\"Darci\",\"Darcie\",\"Darcy\",\"Darda\",\"Dareen\",\"Darell\",\"Darelle\",\"Dari\",\"Daria\",\"Darice\",\"Darla\",\"Darleen\",\"Darlene\",\"Darline\",\"Darlleen\",\"Daron\",\"Darrelle\",\"Darryl\",\"Darsey\",\"Darsie\",\"Darya\",\"Daryl\",\"Daryn\",\"Dasha\",\"Dasi\",\"Dasie\",\"Dasya\",\"Datha\",\"Daune\",\"Daveen\",\"Daveta\",\"Davida\",\"Davina\",\"Davine\",\"Davita\",\"Dawn\",\"Dawna\",\"Dayle\",\"Dayna\",\"Ddene\",\"De\",\"Deana\",\"Deane\",\"Deanna\",\"Deanne\",\"Deb\",\"Debbi\",\"Debbie\",\"Debby\",\"Debee\",\"Debera\",\"Debi\",\"Debor\",\"Debora\",\"Deborah\",\"Debra\",\"Dede\",\"Dedie\",\"Dedra\",\"Dee\",\"Dee Dee\",\"Deeann\",\"Deeanne\",\"Deedee\",\"Deena\",\"Deerdre\",\"Deeyn\",\"Dehlia\",\"Deidre\",\"Deina\",\"Deirdre\",\"Del\",\"Dela\",\"Delcina\",\"Delcine\",\"Delia\",\"Delila\",\"Delilah\",\"Delinda\",\"Dell\",\"Della\",\"Delly\",\"Delora\",\"Delores\",\"Deloria\",\"Deloris\",\"Delphine\",\"Delphinia\",\"Demeter\",\"Demetra\",\"Demetria\",\"Demetris\",\"Dena\",\"Deni\",\"Denice\",\"Denise\",\"Denna\",\"Denni\",\"Dennie\",\"Denny\",\"Deny\",\"Denys\",\"Denyse\",\"Deonne\",\"Desdemona\",\"Desirae\",\"Desiree\",\"Desiri\",\"Deva\",\"Devan\",\"Devi\",\"Devin\",\"Devina\",\"Devinne\",\"Devon\",\"Devondra\",\"Devonna\",\"Devonne\",\"Devora\",\"Di\",\"Diahann\",\"Dian\",\"Diana\",\"Diandra\",\"Diane\",\"Diane-Marie\",\"Dianemarie\",\"Diann\",\"Dianna\",\"Dianne\",\"Diannne\",\"Didi\",\"Dido\",\"Diena\",\"Dierdre\",\"Dina\",\"Dinah\",\"Dinnie\",\"Dinny\",\"Dion\",\"Dione\",\"Dionis\",\"Dionne\",\"Dita\",\"Dix\",\"Dixie\",\"Dniren\",\"Dode\",\"Dodi\",\"Dodie\",\"Dody\",\"Doe\",\"Doll\",\"Dolley\",\"Dolli\",\"Dollie\",\"Dolly\",\"Dolores\",\"Dolorita\",\"Doloritas\",\"Domeniga\",\"Dominga\",\"Domini\",\"Dominica\",\"Dominique\",\"Dona\",\"Donella\",\"Donelle\",\"Donetta\",\"Donia\",\"Donica\",\"Donielle\",\"Donna\",\"Donnamarie\",\"Donni\",\"Donnie\",\"Donny\",\"Dora\",\"Doralia\",\"Doralin\",\"Doralyn\",\"Doralynn\",\"Doralynne\",\"Dore\",\"Doreen\",\"Dorelia\",\"Dorella\",\"Dorelle\",\"Dorena\",\"Dorene\",\"Doretta\",\"Dorette\",\"Dorey\",\"Dori\",\"Doria\",\"Dorian\",\"Dorice\",\"Dorie\",\"Dorine\",\"Doris\",\"Dorisa\",\"Dorise\",\"Dorita\",\"Doro\",\"Dorolice\",\"Dorolisa\",\"Dorotea\",\"Doroteya\",\"Dorothea\",\"Dorothee\",\"Dorothy\",\"Dorree\",\"Dorri\",\"Dorrie\",\"Dorris\",\"Dorry\",\"Dorthea\",\"Dorthy\",\"Dory\",\"Dosi\",\"Dot\",\"Doti\",\"Dotti\",\"Dottie\",\"Dotty\",\"Dre\",\"Dreddy\",\"Dredi\",\"Drona\",\"Dru\",\"Druci\",\"Drucie\",\"Drucill\",\"Drucy\",\"Drusi\",\"Drusie\",\"Drusilla\",\"Drusy\",\"Dulce\",\"Dulcea\",\"Dulci\",\"Dulcia\",\"Dulciana\",\"Dulcie\",\"Dulcine\",\"Dulcinea\",\"Dulcy\",\"Dulsea\",\"Dusty\",\"Dyan\",\"Dyana\",\"Dyane\",\"Dyann\",\"Dyanna\",\"Dyanne\",\"Dyna\",\"Dynah\",\"Eachelle\",\"Eada\",\"Eadie\",\"Eadith\",\"Ealasaid\",\"Eartha\",\"Easter\",\"Eba\",\"Ebba\",\"Ebonee\",\"Ebony\",\"Eda\",\"Eddi\",\"Eddie\",\"Eddy\",\"Ede\",\"Edee\",\"Edeline\",\"Eden\",\"Edi\",\"Edie\",\"Edin\",\"Edita\",\"Edith\",\"Editha\",\"Edithe\",\"Ediva\",\"Edna\",\"Edwina\",\"Edy\",\"Edyth\",\"Edythe\",\"Effie\",\"Eileen\",\"Eilis\",\"Eimile\",\"Eirena\",\"Ekaterina\",\"Elaina\",\"Elaine\",\"Elana\",\"Elane\",\"Elayne\",\"Elberta\",\"Elbertina\",\"Elbertine\",\"Eleanor\",\"Eleanora\",\"Eleanore\",\"Electra\",\"Eleen\",\"Elena\",\"Elene\",\"Eleni\",\"Elenore\",\"Eleonora\",\"Eleonore\",\"Elfie\",\"Elfreda\",\"Elfrida\",\"Elfrieda\",\"Elga\",\"Elianora\",\"Elianore\",\"Elicia\",\"Elie\",\"Elinor\",\"Elinore\",\"Elisa\",\"Elisabet\",\"Elisabeth\",\"Elisabetta\",\"Elise\",\"Elisha\",\"Elissa\",\"Elita\",\"Eliza\",\"Elizabet\",\"Elizabeth\",\"Elka\",\"Elke\",\"Ella\",\"Elladine\",\"Elle\",\"Ellen\",\"Ellene\",\"Ellette\",\"Elli\",\"Ellie\",\"Ellissa\",\"Elly\",\"Ellyn\",\"Ellynn\",\"Elmira\",\"Elna\",\"Elnora\",\"Elnore\",\"Eloisa\",\"Eloise\",\"Elonore\",\"Elora\",\"Elsa\",\"Elsbeth\",\"Else\",\"Elset\",\"Elsey\",\"Elsi\",\"Elsie\",\"Elsinore\",\"Elspeth\",\"Elsy\",\"Elva\",\"Elvera\",\"Elvina\",\"Elvira\",\"Elwira\",\"Elyn\",\"Elyse\",\"Elysee\",\"Elysha\",\"Elysia\",\"Elyssa\",\"Em\",\"Ema\",\"Emalee\",\"Emalia\",\"Emelda\",\"Emelia\",\"Emelina\",\"Emeline\",\"Emelita\",\"Emelyne\",\"Emera\",\"Emilee\",\"Emili\",\"Emilia\",\"Emilie\",\"Emiline\",\"Emily\",\"Emlyn\",\"Emlynn\",\"Emlynne\",\"Emma\",\"Emmalee\",\"Emmaline\",\"Emmalyn\",\"Emmalynn\",\"Emmalynne\",\"Emmeline\",\"Emmey\",\"Emmi\",\"Emmie\",\"Emmy\",\"Emmye\",\"Emogene\",\"Emyle\",\"Emylee\",\"Engracia\",\"Enid\",\"Enrica\",\"Enrichetta\",\"Enrika\",\"Enriqueta\",\"Eolanda\",\"Eolande\",\"Eran\",\"Erda\",\"Erena\",\"Erica\",\"Ericha\",\"Ericka\",\"Erika\",\"Erin\",\"Erina\",\"Erinn\",\"Erinna\",\"Erma\",\"Ermengarde\",\"Ermentrude\",\"Ermina\",\"Erminia\",\"Erminie\",\"Erna\",\"Ernaline\",\"Ernesta\",\"Ernestine\",\"Ertha\",\"Eryn\",\"Esma\",\"Esmaria\",\"Esme\",\"Esmeralda\",\"Essa\",\"Essie\",\"Essy\",\"Esta\",\"Estel\",\"Estele\",\"Estell\",\"Estella\",\"Estelle\",\"Ester\",\"Esther\",\"Estrella\",\"Estrellita\",\"Ethel\",\"Ethelda\",\"Ethelin\",\"Ethelind\",\"Etheline\",\"Ethelyn\",\"Ethyl\",\"Etta\",\"Etti\",\"Ettie\",\"Etty\",\"Eudora\",\"Eugenia\",\"Eugenie\",\"Eugine\",\"Eula\",\"Eulalie\",\"Eunice\",\"Euphemia\",\"Eustacia\",\"Eva\",\"Evaleen\",\"Evangelia\",\"Evangelin\",\"Evangelina\",\"Evangeline\",\"Evania\",\"Evanne\",\"Eve\",\"Eveleen\",\"Evelina\",\"Eveline\",\"Evelyn\",\"Evey\",\"Evie\",\"Evita\",\"Evonne\",\"Evvie\",\"Evvy\",\"Evy\",\"Eyde\",\"Eydie\",\"Ezmeralda\",\"Fae\",\"Faina\",\"Faith\",\"Fallon\",\"Fan\",\"Fanchette\",\"Fanchon\",\"Fancie\",\"Fancy\",\"Fanechka\",\"Fania\",\"Fanni\",\"Fannie\",\"Fanny\",\"Fanya\",\"Fara\",\"Farah\",\"Farand\",\"Farica\",\"Farra\",\"Farrah\",\"Farrand\",\"Faun\",\"Faunie\",\"Faustina\",\"Faustine\",\"Fawn\",\"Fawne\",\"Fawnia\",\"Fay\",\"Faydra\",\"Faye\",\"Fayette\",\"Fayina\",\"Fayre\",\"Fayth\",\"Faythe\",\"Federica\",\"Fedora\",\"Felecia\",\"Felicdad\",\"Felice\",\"Felicia\",\"Felicity\",\"Felicle\",\"Felipa\",\"Felisha\",\"Felita\",\"Feliza\",\"Fenelia\",\"Feodora\",\"Ferdinanda\",\"Ferdinande\",\"Fern\",\"Fernanda\",\"Fernande\",\"Fernandina\",\"Ferne\",\"Fey\",\"Fiann\",\"Fianna\",\"Fidela\",\"Fidelia\",\"Fidelity\",\"Fifi\",\"Fifine\",\"Filia\",\"Filide\",\"Filippa\",\"Fina\",\"Fiona\",\"Fionna\",\"Fionnula\",\"Fiorenze\",\"Fleur\",\"Fleurette\",\"Flo\",\"Flor\",\"Flora\",\"Florance\",\"Flore\",\"Florella\",\"Florence\",\"Florencia\",\"Florentia\",\"Florenza\",\"Florette\",\"Flori\",\"Floria\",\"Florida\",\"Florie\",\"Florina\",\"Florinda\",\"Floris\",\"Florri\",\"Florrie\",\"Florry\",\"Flory\",\"Flossi\",\"Flossie\",\"Flossy\",\"Flss\",\"Fran\",\"Francene\",\"Frances\",\"Francesca\",\"Francine\",\"Francisca\",\"Franciska\",\"Francoise\",\"Francyne\",\"Frank\",\"Frankie\",\"Franky\",\"Franni\",\"Frannie\",\"Franny\",\"Frayda\",\"Fred\",\"Freda\",\"Freddi\",\"Freddie\",\"Freddy\",\"Fredelia\",\"Frederica\",\"Fredericka\",\"Frederique\",\"Fredi\",\"Fredia\",\"Fredra\",\"Fredrika\",\"Freida\",\"Frieda\",\"Friederike\",\"Fulvia\",\"Gabbey\",\"Gabbi\",\"Gabbie\",\"Gabey\",\"Gabi\",\"Gabie\",\"Gabriel\",\"Gabriela\",\"Gabriell\",\"Gabriella\",\"Gabrielle\",\"Gabriellia\",\"Gabrila\",\"Gaby\",\"Gae\",\"Gael\",\"Gail\",\"Gale\",\"Gale\",\"Galina\",\"Garland\",\"Garnet\",\"Garnette\",\"Gates\",\"Gavra\",\"Gavrielle\",\"Gay\",\"Gaye\",\"Gayel\",\"Gayla\",\"Gayle\",\"Gayleen\",\"Gaylene\",\"Gaynor\",\"Gelya\",\"Gena\",\"Gene\",\"Geneva\",\"Genevieve\",\"Genevra\",\"Genia\",\"Genna\",\"Genni\",\"Gennie\",\"Gennifer\",\"Genny\",\"Genovera\",\"Genvieve\",\"George\",\"Georgeanna\",\"Georgeanne\",\"Georgena\",\"Georgeta\",\"Georgetta\",\"Georgette\",\"Georgia\",\"Georgiana\",\"Georgianna\",\"Georgianne\",\"Georgie\",\"Georgina\",\"Georgine\",\"Geralda\",\"Geraldine\",\"Gerda\",\"Gerhardine\",\"Geri\",\"Gerianna\",\"Gerianne\",\"Gerladina\",\"Germain\",\"Germaine\",\"Germana\",\"Gerri\",\"Gerrie\",\"Gerrilee\",\"Gerry\",\"Gert\",\"Gerta\",\"Gerti\",\"Gertie\",\"Gertrud\",\"Gertruda\",\"Gertrude\",\"Gertrudis\",\"Gerty\",\"Giacinta\",\"Giana\",\"Gianina\",\"Gianna\",\"Gigi\",\"Gilberta\",\"Gilberte\",\"Gilbertina\",\"Gilbertine\",\"Gilda\",\"Gilemette\",\"Gill\",\"Gillan\",\"Gilli\",\"Gillian\",\"Gillie\",\"Gilligan\",\"Gilly\",\"Gina\",\"Ginelle\",\"Ginevra\",\"Ginger\",\"Ginni\",\"Ginnie\",\"Ginnifer\",\"Ginny\",\"Giorgia\",\"Giovanna\",\"Gipsy\",\"Giralda\",\"Gisela\",\"Gisele\",\"Gisella\",\"Giselle\",\"Giuditta\",\"Giulia\",\"Giulietta\",\"Giustina\",\"Gizela\",\"Glad\",\"Gladi\",\"Gladys\",\"Gleda\",\"Glen\",\"Glenda\",\"Glenine\",\"Glenn\",\"Glenna\",\"Glennie\",\"Glennis\",\"Glori\",\"Gloria\",\"Gloriana\",\"Gloriane\",\"Glory\",\"Glyn\",\"Glynda\",\"Glynis\",\"Glynnis\",\"Gnni\",\"Godiva\",\"Golda\",\"Goldarina\",\"Goldi\",\"Goldia\",\"Goldie\",\"Goldina\",\"Goldy\",\"Grace\",\"Gracia\",\"Gracie\",\"Grata\",\"Gratia\",\"Gratiana\",\"Gray\",\"Grayce\",\"Grazia\",\"Greer\",\"Greta\",\"Gretal\",\"Gretchen\",\"Grete\",\"Gretel\",\"Grethel\",\"Gretna\",\"Gretta\",\"Grier\",\"Griselda\",\"Grissel\",\"Guendolen\",\"Guenevere\",\"Guenna\",\"Guglielma\",\"Gui\",\"Guillema\",\"Guillemette\",\"Guinevere\",\"Guinna\",\"Gunilla\",\"Gus\",\"Gusella\",\"Gussi\",\"Gussie\",\"Gussy\",\"Gusta\",\"Gusti\",\"Gustie\",\"Gusty\",\"Gwen\",\"Gwendolen\",\"Gwendolin\",\"Gwendolyn\",\"Gweneth\",\"Gwenette\",\"Gwenneth\",\"Gwenni\",\"Gwennie\",\"Gwenny\",\"Gwenora\",\"Gwenore\",\"Gwyn\",\"Gwyneth\",\"Gwynne\",\"Gypsy\",\"Hadria\",\"Hailee\",\"Haily\",\"Haleigh\",\"Halette\",\"Haley\",\"Hali\",\"Halie\",\"Halimeda\",\"Halley\",\"Halli\",\"Hallie\",\"Hally\",\"Hana\",\"Hanna\",\"Hannah\",\"Hanni\",\"Hannie\",\"Hannis\",\"Hanny\",\"Happy\",\"Harlene\",\"Harley\",\"Harli\",\"Harlie\",\"Harmonia\",\"Harmonie\",\"Harmony\",\"Harri\",\"Harrie\",\"Harriet\",\"Harriett\",\"Harrietta\",\"Harriette\",\"Harriot\",\"Harriott\",\"Hatti\",\"Hattie\",\"Hatty\",\"Hayley\",\"Hazel\",\"Heath\",\"Heather\",\"Heda\",\"Hedda\",\"Heddi\",\"Heddie\",\"Hedi\",\"Hedvig\",\"Hedvige\",\"Hedwig\",\"Hedwiga\",\"Hedy\",\"Heida\",\"Heidi\",\"Heidie\",\"Helaina\",\"Helaine\",\"Helen\",\"Helen-Elizabeth\",\"Helena\",\"Helene\",\"Helenka\",\"Helga\",\"Helge\",\"Helli\",\"Heloise\",\"Helsa\",\"Helyn\",\"Hendrika\",\"Henka\",\"Henrie\",\"Henrieta\",\"Henrietta\",\"Henriette\",\"Henryetta\",\"Hephzibah\",\"Hermia\",\"Hermina\",\"Hermine\",\"Herminia\",\"Hermione\",\"Herta\",\"Hertha\",\"Hester\",\"Hesther\",\"Hestia\",\"Hetti\",\"Hettie\",\"Hetty\",\"Hilary\",\"Hilda\",\"Hildagard\",\"Hildagarde\",\"Hilde\",\"Hildegaard\",\"Hildegarde\",\"Hildy\",\"Hillary\",\"Hilliary\",\"Hinda\",\"Holli\",\"Hollie\",\"Holly\",\"Holly-Anne\",\"Hollyanne\",\"Honey\",\"Honor\",\"Honoria\",\"Hope\",\"Horatia\",\"Hortense\",\"Hortensia\",\"Hulda\",\"Hyacinth\",\"Hyacintha\",\"Hyacinthe\",\"Hyacinthia\",\"Hyacinthie\",\"Hynda\",\"Ianthe\",\"Ibbie\",\"Ibby\",\"Ida\",\"Idalia\",\"Idalina\",\"Idaline\",\"Idell\",\"Idelle\",\"Idette\",\"Ileana\",\"Ileane\",\"Ilene\",\"Ilise\",\"Ilka\",\"Illa\",\"Ilsa\",\"Ilse\",\"Ilysa\",\"Ilyse\",\"Ilyssa\",\"Imelda\",\"Imogen\",\"Imogene\",\"Imojean\",\"Ina\",\"Indira\",\"Ines\",\"Inesita\",\"Inessa\",\"Inez\",\"Inga\",\"Ingaberg\",\"Ingaborg\",\"Inge\",\"Ingeberg\",\"Ingeborg\",\"Inger\",\"Ingrid\",\"Ingunna\",\"Inna\",\"Iolande\",\"Iolanthe\",\"Iona\",\"Iormina\",\"Ira\",\"Irena\",\"Irene\",\"Irina\",\"Iris\",\"Irita\",\"Irma\",\"Isa\",\"Isabel\",\"Isabelita\",\"Isabella\",\"Isabelle\",\"Isadora\",\"Isahella\",\"Iseabal\",\"Isidora\",\"Isis\",\"Isobel\",\"Issi\",\"Issie\",\"Issy\",\"Ivett\",\"Ivette\",\"Ivie\",\"Ivonne\",\"Ivory\",\"Ivy\",\"Izabel\",\"Jacenta\",\"Jacinda\",\"Jacinta\",\"Jacintha\",\"Jacinthe\",\"Jackelyn\",\"Jacki\",\"Jackie\",\"Jacklin\",\"Jacklyn\",\"Jackquelin\",\"Jackqueline\",\"Jacky\",\"Jaclin\",\"Jaclyn\",\"Jacquelin\",\"Jacqueline\",\"Jacquelyn\",\"Jacquelynn\",\"Jacquenetta\",\"Jacquenette\",\"Jacquetta\",\"Jacquette\",\"Jacqui\",\"Jacquie\",\"Jacynth\",\"Jada\",\"Jade\",\"Jaime\",\"Jaimie\",\"Jaine\",\"Jami\",\"Jamie\",\"Jamima\",\"Jammie\",\"Jan\",\"Jana\",\"Janaya\",\"Janaye\",\"Jandy\",\"Jane\",\"Janean\",\"Janeczka\",\"Janeen\",\"Janel\",\"Janela\",\"Janella\",\"Janelle\",\"Janene\",\"Janenna\",\"Janessa\",\"Janet\",\"Janeta\",\"Janetta\",\"Janette\",\"Janeva\",\"Janey\",\"Jania\",\"Janice\",\"Janie\",\"Janifer\",\"Janina\",\"Janine\",\"Janis\",\"Janith\",\"Janka\",\"Janna\",\"Jannel\",\"Jannelle\",\"Janot\",\"Jany\",\"Jaquelin\",\"Jaquelyn\",\"Jaquenetta\",\"Jaquenette\",\"Jaquith\",\"Jasmin\",\"Jasmina\",\"Jasmine\",\"Jayme\",\"Jaymee\",\"Jayne\",\"Jaynell\",\"Jazmin\",\"Jean\",\"Jeana\",\"Jeane\",\"Jeanelle\",\"Jeanette\",\"Jeanie\",\"Jeanine\",\"Jeanna\",\"Jeanne\",\"Jeannette\",\"Jeannie\",\"Jeannine\",\"Jehanna\",\"Jelene\",\"Jemie\",\"Jemima\",\"Jemimah\",\"Jemmie\",\"Jemmy\",\"Jen\",\"Jena\",\"Jenda\",\"Jenelle\",\"Jeni\",\"Jenica\",\"Jeniece\",\"Jenifer\",\"Jeniffer\",\"Jenilee\",\"Jenine\",\"Jenn\",\"Jenna\",\"Jennee\",\"Jennette\",\"Jenni\",\"Jennica\",\"Jennie\",\"Jennifer\",\"Jennilee\",\"Jennine\",\"Jenny\",\"Jeralee\",\"Jere\",\"Jeri\",\"Jermaine\",\"Jerrie\",\"Jerrilee\",\"Jerrilyn\",\"Jerrine\",\"Jerry\",\"Jerrylee\",\"Jess\",\"Jessa\",\"Jessalin\",\"Jessalyn\",\"Jessamine\",\"Jessamyn\",\"Jesse\",\"Jesselyn\",\"Jessi\",\"Jessica\",\"Jessie\",\"Jessika\",\"Jessy\",\"Jewel\",\"Jewell\",\"Jewelle\",\"Jill\",\"Jillana\",\"Jillane\",\"Jillayne\",\"Jilleen\",\"Jillene\",\"Jilli\",\"Jillian\",\"Jillie\",\"Jilly\",\"Jinny\",\"Jo\",\"Jo Ann\",\"Jo-Ann\",\"Jo-Anne\",\"Joan\",\"Joana\",\"Joane\",\"Joanie\",\"Joann\",\"Joanna\",\"Joanne\",\"Joannes\",\"Jobey\",\"Jobi\",\"Jobie\",\"Jobina\",\"Joby\",\"Jobye\",\"Jobyna\",\"Jocelin\",\"Joceline\",\"Jocelyn\",\"Jocelyne\",\"Jodee\",\"Jodi\",\"Jodie\",\"Jody\",\"Joeann\",\"Joela\",\"Joelie\",\"Joell\",\"Joella\",\"Joelle\",\"Joellen\",\"Joelly\",\"Joellyn\",\"Joelynn\",\"Joete\",\"Joey\",\"Johanna\",\"Johannah\",\"Johna\",\"Johnath\",\"Johnette\",\"Johnna\",\"Joice\",\"Jojo\",\"Jolee\",\"Joleen\",\"Jolene\",\"Joletta\",\"Joli\",\"Jolie\",\"Joline\",\"Joly\",\"Jolyn\",\"Jolynn\",\"Jonell\",\"Joni\",\"Jonie\",\"Jonis\",\"Jordain\",\"Jordan\",\"Jordana\",\"Jordanna\",\"Jorey\",\"Jori\",\"Jorie\",\"Jorrie\",\"Jorry\",\"Joscelin\",\"Josee\",\"Josefa\",\"Josefina\",\"Josepha\",\"Josephina\",\"Josephine\",\"Josey\",\"Josi\",\"Josie\",\"Josselyn\",\"Josy\",\"Jourdan\",\"Joy\",\"Joya\",\"Joyan\",\"Joyann\",\"Joyce\",\"Joycelin\",\"Joye\",\"Jsandye\",\"Juana\",\"Juanita\",\"Judi\",\"Judie\",\"Judith\",\"Juditha\",\"Judy\",\"Judye\",\"Juieta\",\"Julee\",\"Juli\",\"Julia\",\"Juliana\",\"Juliane\",\"Juliann\",\"Julianna\",\"Julianne\",\"Julie\",\"Julienne\",\"Juliet\",\"Julieta\",\"Julietta\",\"Juliette\",\"Julina\",\"Juline\",\"Julissa\",\"Julita\",\"June\",\"Junette\",\"Junia\",\"Junie\",\"Junina\",\"Justina\",\"Justine\",\"Justinn\",\"Jyoti\",\"Kacey\",\"Kacie\",\"Kacy\",\"Kaela\",\"Kai\",\"Kaia\",\"Kaila\",\"Kaile\",\"Kailey\",\"Kaitlin\",\"Kaitlyn\",\"Kaitlynn\",\"Kaja\",\"Kakalina\",\"Kala\",\"Kaleena\",\"Kali\",\"Kalie\",\"Kalila\",\"Kalina\",\"Kalinda\",\"Kalindi\",\"Kalli\",\"Kally\",\"Kameko\",\"Kamila\",\"Kamilah\",\"Kamillah\",\"Kandace\",\"Kandy\",\"Kania\",\"Kanya\",\"Kara\",\"Kara-Lynn\",\"Karalee\",\"Karalynn\",\"Kare\",\"Karee\",\"Karel\",\"Karen\",\"Karena\",\"Kari\",\"Karia\",\"Karie\",\"Karil\",\"Karilynn\",\"Karin\",\"Karina\",\"Karine\",\"Kariotta\",\"Karisa\",\"Karissa\",\"Karita\",\"Karla\",\"Karlee\",\"Karleen\",\"Karlen\",\"Karlene\",\"Karlie\",\"Karlotta\",\"Karlotte\",\"Karly\",\"Karlyn\",\"Karmen\",\"Karna\",\"Karol\",\"Karola\",\"Karole\",\"Karolina\",\"Karoline\",\"Karoly\",\"Karon\",\"Karrah\",\"Karrie\",\"Karry\",\"Kary\",\"Karyl\",\"Karylin\",\"Karyn\",\"Kasey\",\"Kass\",\"Kassandra\",\"Kassey\",\"Kassi\",\"Kassia\",\"Kassie\",\"Kat\",\"Kata\",\"Katalin\",\"Kate\",\"Katee\",\"Katerina\",\"Katerine\",\"Katey\",\"Kath\",\"Katha\",\"Katharina\",\"Katharine\",\"Katharyn\",\"Kathe\",\"Katherina\",\"Katherine\",\"Katheryn\",\"Kathi\",\"Kathie\",\"Kathleen\",\"Kathlin\",\"Kathrine\",\"Kathryn\",\"Kathryne\",\"Kathy\",\"Kathye\",\"Kati\",\"Katie\",\"Katina\",\"Katine\",\"Katinka\",\"Katleen\",\"Katlin\",\"Katrina\",\"Katrine\",\"Katrinka\",\"Katti\",\"Kattie\",\"Katuscha\",\"Katusha\",\"Katy\",\"Katya\",\"Kay\",\"Kaycee\",\"Kaye\",\"Kayla\",\"Kayle\",\"Kaylee\",\"Kayley\",\"Kaylil\",\"Kaylyn\",\"Keeley\",\"Keelia\",\"Keely\",\"Kelcey\",\"Kelci\",\"Kelcie\",\"Kelcy\",\"Kelila\",\"Kellen\",\"Kelley\",\"Kelli\",\"Kellia\",\"Kellie\",\"Kellina\",\"Kellsie\",\"Kelly\",\"Kellyann\",\"Kelsey\",\"Kelsi\",\"Kelsy\",\"Kendra\",\"Kendre\",\"Kenna\",\"Keri\",\"Keriann\",\"Kerianne\",\"Kerri\",\"Kerrie\",\"Kerrill\",\"Kerrin\",\"Kerry\",\"Kerstin\",\"Kesley\",\"Keslie\",\"Kessia\",\"Kessiah\",\"Ketti\",\"Kettie\",\"Ketty\",\"Kevina\",\"Kevyn\",\"Ki\",\"Kiah\",\"Kial\",\"Kiele\",\"Kiersten\",\"Kikelia\",\"Kiley\",\"Kim\",\"Kimberlee\",\"Kimberley\",\"Kimberli\",\"Kimberly\",\"Kimberlyn\",\"Kimbra\",\"Kimmi\",\"Kimmie\",\"Kimmy\",\"Kinna\",\"Kip\",\"Kipp\",\"Kippie\",\"Kippy\",\"Kira\",\"Kirbee\",\"Kirbie\",\"Kirby\",\"Kiri\",\"Kirsten\",\"Kirsteni\",\"Kirsti\",\"Kirstin\",\"Kirstyn\",\"Kissee\",\"Kissiah\",\"Kissie\",\"Kit\",\"Kitti\",\"Kittie\",\"Kitty\",\"Kizzee\",\"Kizzie\",\"Klara\",\"Klarika\",\"Klarrisa\",\"Konstance\",\"Konstanze\",\"Koo\",\"Kora\",\"Koral\",\"Koralle\",\"Kordula\",\"Kore\",\"Korella\",\"Koren\",\"Koressa\",\"Kori\",\"Korie\",\"Korney\",\"Korrie\",\"Korry\",\"Kris\",\"Krissie\",\"Krissy\",\"Krista\",\"Kristal\",\"Kristan\",\"Kriste\",\"Kristel\",\"Kristen\",\"Kristi\",\"Kristien\",\"Kristin\",\"Kristina\",\"Kristine\",\"Kristy\",\"Kristyn\",\"Krysta\",\"Krystal\",\"Krystalle\",\"Krystle\",\"Krystyna\",\"Kyla\",\"Kyle\",\"Kylen\",\"Kylie\",\"Kylila\",\"Kylynn\",\"Kym\",\"Kynthia\",\"Kyrstin\",\"La Verne\",\"Lacee\",\"Lacey\",\"Lacie\",\"Lacy\",\"Ladonna\",\"Laetitia\",\"Laina\",\"Lainey\",\"Lana\",\"Lanae\",\"Lane\",\"Lanette\",\"Laney\",\"Lani\",\"Lanie\",\"Lanita\",\"Lanna\",\"Lanni\",\"Lanny\",\"Lara\",\"Laraine\",\"Lari\",\"Larina\",\"Larine\",\"Larisa\",\"Larissa\",\"Lark\",\"Laryssa\",\"Latashia\",\"Latia\",\"Latisha\",\"Latrena\",\"Latrina\",\"Laura\",\"Lauraine\",\"Laural\",\"Lauralee\",\"Laure\",\"Lauree\",\"Laureen\",\"Laurel\",\"Laurella\",\"Lauren\",\"Laurena\",\"Laurene\",\"Lauretta\",\"Laurette\",\"Lauri\",\"Laurianne\",\"Laurice\",\"Laurie\",\"Lauryn\",\"Lavena\",\"Laverna\",\"Laverne\",\"Lavina\",\"Lavinia\",\"Lavinie\",\"Layla\",\"Layne\",\"Layney\",\"Lea\",\"Leah\",\"Leandra\",\"Leann\",\"Leanna\",\"Leanor\",\"Leanora\",\"Lebbie\",\"Leda\",\"Lee\",\"Leeann\",\"Leeanne\",\"Leela\",\"Leelah\",\"Leena\",\"Leesa\",\"Leese\",\"Legra\",\"Leia\",\"Leigh\",\"Leigha\",\"Leila\",\"Leilah\",\"Leisha\",\"Lela\",\"Lelah\",\"Leland\",\"Lelia\",\"Lena\",\"Lenee\",\"Lenette\",\"Lenka\",\"Lenna\",\"Lenora\",\"Lenore\",\"Leodora\",\"Leoine\",\"Leola\",\"Leoline\",\"Leona\",\"Leonanie\",\"Leone\",\"Leonelle\",\"Leonie\",\"Leonora\",\"Leonore\",\"Leontine\",\"Leontyne\",\"Leora\",\"Leshia\",\"Lesley\",\"Lesli\",\"Leslie\",\"Lesly\",\"Lesya\",\"Leta\",\"Lethia\",\"Leticia\",\"Letisha\",\"Letitia\",\"Letizia\",\"Letta\",\"Letti\",\"Lettie\",\"Letty\",\"Lexi\",\"Lexie\",\"Lexine\",\"Lexis\",\"Lexy\",\"Leyla\",\"Lezlie\",\"Lia\",\"Lian\",\"Liana\",\"Liane\",\"Lianna\",\"Lianne\",\"Lib\",\"Libbey\",\"Libbi\",\"Libbie\",\"Libby\",\"Licha\",\"Lida\",\"Lidia\",\"Liesa\",\"Lil\",\"Lila\",\"Lilah\",\"Lilas\",\"Lilia\",\"Lilian\",\"Liliane\",\"Lilias\",\"Lilith\",\"Lilla\",\"Lilli\",\"Lillian\",\"Lillis\",\"Lilllie\",\"Lilly\",\"Lily\",\"Lilyan\",\"Lin\",\"Lina\",\"Lind\",\"Linda\",\"Lindi\",\"Lindie\",\"Lindsay\",\"Lindsey\",\"Lindsy\",\"Lindy\",\"Linea\",\"Linell\",\"Linet\",\"Linette\",\"Linn\",\"Linnea\",\"Linnell\",\"Linnet\",\"Linnie\",\"Linzy\",\"Lira\",\"Lisa\",\"Lisabeth\",\"Lisbeth\",\"Lise\",\"Lisetta\",\"Lisette\",\"Lisha\",\"Lishe\",\"Lissa\",\"Lissi\",\"Lissie\",\"Lissy\",\"Lita\",\"Liuka\",\"Liv\",\"Liva\",\"Livia\",\"Livvie\",\"Livvy\",\"Livvyy\",\"Livy\",\"Liz\",\"Liza\",\"Lizabeth\",\"Lizbeth\",\"Lizette\",\"Lizzie\",\"Lizzy\",\"Loella\",\"Lois\",\"Loise\",\"Lola\",\"Loleta\",\"Lolita\",\"Lolly\",\"Lona\",\"Lonee\",\"Loni\",\"Lonna\",\"Lonni\",\"Lonnie\",\"Lora\",\"Lorain\",\"Loraine\",\"Loralee\",\"Loralie\",\"Loralyn\",\"Loree\",\"Loreen\",\"Lorelei\",\"Lorelle\",\"Loren\",\"Lorena\",\"Lorene\",\"Lorenza\",\"Loretta\",\"Lorette\",\"Lori\",\"Loria\",\"Lorianna\",\"Lorianne\",\"Lorie\",\"Lorilee\",\"Lorilyn\",\"Lorinda\",\"Lorine\",\"Lorita\",\"Lorna\",\"Lorne\",\"Lorraine\",\"Lorrayne\",\"Lorri\",\"Lorrie\",\"Lorrin\",\"Lorry\",\"Lory\",\"Lotta\",\"Lotte\",\"Lotti\",\"Lottie\",\"Lotty\",\"Lou\",\"Louella\",\"Louisa\",\"Louise\",\"Louisette\",\"Loutitia\",\"Lu\",\"Luce\",\"Luci\",\"Lucia\",\"Luciana\",\"Lucie\",\"Lucienne\",\"Lucila\",\"Lucilia\",\"Lucille\",\"Lucina\",\"Lucinda\",\"Lucine\",\"Lucita\",\"Lucky\",\"Lucretia\",\"Lucy\",\"Ludovika\",\"Luella\",\"Luelle\",\"Luisa\",\"Luise\",\"Lula\",\"Lulita\",\"Lulu\",\"Lura\",\"Lurette\",\"Lurleen\",\"Lurlene\",\"Lurline\",\"Lusa\",\"Luz\",\"Lyda\",\"Lydia\",\"Lydie\",\"Lyn\",\"Lynda\",\"Lynde\",\"Lyndel\",\"Lyndell\",\"Lyndsay\",\"Lyndsey\",\"Lyndsie\",\"Lyndy\",\"Lynea\",\"Lynelle\",\"Lynett\",\"Lynette\",\"Lynn\",\"Lynna\",\"Lynne\",\"Lynnea\",\"Lynnell\",\"Lynnelle\",\"Lynnet\",\"Lynnett\",\"Lynnette\",\"Lynsey\",\"Lyssa\",\"Mab\",\"Mabel\",\"Mabelle\",\"Mable\",\"Mada\",\"Madalena\",\"Madalyn\",\"Maddalena\",\"Maddi\",\"Maddie\",\"Maddy\",\"Madel\",\"Madelaine\",\"Madeleine\",\"Madelena\",\"Madelene\",\"Madelin\",\"Madelina\",\"Madeline\",\"Madella\",\"Madelle\",\"Madelon\",\"Madelyn\",\"Madge\",\"Madlen\",\"Madlin\",\"Madonna\",\"Mady\",\"Mae\",\"Maegan\",\"Mag\",\"Magda\",\"Magdaia\",\"Magdalen\",\"Magdalena\",\"Magdalene\",\"Maggee\",\"Maggi\",\"Maggie\",\"Maggy\",\"Mahala\",\"Mahalia\",\"Maia\",\"Maible\",\"Maiga\",\"Maighdiln\",\"Mair\",\"Maire\",\"Maisey\",\"Maisie\",\"Maitilde\",\"Mala\",\"Malanie\",\"Malena\",\"Malia\",\"Malina\",\"Malinda\",\"Malinde\",\"Malissa\",\"Malissia\",\"Mallissa\",\"Mallorie\",\"Mallory\",\"Malorie\",\"Malory\",\"Malva\",\"Malvina\",\"Malynda\",\"Mame\",\"Mamie\",\"Manda\",\"Mandi\",\"Mandie\",\"Mandy\",\"Manon\",\"Manya\",\"Mara\",\"Marabel\",\"Marcela\",\"Marcelia\",\"Marcella\",\"Marcelle\",\"Marcellina\",\"Marcelline\",\"Marchelle\",\"Marci\",\"Marcia\",\"Marcie\",\"Marcile\",\"Marcille\",\"Marcy\",\"Mareah\",\"Maren\",\"Marena\",\"Maressa\",\"Marga\",\"Margalit\",\"Margalo\",\"Margaret\",\"Margareta\",\"Margarete\",\"Margaretha\",\"Margarethe\",\"Margaretta\",\"Margarette\",\"Margarita\",\"Margaux\",\"Marge\",\"Margeaux\",\"Margery\",\"Marget\",\"Margette\",\"Margi\",\"Margie\",\"Margit\",\"Margo\",\"Margot\",\"Margret\",\"Marguerite\",\"Margy\",\"Mari\",\"Maria\",\"Mariam\",\"Marian\",\"Mariana\",\"Mariann\",\"Marianna\",\"Marianne\",\"Maribel\",\"Maribelle\",\"Maribeth\",\"Marice\",\"Maridel\",\"Marie\",\"Marie-Ann\",\"Marie-Jeanne\",\"Marieann\",\"Mariejeanne\",\"Mariel\",\"Mariele\",\"Marielle\",\"Mariellen\",\"Marietta\",\"Mariette\",\"Marigold\",\"Marijo\",\"Marika\",\"Marilee\",\"Marilin\",\"Marillin\",\"Marilyn\",\"Marin\",\"Marina\",\"Marinna\",\"Marion\",\"Mariquilla\",\"Maris\",\"Marisa\",\"Mariska\",\"Marissa\",\"Marita\",\"Maritsa\",\"Mariya\",\"Marj\",\"Marja\",\"Marje\",\"Marji\",\"Marjie\",\"Marjorie\",\"Marjory\",\"Marjy\",\"Marketa\",\"Marla\",\"Marlane\",\"Marleah\",\"Marlee\",\"Marleen\",\"Marlena\",\"Marlene\",\"Marley\",\"Marlie\",\"Marline\",\"Marlo\",\"Marlyn\",\"Marna\",\"Marne\",\"Marney\",\"Marni\",\"Marnia\",\"Marnie\",\"Marquita\",\"Marrilee\",\"Marris\",\"Marrissa\",\"Marsha\",\"Marsiella\",\"Marta\",\"Martelle\",\"Martguerita\",\"Martha\",\"Marthe\",\"Marthena\",\"Marti\",\"Martica\",\"Martie\",\"Martina\",\"Martita\",\"Marty\",\"Martynne\",\"Mary\",\"Marya\",\"Maryann\",\"Maryanna\",\"Maryanne\",\"Marybelle\",\"Marybeth\",\"Maryellen\",\"Maryjane\",\"Maryjo\",\"Maryl\",\"Marylee\",\"Marylin\",\"Marylinda\",\"Marylou\",\"Marylynne\",\"Maryrose\",\"Marys\",\"Marysa\",\"Masha\",\"Matelda\",\"Mathilda\",\"Mathilde\",\"Matilda\",\"Matilde\",\"Matti\",\"Mattie\",\"Matty\",\"Maud\",\"Maude\",\"Maudie\",\"Maura\",\"Maure\",\"Maureen\",\"Maureene\",\"Maurene\",\"Maurine\",\"Maurise\",\"Maurita\",\"Maurizia\",\"Mavis\",\"Mavra\",\"Max\",\"Maxi\",\"Maxie\",\"Maxine\",\"Maxy\",\"May\",\"Maybelle\",\"Maye\",\"Mead\",\"Meade\",\"Meagan\",\"Meaghan\",\"Meara\",\"Mechelle\",\"Meg\",\"Megan\",\"Megen\",\"Meggi\",\"Meggie\",\"Meggy\",\"Meghan\",\"Meghann\",\"Mehetabel\",\"Mei\",\"Mel\",\"Mela\",\"Melamie\",\"Melania\",\"Melanie\",\"Melantha\",\"Melany\",\"Melba\",\"Melesa\",\"Melessa\",\"Melicent\",\"Melina\",\"Melinda\",\"Melinde\",\"Melisa\",\"Melisande\",\"Melisandra\",\"Melisenda\",\"Melisent\",\"Melissa\",\"Melisse\",\"Melita\",\"Melitta\",\"Mella\",\"Melli\",\"Mellicent\",\"Mellie\",\"Mellisa\",\"Mellisent\",\"Melloney\",\"Melly\",\"Melodee\",\"Melodie\",\"Melody\",\"Melonie\",\"Melony\",\"Melosa\",\"Melva\",\"Mercedes\",\"Merci\",\"Mercie\",\"Mercy\",\"Meredith\",\"Meredithe\",\"Meridel\",\"Meridith\",\"Meriel\",\"Merilee\",\"Merilyn\",\"Meris\",\"Merissa\",\"Merl\",\"Merla\",\"Merle\",\"Merlina\",\"Merline\",\"Merna\",\"Merola\",\"Merralee\",\"Merridie\",\"Merrie\",\"Merrielle\",\"Merrile\",\"Merrilee\",\"Merrili\",\"Merrill\",\"Merrily\",\"Merry\",\"Mersey\",\"Meryl\",\"Meta\",\"Mia\",\"Micaela\",\"Michaela\",\"Michaelina\",\"Michaeline\",\"Michaella\",\"Michal\",\"Michel\",\"Michele\",\"Michelina\",\"Micheline\",\"Michell\",\"Michelle\",\"Micki\",\"Mickie\",\"Micky\",\"Midge\",\"Mignon\",\"Mignonne\",\"Miguela\",\"Miguelita\",\"Mikaela\",\"Mil\",\"Mildred\",\"Mildrid\",\"Milena\",\"Milicent\",\"Milissent\",\"Milka\",\"Milli\",\"Millicent\",\"Millie\",\"Millisent\",\"Milly\",\"Milzie\",\"Mimi\",\"Min\",\"Mina\",\"Minda\",\"Mindy\",\"Minerva\",\"Minetta\",\"Minette\",\"Minna\",\"Minnaminnie\",\"Minne\",\"Minni\",\"Minnie\",\"Minnnie\",\"Minny\",\"Minta\",\"Miof Mela\",\"Miquela\",\"Mira\",\"Mirabel\",\"Mirabella\",\"Mirabelle\",\"Miran\",\"Miranda\",\"Mireielle\",\"Mireille\",\"Mirella\",\"Mirelle\",\"Miriam\",\"Mirilla\",\"Mirna\",\"Misha\",\"Missie\",\"Missy\",\"Misti\",\"Misty\",\"Mitzi\",\"Modesta\",\"Modestia\",\"Modestine\",\"Modesty\",\"Moina\",\"Moira\",\"Moll\",\"Mollee\",\"Molli\",\"Mollie\",\"Molly\",\"Mommy\",\"Mona\",\"Monah\",\"Monica\",\"Monika\",\"Monique\",\"Mora\",\"Moreen\",\"Morena\",\"Morgan\",\"Morgana\",\"Morganica\",\"Morganne\",\"Morgen\",\"Moria\",\"Morissa\",\"Morna\",\"Moselle\",\"Moyna\",\"Moyra\",\"Mozelle\",\"Muffin\",\"Mufi\",\"Mufinella\",\"Muire\",\"Mureil\",\"Murial\",\"Muriel\",\"Murielle\",\"Myra\",\"Myrah\",\"Myranda\",\"Myriam\",\"Myrilla\",\"Myrle\",\"Myrlene\",\"Myrna\",\"Myrta\",\"Myrtia\",\"Myrtice\",\"Myrtie\",\"Myrtle\",\"Nada\",\"Nadean\",\"Nadeen\",\"Nadia\",\"Nadine\",\"Nadiya\",\"Nady\",\"Nadya\",\"Nalani\",\"Nan\",\"Nana\",\"Nananne\",\"Nance\",\"Nancee\",\"Nancey\",\"Nanci\",\"Nancie\",\"Nancy\",\"Nanete\",\"Nanette\",\"Nani\",\"Nanice\",\"Nanine\",\"Nannette\",\"Nanni\",\"Nannie\",\"Nanny\",\"Nanon\",\"Naoma\",\"Naomi\",\"Nara\",\"Nari\",\"Nariko\",\"Nat\",\"Nata\",\"Natala\",\"Natalee\",\"Natalie\",\"Natalina\",\"Nataline\",\"Natalya\",\"Natasha\",\"Natassia\",\"Nathalia\",\"Nathalie\",\"Natividad\",\"Natka\",\"Natty\",\"Neala\",\"Neda\",\"Nedda\",\"Nedi\",\"Neely\",\"Neila\",\"Neile\",\"Neilla\",\"Neille\",\"Nelia\",\"Nelie\",\"Nell\",\"Nelle\",\"Nelli\",\"Nellie\",\"Nelly\",\"Nerissa\",\"Nerita\",\"Nert\",\"Nerta\",\"Nerte\",\"Nerti\",\"Nertie\",\"Nerty\",\"Nessa\",\"Nessi\",\"Nessie\",\"Nessy\",\"Nesta\",\"Netta\",\"Netti\",\"Nettie\",\"Nettle\",\"Netty\",\"Nevsa\",\"Neysa\",\"Nichol\",\"Nichole\",\"Nicholle\",\"Nicki\",\"Nickie\",\"Nicky\",\"Nicol\",\"Nicola\",\"Nicole\",\"Nicolea\",\"Nicolette\",\"Nicoli\",\"Nicolina\",\"Nicoline\",\"Nicolle\",\"Nikaniki\",\"Nike\",\"Niki\",\"Nikki\",\"Nikkie\",\"Nikoletta\",\"Nikolia\",\"Nina\",\"Ninetta\",\"Ninette\",\"Ninnetta\",\"Ninnette\",\"Ninon\",\"Nissa\",\"Nisse\",\"Nissie\",\"Nissy\",\"Nita\",\"Nixie\",\"Noami\",\"Noel\",\"Noelani\",\"Noell\",\"Noella\",\"Noelle\",\"Noellyn\",\"Noelyn\",\"Noemi\",\"Nola\",\"Nolana\",\"Nolie\",\"Nollie\",\"Nomi\",\"Nona\",\"Nonah\",\"Noni\",\"Nonie\",\"Nonna\",\"Nonnah\",\"Nora\",\"Norah\",\"Norean\",\"Noreen\",\"Norene\",\"Norina\",\"Norine\",\"Norma\",\"Norri\",\"Norrie\",\"Norry\",\"Novelia\",\"Nydia\",\"Nyssa\",\"Octavia\",\"Odele\",\"Odelia\",\"Odelinda\",\"Odella\",\"Odelle\",\"Odessa\",\"Odetta\",\"Odette\",\"Odilia\",\"Odille\",\"Ofelia\",\"Ofella\",\"Ofilia\",\"Ola\",\"Olenka\",\"Olga\",\"Olia\",\"Olimpia\",\"Olive\",\"Olivette\",\"Olivia\",\"Olivie\",\"Oliy\",\"Ollie\",\"Olly\",\"Olva\",\"Olwen\",\"Olympe\",\"Olympia\",\"Olympie\",\"Ondrea\",\"Oneida\",\"Onida\",\"Oona\",\"Opal\",\"Opalina\",\"Opaline\",\"Ophelia\",\"Ophelie\",\"Ora\",\"Oralee\",\"Oralia\",\"Oralie\",\"Oralla\",\"Oralle\",\"Orel\",\"Orelee\",\"Orelia\",\"Orelie\",\"Orella\",\"Orelle\",\"Oriana\",\"Orly\",\"Orsa\",\"Orsola\",\"Ortensia\",\"Otha\",\"Othelia\",\"Othella\",\"Othilia\",\"Othilie\",\"Ottilie\",\"Page\",\"Paige\",\"Paloma\",\"Pam\",\"Pamela\",\"Pamelina\",\"Pamella\",\"Pammi\",\"Pammie\",\"Pammy\",\"Pandora\",\"Pansie\",\"Pansy\",\"Paola\",\"Paolina\",\"Papagena\",\"Pat\",\"Patience\",\"Patrica\",\"Patrice\",\"Patricia\",\"Patrizia\",\"Patsy\",\"Patti\",\"Pattie\",\"Patty\",\"Paula\",\"Paule\",\"Pauletta\",\"Paulette\",\"Pauli\",\"Paulie\",\"Paulina\",\"Pauline\",\"Paulita\",\"Pauly\",\"Pavia\",\"Pavla\",\"Pearl\",\"Pearla\",\"Pearle\",\"Pearline\",\"Peg\",\"Pegeen\",\"Peggi\",\"Peggie\",\"Peggy\",\"Pen\",\"Penelopa\",\"Penelope\",\"Penni\",\"Pennie\",\"Penny\",\"Pepi\",\"Pepita\",\"Peri\",\"Peria\",\"Perl\",\"Perla\",\"Perle\",\"Perri\",\"Perrine\",\"Perry\",\"Persis\",\"Pet\",\"Peta\",\"Petra\",\"Petrina\",\"Petronella\",\"Petronia\",\"Petronilla\",\"Petronille\",\"Petunia\",\"Phaedra\",\"Phaidra\",\"Phebe\",\"Phedra\",\"Phelia\",\"Phil\",\"Philipa\",\"Philippa\",\"Philippe\",\"Philippine\",\"Philis\",\"Phillida\",\"Phillie\",\"Phillis\",\"Philly\",\"Philomena\",\"Phoebe\",\"Phylis\",\"Phyllida\",\"Phyllis\",\"Phyllys\",\"Phylys\",\"Pia\",\"Pier\",\"Pierette\",\"Pierrette\",\"Pietra\",\"Piper\",\"Pippa\",\"Pippy\",\"Polly\",\"Pollyanna\",\"Pooh\",\"Poppy\",\"Portia\",\"Pris\",\"Prisca\",\"Priscella\",\"Priscilla\",\"Prissie\",\"Pru\",\"Prudence\",\"Prudi\",\"Prudy\",\"Prue\",\"Queenie\",\"Quentin\",\"Querida\",\"Quinn\",\"Quinta\",\"Quintana\",\"Quintilla\",\"Quintina\",\"Rachael\",\"Rachel\",\"Rachele\",\"Rachelle\",\"Rae\",\"Raeann\",\"Raf\",\"Rafa\",\"Rafaela\",\"Rafaelia\",\"Rafaelita\",\"Rahal\",\"Rahel\",\"Raina\",\"Raine\",\"Rakel\",\"Ralina\",\"Ramona\",\"Ramonda\",\"Rana\",\"Randa\",\"Randee\",\"Randene\",\"Randi\",\"Randie\",\"Randy\",\"Ranee\",\"Rani\",\"Rania\",\"Ranice\",\"Ranique\",\"Ranna\",\"Raphaela\",\"Raquel\",\"Raquela\",\"Rasia\",\"Rasla\",\"Raven\",\"Ray\",\"Raychel\",\"Raye\",\"Rayna\",\"Raynell\",\"Rayshell\",\"Rea\",\"Reba\",\"Rebbecca\",\"Rebe\",\"Rebeca\",\"Rebecca\",\"Rebecka\",\"Rebeka\",\"Rebekah\",\"Rebekkah\",\"Ree\",\"Reeba\",\"Reena\",\"Reeta\",\"Reeva\",\"Regan\",\"Reggi\",\"Reggie\",\"Regina\",\"Regine\",\"Reiko\",\"Reina\",\"Reine\",\"Remy\",\"Rena\",\"Renae\",\"Renata\",\"Renate\",\"Rene\",\"Renee\",\"Renell\",\"Renelle\",\"Renie\",\"Rennie\",\"Reta\",\"Retha\",\"Revkah\",\"Rey\",\"Reyna\",\"Rhea\",\"Rheba\",\"Rheta\",\"Rhetta\",\"Rhiamon\",\"Rhianna\",\"Rhianon\",\"Rhoda\",\"Rhodia\",\"Rhodie\",\"Rhody\",\"Rhona\",\"Rhonda\",\"Riane\",\"Riannon\",\"Rianon\",\"Rica\",\"Ricca\",\"Rici\",\"Ricki\",\"Rickie\",\"Ricky\",\"Riki\",\"Rikki\",\"Rina\",\"Risa\",\"Rita\",\"Riva\",\"Rivalee\",\"Rivi\",\"Rivkah\",\"Rivy\",\"Roana\",\"Roanna\",\"Roanne\",\"Robbi\",\"Robbie\",\"Robbin\",\"Robby\",\"Robbyn\",\"Robena\",\"Robenia\",\"Roberta\",\"Robin\",\"Robina\",\"Robinet\",\"Robinett\",\"Robinetta\",\"Robinette\",\"Robinia\",\"Roby\",\"Robyn\",\"Roch\",\"Rochell\",\"Rochella\",\"Rochelle\",\"Rochette\",\"Roda\",\"Rodi\",\"Rodie\",\"Rodina\",\"Rois\",\"Romola\",\"Romona\",\"Romonda\",\"Romy\",\"Rona\",\"Ronalda\",\"Ronda\",\"Ronica\",\"Ronna\",\"Ronni\",\"Ronnica\",\"Ronnie\",\"Ronny\",\"Roobbie\",\"Rora\",\"Rori\",\"Rorie\",\"Rory\",\"Ros\",\"Rosa\",\"Rosabel\",\"Rosabella\",\"Rosabelle\",\"Rosaleen\",\"Rosalia\",\"Rosalie\",\"Rosalind\",\"Rosalinda\",\"Rosalinde\",\"Rosaline\",\"Rosalyn\",\"Rosalynd\",\"Rosamond\",\"Rosamund\",\"Rosana\",\"Rosanna\",\"Rosanne\",\"Rose\",\"Roseann\",\"Roseanna\",\"Roseanne\",\"Roselia\",\"Roselin\",\"Roseline\",\"Rosella\",\"Roselle\",\"Rosemaria\",\"Rosemarie\",\"Rosemary\",\"Rosemonde\",\"Rosene\",\"Rosetta\",\"Rosette\",\"Roshelle\",\"Rosie\",\"Rosina\",\"Rosita\",\"Roslyn\",\"Rosmunda\",\"Rosy\",\"Row\",\"Rowe\",\"Rowena\",\"Roxana\",\"Roxane\",\"Roxanna\",\"Roxanne\",\"Roxi\",\"Roxie\",\"Roxine\",\"Roxy\",\"Roz\",\"Rozalie\",\"Rozalin\",\"Rozamond\",\"Rozanna\",\"Rozanne\",\"Roze\",\"Rozele\",\"Rozella\",\"Rozelle\",\"Rozina\",\"Rubetta\",\"Rubi\",\"Rubia\",\"Rubie\",\"Rubina\",\"Ruby\",\"Ruperta\",\"Ruth\",\"Ruthann\",\"Ruthanne\",\"Ruthe\",\"Ruthi\",\"Ruthie\",\"Ruthy\",\"Ryann\",\"Rycca\",\"Saba\",\"Sabina\",\"Sabine\",\"Sabra\",\"Sabrina\",\"Sacha\",\"Sada\",\"Sadella\",\"Sadie\",\"Sadye\",\"Saidee\",\"Sal\",\"Salaidh\",\"Sallee\",\"Salli\",\"Sallie\",\"Sally\",\"Sallyann\",\"Sallyanne\",\"Saloma\",\"Salome\",\"Salomi\",\"Sam\",\"Samantha\",\"Samara\",\"Samaria\",\"Sammy\",\"Sande\",\"Sandi\",\"Sandie\",\"Sandra\",\"Sandy\",\"Sandye\",\"Sapphira\",\"Sapphire\",\"Sara\",\"Sara-Ann\",\"Saraann\",\"Sarah\",\"Sarajane\",\"Saree\",\"Sarena\",\"Sarene\",\"Sarette\",\"Sari\",\"Sarina\",\"Sarine\",\"Sarita\",\"Sascha\",\"Sasha\",\"Sashenka\",\"Saudra\",\"Saundra\",\"Savina\",\"Sayre\",\"Scarlet\",\"Scarlett\",\"Sean\",\"Seana\",\"Seka\",\"Sela\",\"Selena\",\"Selene\",\"Selestina\",\"Selia\",\"Selie\",\"Selina\",\"Selinda\",\"Seline\",\"Sella\",\"Selle\",\"Selma\",\"Sena\",\"Sephira\",\"Serena\",\"Serene\",\"Shae\",\"Shaina\",\"Shaine\",\"Shalna\",\"Shalne\",\"Shana\",\"Shanda\",\"Shandee\",\"Shandeigh\",\"Shandie\",\"Shandra\",\"Shandy\",\"Shane\",\"Shani\",\"Shanie\",\"Shanna\",\"Shannah\",\"Shannen\",\"Shannon\",\"Shanon\",\"Shanta\",\"Shantee\",\"Shara\",\"Sharai\",\"Shari\",\"Sharia\",\"Sharity\",\"Sharl\",\"Sharla\",\"Sharleen\",\"Sharlene\",\"Sharline\",\"Sharon\",\"Sharona\",\"Sharron\",\"Sharyl\",\"Shaun\",\"Shauna\",\"Shawn\",\"Shawna\",\"Shawnee\",\"Shay\",\"Shayla\",\"Shaylah\",\"Shaylyn\",\"Shaylynn\",\"Shayna\",\"Shayne\",\"Shea\",\"Sheba\",\"Sheela\",\"Sheelagh\",\"Sheelah\",\"Sheena\",\"Sheeree\",\"Sheila\",\"Sheila-Kathryn\",\"Sheilah\",\"Shel\",\"Shela\",\"Shelagh\",\"Shelba\",\"Shelbi\",\"Shelby\",\"Shelia\",\"Shell\",\"Shelley\",\"Shelli\",\"Shellie\",\"Shelly\",\"Shena\",\"Sher\",\"Sheree\",\"Sheri\",\"Sherie\",\"Sherill\",\"Sherilyn\",\"Sherline\",\"Sherri\",\"Sherrie\",\"Sherry\",\"Sherye\",\"Sheryl\",\"Shina\",\"Shir\",\"Shirl\",\"Shirlee\",\"Shirleen\",\"Shirlene\",\"Shirley\",\"Shirline\",\"Shoshana\",\"Shoshanna\",\"Siana\",\"Sianna\",\"Sib\",\"Sibbie\",\"Sibby\",\"Sibeal\",\"Sibel\",\"Sibella\",\"Sibelle\",\"Sibilla\",\"Sibley\",\"Sibyl\",\"Sibylla\",\"Sibylle\",\"Sidoney\",\"Sidonia\",\"Sidonnie\",\"Sigrid\",\"Sile\",\"Sileas\",\"Silva\",\"Silvana\",\"Silvia\",\"Silvie\",\"Simona\",\"Simone\",\"Simonette\",\"Simonne\",\"Sindee\",\"Siobhan\",\"Sioux\",\"Siouxie\",\"Sisely\",\"Sisile\",\"Sissie\",\"Sissy\",\"Siusan\",\"Sofia\",\"Sofie\",\"Sondra\",\"Sonia\",\"Sonja\",\"Sonni\",\"Sonnie\",\"Sonnnie\",\"Sonny\",\"Sonya\",\"Sophey\",\"Sophi\",\"Sophia\",\"Sophie\",\"Sophronia\",\"Sorcha\",\"Sosanna\",\"Stace\",\"Stacee\",\"Stacey\",\"Staci\",\"Stacia\",\"Stacie\",\"Stacy\",\"Stafani\",\"Star\",\"Starla\",\"Starlene\",\"Starlin\",\"Starr\",\"Stefa\",\"Stefania\",\"Stefanie\",\"Steffane\",\"Steffi\",\"Steffie\",\"Stella\",\"Stepha\",\"Stephana\",\"Stephani\",\"Stephanie\",\"Stephannie\",\"Stephenie\",\"Stephi\",\"Stephie\",\"Stephine\",\"Stesha\",\"Stevana\",\"Stevena\",\"Stoddard\",\"Storm\",\"Stormi\",\"Stormie\",\"Stormy\",\"Sue\",\"Suellen\",\"Sukey\",\"Suki\",\"Sula\",\"Sunny\",\"Sunshine\",\"Susan\",\"Susana\",\"Susanetta\",\"Susann\",\"Susanna\",\"Susannah\",\"Susanne\",\"Susette\",\"Susi\",\"Susie\",\"Susy\",\"Suzann\",\"Suzanna\",\"Suzanne\",\"Suzette\",\"Suzi\",\"Suzie\",\"Suzy\",\"Sybil\",\"Sybila\",\"Sybilla\",\"Sybille\",\"Sybyl\",\"Sydel\",\"Sydelle\",\"Sydney\",\"Sylvia\",\"Tabatha\",\"Tabbatha\",\"Tabbi\",\"Tabbie\",\"Tabbitha\",\"Tabby\",\"Tabina\",\"Tabitha\",\"Taffy\",\"Talia\",\"Tallia\",\"Tallie\",\"Tallou\",\"Tallulah\",\"Tally\",\"Talya\",\"Talyah\",\"Tamar\",\"Tamara\",\"Tamarah\",\"Tamarra\",\"Tamera\",\"Tami\",\"Tamiko\",\"Tamma\",\"Tammara\",\"Tammi\",\"Tammie\",\"Tammy\",\"Tamqrah\",\"Tamra\",\"Tana\",\"Tandi\",\"Tandie\",\"Tandy\",\"Tanhya\",\"Tani\",\"Tania\",\"Tanitansy\",\"Tansy\",\"Tanya\",\"Tara\",\"Tarah\",\"Tarra\",\"Tarrah\",\"Taryn\",\"Tasha\",\"Tasia\",\"Tate\",\"Tatiana\",\"Tatiania\",\"Tatum\",\"Tawnya\",\"Tawsha\",\"Ted\",\"Tedda\",\"Teddi\",\"Teddie\",\"Teddy\",\"Tedi\",\"Tedra\",\"Teena\",\"TEirtza\",\"Teodora\",\"Tera\",\"Teresa\",\"Terese\",\"Teresina\",\"Teresita\",\"Teressa\",\"Teri\",\"Teriann\",\"Terra\",\"Terri\",\"Terrie\",\"Terrijo\",\"Terry\",\"Terrye\",\"Tersina\",\"Terza\",\"Tess\",\"Tessa\",\"Tessi\",\"Tessie\",\"Tessy\",\"Thalia\",\"Thea\",\"Theadora\",\"Theda\",\"Thekla\",\"Thelma\",\"Theo\",\"Theodora\",\"Theodosia\",\"Theresa\",\"Therese\",\"Theresina\",\"Theresita\",\"Theressa\",\"Therine\",\"Thia\",\"Thomasa\",\"Thomasin\",\"Thomasina\",\"Thomasine\",\"Tiena\",\"Tierney\",\"Tiertza\",\"Tiff\",\"Tiffani\",\"Tiffanie\",\"Tiffany\",\"Tiffi\",\"Tiffie\",\"Tiffy\",\"Tilda\",\"Tildi\",\"Tildie\",\"Tildy\",\"Tillie\",\"Tilly\",\"Tim\",\"Timi\",\"Timmi\",\"Timmie\",\"Timmy\",\"Timothea\",\"Tina\",\"Tine\",\"Tiphani\",\"Tiphanie\",\"Tiphany\",\"Tish\",\"Tisha\",\"Tobe\",\"Tobey\",\"Tobi\",\"Toby\",\"Tobye\",\"Toinette\",\"Toma\",\"Tomasina\",\"Tomasine\",\"Tomi\",\"Tommi\",\"Tommie\",\"Tommy\",\"Toni\",\"Tonia\",\"Tonie\",\"Tony\",\"Tonya\",\"Tonye\",\"Tootsie\",\"Torey\",\"Tori\",\"Torie\",\"Torrie\",\"Tory\",\"Tova\",\"Tove\",\"Tracee\",\"Tracey\",\"Traci\",\"Tracie\",\"Tracy\",\"Trenna\",\"Tresa\",\"Trescha\",\"Tressa\",\"Tricia\",\"Trina\",\"Trish\",\"Trisha\",\"Trista\",\"Trix\",\"Trixi\",\"Trixie\",\"Trixy\",\"Truda\",\"Trude\",\"Trudey\",\"Trudi\",\"Trudie\",\"Trudy\",\"Trula\",\"Tuesday\",\"Twila\",\"Twyla\",\"Tybi\",\"Tybie\",\"Tyne\",\"Ula\",\"Ulla\",\"Ulrica\",\"Ulrika\",\"Ulrikaumeko\",\"Ulrike\",\"Umeko\",\"Una\",\"Ursa\",\"Ursala\",\"Ursola\",\"Ursula\",\"Ursulina\",\"Ursuline\",\"Uta\",\"Val\",\"Valaree\",\"Valaria\",\"Vale\",\"Valeda\",\"Valencia\",\"Valene\",\"Valenka\",\"Valentia\",\"Valentina\",\"Valentine\",\"Valera\",\"Valeria\",\"Valerie\",\"Valery\",\"Valerye\",\"Valida\",\"Valina\",\"Valli\",\"Vallie\",\"Vally\",\"Valma\",\"Valry\",\"Van\",\"Vanda\",\"Vanessa\",\"Vania\",\"Vanna\",\"Vanni\",\"Vannie\",\"Vanny\",\"Vanya\",\"Veda\",\"Velma\",\"Velvet\",\"Venita\",\"Venus\",\"Vera\",\"Veradis\",\"Vere\",\"Verena\",\"Verene\",\"Veriee\",\"Verile\",\"Verina\",\"Verine\",\"Verla\",\"Verna\",\"Vernice\",\"Veronica\",\"Veronika\",\"Veronike\",\"Veronique\",\"Vevay\",\"Vi\",\"Vicki\",\"Vickie\",\"Vicky\",\"Victoria\",\"Vida\",\"Viki\",\"Vikki\",\"Vikky\",\"Vilhelmina\",\"Vilma\",\"Vin\",\"Vina\",\"Vinita\",\"Vinni\",\"Vinnie\",\"Vinny\",\"Viola\",\"Violante\",\"Viole\",\"Violet\",\"Violetta\",\"Violette\",\"Virgie\",\"Virgina\",\"Virginia\",\"Virginie\",\"Vita\",\"Vitia\",\"Vitoria\",\"Vittoria\",\"Viv\",\"Viva\",\"Vivi\",\"Vivia\",\"Vivian\",\"Viviana\",\"Vivianna\",\"Vivianne\",\"Vivie\",\"Vivien\",\"Viviene\",\"Vivienne\",\"Viviyan\",\"Vivyan\",\"Vivyanne\",\"Vonni\",\"Vonnie\",\"Vonny\",\"Vyky\",\"Wallie\",\"Wallis\",\"Walliw\",\"Wally\",\"Waly\",\"Wanda\",\"Wandie\",\"Wandis\",\"Waneta\",\"Wanids\",\"Wenda\",\"Wendeline\",\"Wendi\",\"Wendie\",\"Wendy\",\"Wendye\",\"Wenona\",\"Wenonah\",\"Whitney\",\"Wileen\",\"Wilhelmina\",\"Wilhelmine\",\"Wilie\",\"Willa\",\"Willabella\",\"Willamina\",\"Willetta\",\"Willette\",\"Willi\",\"Willie\",\"Willow\",\"Willy\",\"Willyt\",\"Wilma\",\"Wilmette\",\"Wilona\",\"Wilone\",\"Wilow\",\"Windy\",\"Wini\",\"Winifred\",\"Winna\",\"Winnah\",\"Winne\",\"Winni\",\"Winnie\",\"Winnifred\",\"Winny\",\"Winona\",\"Winonah\",\"Wren\",\"Wrennie\",\"Wylma\",\"Wynn\",\"Wynne\",\"Wynnie\",\"Wynny\",\"Xaviera\",\"Xena\",\"Xenia\",\"Xylia\",\"Xylina\",\"Yalonda\",\"Yasmeen\",\"Yasmin\",\"Yelena\",\"Yetta\",\"Yettie\",\"Yetty\",\"Yevette\",\"Ynes\",\"Ynez\",\"Yoko\",\"Yolanda\",\"Yolande\",\"Yolane\",\"Yolanthe\",\"Yoshi\",\"Yoshiko\",\"Yovonnda\",\"Ysabel\",\"Yvette\",\"Yvonne\",\"Zabrina\",\"Zahara\",\"Zandra\",\"Zaneta\",\"Zara\",\"Zarah\",\"Zaria\",\"Zarla\",\"Zea\",\"Zelda\",\"Zelma\",\"Zena\",\"Zenia\",\"Zia\",\"Zilvia\",\"Zita\",\"Zitella\",\"Zoe\",\"Zola\",\"Zonda\",\"Zondra\",\"Zonnya\",\"Zora\",\"Zorah\",\"Zorana\",\"Zorina\",\"Zorine\",\"Zsa Zsa\",\"Zsazsa\",\"Zulema\",\"Zuzana\", \"Saman\", \"Farahnaz\", \"Sepehr\", \"Naaz\"];\n    const suffixes = ['tchi', 'chu', 'chi', 'ko'];\n    if(seed) {\n        pRandom.save();\n        pRandom.seed = seed;\n        const n = pRandomFromArray(firstNames);\n        const s = pRandomFromArray(suffixes);\n        pRandom.load();\n        return n + s;\n    }\n    return randomFromArray(firstNames) + pRandomFromArray(suffixes);\n}\n\n//# sourceURL=webpack:///./src/Utils.js?");

/***/ }),

/***/ "./src/Version.js":
/*!************************!*\
  !*** ./src/Version.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VERSION: () => (/* binding */ VERSION)\n/* harmony export */ });\nconst VERSION = '1.5.3.5';\n\n//# sourceURL=webpack:///./src/Version.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SpriteElement: () => (/* binding */ SpriteElement)\n/* harmony export */ });\n/* harmony import */ var _UiHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiHelper */ \"./src/UiHelper.js\");\n/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./App */ \"./src/App.js\");\n/* harmony import */ var _Missions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Missions */ \"./src/Missions.js\");\n/* harmony import */ var _Activities_Activities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Activities/Activities */ \"./src/Activities/Activities.js\");\n\n// import * as Utils from './Utils.js'\n// import { Drawer } from \"./Drawer.js\";\n// import { Object2d } from \"./Object2d.js\";\n// import { Scene } from \"./Scene.js\";\n// import { Activities } from \"./Activities\";\n// import { PetDefinition } from \"./PetDefinition.js\";\n// import { Pet } from \"./Pet.js\";\n\n\n\n// import { Missions } from \"./Missions.js\";\n\nclass SpriteElement extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    this.image = document.createElement(\"img\");\n    this.shadowRoot.appendChild(this.image);\n    this.image.style[\"-webkit-user-drag\"] = \"none\";\n  }\n  updateImage() {\n    const src = this.getAttribute(\"src\");\n    const width = this.getAttribute(\"width\");\n    const height = this.getAttribute(\"height\");\n    const index = this.getAttribute(\"index\");\n    const naturalWidth =\n      this.getAttribute(\"naturalWidth\") || this.image.naturalWidth || 64;\n    const posX = this.getAttribute(\"pos-x\") || 0;\n    const posY = this.getAttribute(\"pos-y\") || 0;\n    this.image.src = _App__WEBPACK_IMPORTED_MODULE_1__.App.checkResourceOverride(src);\n    this.image.width = width;\n    this.image.height = height;\n    const x = (index % (naturalWidth / width)) * width;\n    const y = Math.floor(index / (naturalWidth / width)) * height;\n    this.image.style.objectFit = \"none\";\n    this.image.style.objectPosition = `-${x + posX}px -${y + posY}px`;\n    this.image.style.imageRendering = \"pixelated\";\n  }\n  connectedCallback() {\n    this.updateImage();\n  }\n  attributeChangedCallback(name, oldValue, newValue) {\n    this.updateImage();\n  }\n  static get observedAttributes() {\n    return [\"src\", \"width\", \"height\", \"index\"];\n  }\n}\n\ncustomElements.define(\"c-sprite\", SpriteElement);\n\nfunction handleServiceWorker() {\n  if (!navigator?.serviceWorker || _App__WEBPACK_IMPORTED_MODULE_1__.App.isOnItch) return;\n\n  let shownControllerChangeModal = false;\n  navigator?.serviceWorker\n    ?.register(\"service-worker.js\")\n    .then((registration) => {\n      console.log(\"Service Worker Registered\");\n      // if(registration.active){\n      //     setTimeout(() => App.checkPetStats(), 500)\n      // }\n    });\n  navigator?.serviceWorker?.addEventListener(\"controllerchange\", () => {\n    if (!shownControllerChangeModal && !_App__WEBPACK_IMPORTED_MODULE_1__.App.isOnItch) {\n      shownControllerChangeModal = true;\n      document.querySelector(\"#download-container\").style.display = \"none\";\n      document.querySelector(\"#download-complete-container\").style.display = \"\";\n    }\n  });\n\n  const channel = new BroadcastChannel(\"sw-messages\");\n  channel.addEventListener(\"message\", (event) => {\n    switch (event.data.type) {\n      case \"install\":\n        if (!_App__WEBPACK_IMPORTED_MODULE_1__.App.awayTime || _App__WEBPACK_IMPORTED_MODULE_1__.App.isOnItch) break;\n        const downloadContainer = document.querySelector(\"#download-container\");\n        downloadContainer.style.display = \"\";\n        downloadContainer.onclick = () => {\n          downloadContainer.style.display = \"none\";\n        };\n        break;\n    }\n  });\n\n  window.addEventListener(\"beforeinstallprompt\", (e) => {\n    e.preventDefault();\n    _App__WEBPACK_IMPORTED_MODULE_1__.App.deferredInstallPrompt = e;\n\n    if (_App__WEBPACK_IMPORTED_MODULE_1__.App.awayTime !== -1) {\n      _App__WEBPACK_IMPORTED_MODULE_1__.App.addEvent(`pwa_install_notice_01`, () => {\n        _App__WEBPACK_IMPORTED_MODULE_1__.App.displayConfirm(`Do you want to install <b>Tamaweb</b> as an app?`, [\n          {\n            name: \"install\",\n            onclick: () => {\n              _App__WEBPACK_IMPORTED_MODULE_1__.App.installAsPWA();\n            },\n          },\n          {\n            name: \"cancel\",\n            class: \"back-btn\",\n            onclick: () => {\n              _App__WEBPACK_IMPORTED_MODULE_1__.App.displayPopup(\n                `You can install the game as an app anytime from the <b>settings</b>`\n              );\n            },\n          },\n        ]);\n      });\n    }\n  });\n}\n\nObject.assign(window, { App: _App__WEBPACK_IMPORTED_MODULE_1__.App, Missions: _Missions__WEBPACK_IMPORTED_MODULE_2__.Missions, Activities: _Activities_Activities__WEBPACK_IMPORTED_MODULE_3__.Activities });\n\n// handleServiceWorker();\n_App__WEBPACK_IMPORTED_MODULE_1__.App.init();\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/libs/moment.js":
/*!****************************!*\
  !*** ./src/libs/moment.js ***!
  \****************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\n//! moment.js\n//! version : 2.30.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n     true ? module.exports = factory() :\n    0\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks() {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback(callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return (\n            input instanceof Array ||\n            Object.prototype.toString.call(input) === '[object Array]'\n        );\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return (\n            input != null &&\n            Object.prototype.toString.call(input) === '[object Object]'\n        );\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return Object.getOwnPropertyNames(obj).length === 0;\n        } else {\n            var k;\n            for (k in obj) {\n                if (hasOwnProp(obj, k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return (\n            typeof input === 'number' ||\n            Object.prototype.toString.call(input) === '[object Number]'\n        );\n    }\n\n    function isDate(input) {\n        return (\n            input instanceof Date ||\n            Object.prototype.toString.call(input) === '[object Date]'\n        );\n    }\n\n    function map(arr, fn) {\n        var res = [],\n            i,\n            arrLen = arr.length;\n        for (i = 0; i < arrLen; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty: false,\n            unusedTokens: [],\n            unusedInput: [],\n            overflow: -2,\n            charsLeftOver: 0,\n            nullInput: false,\n            invalidEra: null,\n            invalidMonth: null,\n            invalidFormat: false,\n            userInvalidated: false,\n            iso: false,\n            parsedDateParts: [],\n            era: null,\n            meridiem: null,\n            rfc2822: false,\n            weekdayMismatch: false,\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this),\n                len = t.length >>> 0,\n                i;\n\n            for (i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        var flags = null,\n            parsedParts = false,\n            isNowValid = m._d && !isNaN(m._d.getTime());\n        if (isNowValid) {\n            flags = getParsingFlags(m);\n            parsedParts = some.call(flags.parsedDateParts, function (i) {\n                return i != null;\n            });\n            isNowValid =\n                flags.overflow < 0 &&\n                !flags.empty &&\n                !flags.invalidEra &&\n                !flags.invalidMonth &&\n                !flags.invalidWeekday &&\n                !flags.weekdayMismatch &&\n                !flags.nullInput &&\n                !flags.invalidFormat &&\n                !flags.userInvalidated &&\n                (!flags.meridiem || (flags.meridiem && parsedParts));\n            if (m._strict) {\n                isNowValid =\n                    isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n        }\n        if (Object.isFrozen == null || !Object.isFrozen(m)) {\n            m._isValid = isNowValid;\n        } else {\n            return isNowValid;\n        }\n        return m._isValid;\n    }\n\n    function createInvalid(flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        } else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = (hooks.momentProperties = []),\n        updateInProgress = false;\n\n    function copyConfig(to, from) {\n        var i,\n            prop,\n            val,\n            momentPropertiesLen = momentProperties.length;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentPropertiesLen > 0) {\n            for (i = 0; i < momentPropertiesLen; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment(obj) {\n        return (\n            obj instanceof Moment || (obj != null && obj._isAMomentObject != null)\n        );\n    }\n\n    function warn(msg) {\n        if (\n            hooks.suppressDeprecationWarnings === false &&\n            typeof console !== 'undefined' &&\n            console.warn\n        ) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [],\n                    arg,\n                    i,\n                    key,\n                    argLen = arguments.length;\n                for (i = 0; i < argLen; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (key in arguments[0]) {\n                            if (hasOwnProp(arguments[0], key)) {\n                                arg += key + ': ' + arguments[0][key] + ', ';\n                            }\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(\n                    msg +\n                        '\\nArguments: ' +\n                        Array.prototype.slice.call(args).join('') +\n                        '\\n' +\n                        new Error().stack\n                );\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return (\n            (typeof Function !== 'undefined' && input instanceof Function) ||\n            Object.prototype.toString.call(input) === '[object Function]'\n        );\n    }\n\n    function set(config) {\n        var prop, i;\n        for (i in config) {\n            if (hasOwnProp(config, i)) {\n                prop = config[i];\n                if (isFunction(prop)) {\n                    this[i] = prop;\n                } else {\n                    this['_' + i] = prop;\n                }\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' +\n                /\\d{1,2}/.source\n        );\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig),\n            prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (\n                hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])\n            ) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i,\n                res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay: '[Today at] LT',\n        nextDay: '[Tomorrow at] LT',\n        nextWeek: 'dddd [at] LT',\n        lastDay: '[Yesterday at] LT',\n        lastWeek: '[Last] dddd [at] LT',\n        sameElse: 'L',\n    };\n\n    function calendar(key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (\n            (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) +\n            absNumber\n        );\n    }\n\n    var formattingTokens =\n            /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,\n        localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,\n        formatFunctions = {},\n        formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken(token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(\n                    func.apply(this, arguments),\n                    token\n                );\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens),\n            i,\n            length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '',\n                i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i])\n                    ? array[i].call(mom, format)\n                    : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] =\n            formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(\n                localFormattingTokens,\n                replaceLongDateFormatTokens\n            );\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var defaultLongDateFormat = {\n        LTS: 'h:mm:ss A',\n        LT: 'h:mm A',\n        L: 'MM/DD/YYYY',\n        LL: 'MMMM D, YYYY',\n        LLL: 'MMMM D, YYYY h:mm A',\n        LLLL: 'dddd, MMMM D, YYYY h:mm A',\n    };\n\n    function longDateFormat(key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper\n            .match(formattingTokens)\n            .map(function (tok) {\n                if (\n                    tok === 'MMMM' ||\n                    tok === 'MM' ||\n                    tok === 'DD' ||\n                    tok === 'dddd'\n                ) {\n                    return tok.slice(1);\n                }\n                return tok;\n            })\n            .join('');\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate() {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d',\n        defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal(number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future: 'in %s',\n        past: '%s ago',\n        s: 'a few seconds',\n        ss: '%d seconds',\n        m: 'a minute',\n        mm: '%d minutes',\n        h: 'an hour',\n        hh: '%d hours',\n        d: 'a day',\n        dd: '%d days',\n        w: 'a week',\n        ww: '%d weeks',\n        M: 'a month',\n        MM: '%d months',\n        y: 'a year',\n        yy: '%d years',\n    };\n\n    function relativeTime(number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return isFunction(output)\n            ? output(number, withoutSuffix, string, isFuture)\n            : output.replace(/%d/i, number);\n    }\n\n    function pastFuture(diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {\n        D: 'date',\n        dates: 'date',\n        date: 'date',\n        d: 'day',\n        days: 'day',\n        day: 'day',\n        e: 'weekday',\n        weekdays: 'weekday',\n        weekday: 'weekday',\n        E: 'isoWeekday',\n        isoweekdays: 'isoWeekday',\n        isoweekday: 'isoWeekday',\n        DDD: 'dayOfYear',\n        dayofyears: 'dayOfYear',\n        dayofyear: 'dayOfYear',\n        h: 'hour',\n        hours: 'hour',\n        hour: 'hour',\n        ms: 'millisecond',\n        milliseconds: 'millisecond',\n        millisecond: 'millisecond',\n        m: 'minute',\n        minutes: 'minute',\n        minute: 'minute',\n        M: 'month',\n        months: 'month',\n        month: 'month',\n        Q: 'quarter',\n        quarters: 'quarter',\n        quarter: 'quarter',\n        s: 'second',\n        seconds: 'second',\n        second: 'second',\n        gg: 'weekYear',\n        weekyears: 'weekYear',\n        weekyear: 'weekYear',\n        GG: 'isoWeekYear',\n        isoweekyears: 'isoWeekYear',\n        isoweekyear: 'isoWeekYear',\n        w: 'week',\n        weeks: 'week',\n        week: 'week',\n        W: 'isoWeek',\n        isoweeks: 'isoWeek',\n        isoweek: 'isoWeek',\n        y: 'year',\n        years: 'year',\n        year: 'year',\n    };\n\n    function normalizeUnits(units) {\n        return typeof units === 'string'\n            ? aliases[units] || aliases[units.toLowerCase()]\n            : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {\n        date: 9,\n        day: 11,\n        weekday: 11,\n        isoWeekday: 11,\n        dayOfYear: 4,\n        hour: 13,\n        millisecond: 16,\n        minute: 14,\n        month: 8,\n        quarter: 7,\n        second: 15,\n        weekYear: 1,\n        isoWeekYear: 1,\n        week: 5,\n        isoWeek: 5,\n        year: 1,\n    };\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [],\n            u;\n        for (u in unitsObj) {\n            if (hasOwnProp(unitsObj, u)) {\n                units.push({ unit: u, priority: priorities[u] });\n            }\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    var match1 = /\\d/, //       0 - 9\n        match2 = /\\d\\d/, //      00 - 99\n        match3 = /\\d{3}/, //     000 - 999\n        match4 = /\\d{4}/, //    0000 - 9999\n        match6 = /[+-]?\\d{6}/, // -999999 - 999999\n        match1to2 = /\\d\\d?/, //       0 - 99\n        match3to4 = /\\d\\d\\d\\d?/, //     999 - 9999\n        match5to6 = /\\d\\d\\d\\d\\d\\d?/, //   99999 - 999999\n        match1to3 = /\\d{1,3}/, //       0 - 999\n        match1to4 = /\\d{1,4}/, //       0 - 9999\n        match1to6 = /[+-]?\\d{1,6}/, // -999999 - 999999\n        matchUnsigned = /\\d+/, //       0 - inf\n        matchSigned = /[+-]?\\d+/, //    -inf - inf\n        matchOffset = /Z|[+-]\\d\\d:?\\d\\d/gi, // +00:00 -00:00 +0000 -0000 or Z\n        matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi, // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n        matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/, // 123456789 123456789.123\n        // any word (or two) characters or numbers including two/three word month in arabic.\n        // includes scottish gaelic two word and hyphenated months\n        matchWord =\n            /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,\n        match1to2NoLeadingZero = /^[1-9]\\d?/, //         1-99\n        match1to2HasZero = /^([1-9]\\d|\\d)/, //           0-99\n        regexes;\n\n    regexes = {};\n\n    function addRegexToken(token, regex, strictRegex) {\n        regexes[token] = isFunction(regex)\n            ? regex\n            : function (isStrict, localeData) {\n                  return isStrict && strictRegex ? strictRegex : regex;\n              };\n    }\n\n    function getParseRegexForToken(token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(\n            s\n                .replace('\\\\', '')\n                .replace(\n                    /\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,\n                    function (matched, p1, p2, p3, p4) {\n                        return p1 || p2 || p3 || p4;\n                    }\n                )\n        );\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    function absFloor(number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    var tokens = {};\n\n    function addParseToken(token, callback) {\n        var i,\n            func = callback,\n            tokenLen;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        tokenLen = token.length;\n        for (i = 0; i < tokenLen; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken(token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    var YEAR = 0,\n        MONTH = 1,\n        DATE = 2,\n        HOUR = 3,\n        MINUTE = 4,\n        SECOND = 5,\n        MILLISECOND = 6,\n        WEEK = 7,\n        WEEKDAY = 8;\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? zeroFill(y, 4) : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY', 4], 0, 'year');\n    addFormatToken(0, ['YYYYY', 5], 0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // PARSING\n\n    addRegexToken('Y', matchSigned);\n    addRegexToken('YY', match1to2, match2);\n    addRegexToken('YYYY', match1to4, match4);\n    addRegexToken('YYYYY', match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] =\n            input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear() {\n        return isLeapYear(this.year());\n    }\n\n    function makeGetSet(unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get(mom, unit) {\n        if (!mom.isValid()) {\n            return NaN;\n        }\n\n        var d = mom._d,\n            isUTC = mom._isUTC;\n\n        switch (unit) {\n            case 'Milliseconds':\n                return isUTC ? d.getUTCMilliseconds() : d.getMilliseconds();\n            case 'Seconds':\n                return isUTC ? d.getUTCSeconds() : d.getSeconds();\n            case 'Minutes':\n                return isUTC ? d.getUTCMinutes() : d.getMinutes();\n            case 'Hours':\n                return isUTC ? d.getUTCHours() : d.getHours();\n            case 'Date':\n                return isUTC ? d.getUTCDate() : d.getDate();\n            case 'Day':\n                return isUTC ? d.getUTCDay() : d.getDay();\n            case 'Month':\n                return isUTC ? d.getUTCMonth() : d.getMonth();\n            case 'FullYear':\n                return isUTC ? d.getUTCFullYear() : d.getFullYear();\n            default:\n                return NaN; // Just in case\n        }\n    }\n\n    function set$1(mom, unit, value) {\n        var d, isUTC, year, month, date;\n\n        if (!mom.isValid() || isNaN(value)) {\n            return;\n        }\n\n        d = mom._d;\n        isUTC = mom._isUTC;\n\n        switch (unit) {\n            case 'Milliseconds':\n                return void (isUTC\n                    ? d.setUTCMilliseconds(value)\n                    : d.setMilliseconds(value));\n            case 'Seconds':\n                return void (isUTC ? d.setUTCSeconds(value) : d.setSeconds(value));\n            case 'Minutes':\n                return void (isUTC ? d.setUTCMinutes(value) : d.setMinutes(value));\n            case 'Hours':\n                return void (isUTC ? d.setUTCHours(value) : d.setHours(value));\n            case 'Date':\n                return void (isUTC ? d.setUTCDate(value) : d.setDate(value));\n            // case 'Day': // Not real\n            //    return void (isUTC ? d.setUTCDay(value) : d.setDay(value));\n            // case 'Month': // Not used because we need to pass two variables\n            //     return void (isUTC ? d.setUTCMonth(value) : d.setMonth(value));\n            case 'FullYear':\n                break; // See below ...\n            default:\n                return; // Just in case\n        }\n\n        year = value;\n        month = mom.month();\n        date = mom.date();\n        date = date === 29 && month === 1 && !isLeapYear(year) ? 28 : date;\n        void (isUTC\n            ? d.setUTCFullYear(year, month, date)\n            : d.setFullYear(year, month, date));\n    }\n\n    // MOMENTS\n\n    function stringGet(units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n    function stringSet(units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units),\n                i,\n                prioritizedLen = prioritized.length;\n            for (i = 0; i < prioritizedLen; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1\n            ? isLeapYear(year)\n                ? 29\n                : 28\n            : 31 - ((modMonth % 7) % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // PARSING\n\n    addRegexToken('M', match1to2, match1to2NoLeadingZero);\n    addRegexToken('MM', match1to2, match2);\n    addRegexToken('MMM', function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var defaultLocaleMonths =\n            'January_February_March_April_May_June_July_August_September_October_November_December'.split(\n                '_'\n            ),\n        defaultLocaleMonthsShort =\n            'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,\n        defaultMonthsShortRegex = matchWord,\n        defaultMonthsRegex = matchWord;\n\n    function localeMonths(m, format) {\n        if (!m) {\n            return isArray(this._months)\n                ? this._months\n                : this._months['standalone'];\n        }\n        return isArray(this._months)\n            ? this._months[m.month()]\n            : this._months[\n                  (this._months.isFormat || MONTHS_IN_FORMAT).test(format)\n                      ? 'format'\n                      : 'standalone'\n              ][m.month()];\n    }\n\n    function localeMonthsShort(m, format) {\n        if (!m) {\n            return isArray(this._monthsShort)\n                ? this._monthsShort\n                : this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort)\n            ? this._monthsShort[m.month()]\n            : this._monthsShort[\n                  MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'\n              ][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse(monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp(\n                    '^' + this.months(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n                this._shortMonthsParse[i] = new RegExp(\n                    '^' + this.monthsShort(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex =\n                    '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'MMMM' &&\n                this._longMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'MMM' &&\n                this._shortMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth(mom, value) {\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        var month = value,\n            date = mom.date();\n\n        date = date < 29 ? date : Math.min(date, daysInMonth(mom.year(), month));\n        void (mom._isUTC\n            ? mom._d.setUTCMonth(month, date)\n            : mom._d.setMonth(month, date));\n        return mom;\n    }\n\n    function getSetMonth(value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth() {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    function monthsShortRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict\n                ? this._monthsShortStrictRegex\n                : this._monthsShortRegex;\n        }\n    }\n\n    function monthsRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict\n                ? this._monthsStrictRegex\n                : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom,\n            shortP,\n            longP;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortP = regexEscape(this.monthsShort(mom, ''));\n            longP = regexEscape(this.months(mom, ''));\n            shortPieces.push(shortP);\n            longPieces.push(longP);\n            mixedPieces.push(longP);\n            mixedPieces.push(shortP);\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._monthsShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    function createDate(y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate(y) {\n        var date, args;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear,\n            resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear,\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek,\n            resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear,\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // PARSING\n\n    addRegexToken('w', match1to2, match1to2NoLeadingZero);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W', match1to2, match1to2NoLeadingZero);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(\n        ['w', 'ww', 'W', 'WW'],\n        function (input, week, config, token) {\n            week[token.substr(0, 1)] = toInt(input);\n        }\n    );\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek(mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow: 0, // Sunday is the first day of the week.\n        doy: 6, // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek() {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear() {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek(input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek(input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // PARSING\n\n    addRegexToken('d', match1to2);\n    addRegexToken('e', match1to2);\n    addRegexToken('E', match1to2);\n    addRegexToken('dd', function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd', function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd', function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays(ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays =\n            'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        defaultWeekdaysRegex = matchWord,\n        defaultWeekdaysShortRegex = matchWord,\n        defaultWeekdaysMinRegex = matchWord;\n\n    function localeWeekdays(m, format) {\n        var weekdays = isArray(this._weekdays)\n            ? this._weekdays\n            : this._weekdays[\n                  m && m !== true && this._weekdays.isFormat.test(format)\n                      ? 'format'\n                      : 'standalone'\n              ];\n        return m === true\n            ? shiftWeekdays(weekdays, this._week.dow)\n            : m\n              ? weekdays[m.day()]\n              : weekdays;\n    }\n\n    function localeWeekdaysShort(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : m\n              ? this._weekdaysShort[m.day()]\n              : this._weekdaysShort;\n    }\n\n    function localeWeekdaysMin(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : m\n              ? this._weekdaysMin[m.day()]\n              : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse(weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._shortWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._minWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n            }\n            if (!this._weekdaysParse[i]) {\n                regex =\n                    '^' +\n                    this.weekdays(mom, '') +\n                    '|^' +\n                    this.weekdaysShort(mom, '') +\n                    '|^' +\n                    this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'dddd' &&\n                this._fullWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'ddd' &&\n                this._shortWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'dd' &&\n                this._minWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        var day = get(this, 'Day');\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    function weekdaysRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict\n                ? this._weekdaysStrictRegex\n                : this._weekdaysRegex;\n        }\n    }\n\n    function weekdaysShortRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict\n                ? this._weekdaysShortStrictRegex\n                : this._weekdaysShortRegex;\n        }\n    }\n\n    function weekdaysMinRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict\n                ? this._weekdaysMinStrictRegex\n                : this._weekdaysMinRegex;\n        }\n    }\n\n    function computeWeekdaysParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [],\n            shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom,\n            minp,\n            shortp,\n            longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = regexEscape(this.weekdaysMin(mom, ''));\n            shortp = regexEscape(this.weekdaysShort(mom, ''));\n            longp = regexEscape(this.weekdays(mom, ''));\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysMinStrictRegex = new RegExp(\n            '^(' + minPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return (\n            '' +\n            hFormat.apply(this) +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return (\n            '' +\n            this.hours() +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    function meridiem(token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(\n                this.hours(),\n                this.minutes(),\n                lowercase\n            );\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // PARSING\n\n    function matchMeridiem(isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a', matchMeridiem);\n    addRegexToken('A', matchMeridiem);\n    addRegexToken('H', match1to2, match1to2HasZero);\n    addRegexToken('h', match1to2, match1to2NoLeadingZero);\n    addRegexToken('k', match1to2, match1to2NoLeadingZero);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM(input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return (input + '').toLowerCase().charAt(0) === 'p';\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i,\n        // Setting the hour should keep the time, because the user explicitly\n        // specified which hour they want. So trying to maintain the same hour (in\n        // a new timezone) makes sense. Adding/subtracting hours does not follow\n        // this rule.\n        getSetHour = makeGetSet('Hours', true);\n\n    function localeMeridiem(hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse,\n    };\n\n    // internal storage for locale config files\n    var locales = {},\n        localeFamilies = {},\n        globalLocale;\n\n    function commonPrefix(arr1, arr2) {\n        var i,\n            minl = Math.min(arr1.length, arr2.length);\n        for (i = 0; i < minl; i += 1) {\n            if (arr1[i] !== arr2[i]) {\n                return i;\n            }\n        }\n        return minl;\n    }\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0,\n            j,\n            next,\n            locale,\n            split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (\n                    next &&\n                    next.length >= j &&\n                    commonPrefix(split, next) >= j - 1\n                ) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function isLocaleNameSane(name) {\n        // Prevent names that look like filesystem paths, i.e contain '/' or '\\'\n        // Ensure name is available and function returns boolean\n        return !!(name && name.match('^[^/\\\\\\\\]*$'));\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null,\n            aliasedRequire;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (\n            locales[name] === undefined &&\n            \"object\" !== 'undefined' &&\n            module &&\n            module.exports &&\n            isLocaleNameSane(name)\n        ) {\n            try {\n                oldLocale = globalLocale._abbr;\n                aliasedRequire = undefined;\n                Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'undefined'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {\n                // mark as not found to avoid repeating expensive file require call causing high CPU\n                // when trying to find en-US, en_US, en-us for every format call\n                locales[name] = null; // null means not found\n            }\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale(key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            } else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            } else {\n                if (typeof console !== 'undefined' && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn(\n                        'Locale ' + key + ' not found. Did you forget to load it?'\n                    );\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale(name, config) {\n        if (config !== null) {\n            var locale,\n                parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple(\n                    'defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'\n                );\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config,\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale,\n                tmpLocale,\n                parentConfig = baseConfig;\n\n            if (locales[name] != null && locales[name].parentLocale != null) {\n                // Update existing child locale in-place to avoid memory-leaks\n                locales[name].set(mergeConfigs(locales[name]._config, config));\n            } else {\n                // MERGE\n                tmpLocale = loadLocale(name);\n                if (tmpLocale != null) {\n                    parentConfig = tmpLocale._config;\n                }\n                config = mergeConfigs(parentConfig, config);\n                if (tmpLocale == null) {\n                    // updateLocale is called for creating a new locale\n                    // Set abbr so it will have a name (getters return\n                    // undefined otherwise).\n                    config.abbr = name;\n                }\n                locale = new Locale(config);\n                locale.parentLocale = locales[name];\n                locales[name] = locale;\n            }\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                    if (name === getSetGlobalLocale()) {\n                        getSetGlobalLocale(name);\n                    }\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale(key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow(m) {\n        var overflow,\n            a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH] < 0 || a[MONTH] > 11\n                    ? MONTH\n                    : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH])\n                      ? DATE\n                      : a[HOUR] < 0 ||\n                          a[HOUR] > 24 ||\n                          (a[HOUR] === 24 &&\n                              (a[MINUTE] !== 0 ||\n                                  a[SECOND] !== 0 ||\n                                  a[MILLISECOND] !== 0))\n                        ? HOUR\n                        : a[MINUTE] < 0 || a[MINUTE] > 59\n                          ? MINUTE\n                          : a[SECOND] < 0 || a[SECOND] > 59\n                            ? SECOND\n                            : a[MILLISECOND] < 0 || a[MILLISECOND] > 999\n                              ? MILLISECOND\n                              : -1;\n\n            if (\n                getParsingFlags(m)._overflowDayOfYear &&\n                (overflow < YEAR || overflow > DATE)\n            ) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex =\n            /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        basicIsoRegex =\n            /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/,\n        isoDates = [\n            ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n            ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n            ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n            ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n            ['YYYY-DDD', /\\d{4}-\\d{3}/],\n            ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n            ['YYYYYYMMDD', /[+-]\\d{10}/],\n            ['YYYYMMDD', /\\d{8}/],\n            ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n            ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n            ['YYYYDDD', /\\d{7}/],\n            ['YYYYMM', /\\d{6}/, false],\n            ['YYYY', /\\d{4}/, false],\n        ],\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n            ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n            ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /\\d\\d:\\d\\d/],\n            ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n            ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n            ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n            ['HHmm', /\\d\\d\\d\\d/],\n            ['HH', /\\d\\d/],\n        ],\n        aspNetJsonRegex = /^\\/?Date\\((-?\\d+)/i,\n        // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n        rfc2822 =\n            /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,\n        obsOffsets = {\n            UT: 0,\n            GMT: 0,\n            EDT: -4 * 60,\n            EST: -5 * 60,\n            CDT: -5 * 60,\n            CST: -6 * 60,\n            MDT: -6 * 60,\n            MST: -7 * 60,\n            PDT: -7 * 60,\n            PST: -8 * 60,\n        };\n\n    // date from iso format\n    function configFromISO(config) {\n        var i,\n            l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime,\n            dateFormat,\n            timeFormat,\n            tzFormat,\n            isoDatesLen = isoDates.length,\n            isoTimesLen = isoTimes.length;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n            for (i = 0, l = isoDatesLen; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimesLen; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    function extractFromRFC2822Strings(\n        yearStr,\n        monthStr,\n        dayStr,\n        hourStr,\n        minuteStr,\n        secondStr\n    ) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10),\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s\n            .replace(/\\([^()]*\\)|[\\n\\t]/g, ' ')\n            .replace(/(\\s\\s+)/g, ' ')\n            .replace(/^\\s\\s*/, '')\n            .replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an independent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(\n                    parsedInput[0],\n                    parsedInput[1],\n                    parsedInput[2]\n                ).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10),\n                m = hm % 100,\n                h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i)),\n            parsedArray;\n        if (match) {\n            parsedArray = extractFromRFC2822Strings(\n                match[4],\n                match[3],\n                match[2],\n                match[5],\n                match[6],\n                match[7]\n            );\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from 1) ASP.NET, 2) ISO, 3) RFC 2822 formats, or 4) optional fallback if parsing isn't strict\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        if (config._strict) {\n            config._isValid = false;\n        } else {\n            // Final attempt, use Input Fallback\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n            'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n            'discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [\n                nowValue.getUTCFullYear(),\n                nowValue.getUTCMonth(),\n                nowValue.getUTCDate(),\n            ];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray(config) {\n        var i,\n            date,\n            input = [],\n            currentDate,\n            expectedWeekday,\n            yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (\n                config._dayOfYear > daysInYear(yearToUse) ||\n                config._dayOfYear === 0\n            ) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] =\n                config._a[i] == null ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (\n            config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0\n        ) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(\n            null,\n            input\n        );\n        expectedWeekday = config._useUTC\n            ? config._d.getUTCDay()\n            : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (\n            config._w &&\n            typeof config._w.d !== 'undefined' &&\n            config._w.d !== expectedWeekday\n        ) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(\n                w.GG,\n                config._a[YEAR],\n                weekOfYear(createLocal(), 1, 4).year\n            );\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i,\n            parsedInput,\n            tokens,\n            token,\n            skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0,\n            era,\n            tokenLen;\n\n        tokens =\n            expandFormat(config._f, config._locale).match(formattingTokens) || [];\n        tokenLen = tokens.length;\n        for (i = 0; i < tokenLen; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) ||\n                [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(\n                    string.indexOf(parsedInput) + parsedInput.length\n                );\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                } else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            } else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver =\n            stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (\n            config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0\n        ) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(\n            config._locale,\n            config._a[HOUR],\n            config._meridiem\n        );\n\n        // handle era\n        era = getParsingFlags(config).era;\n        if (era !== null) {\n            config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);\n        }\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n    function meridiemFixWrap(locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n            scoreToBeat,\n            i,\n            currentScore,\n            validFormatFound,\n            bestFormatIsValid = false,\n            configfLen = config._f.length;\n\n        if (configfLen === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < configfLen; i++) {\n            currentScore = 0;\n            validFormatFound = false;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (isValid(tempConfig)) {\n                validFormatFound = true;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (!bestFormatIsValid) {\n                if (\n                    scoreToBeat == null ||\n                    currentScore < scoreToBeat ||\n                    validFormatFound\n                ) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                    if (validFormatFound) {\n                        bestFormatIsValid = true;\n                    }\n                }\n            } else {\n                if (currentScore < scoreToBeat) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                }\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i),\n            dayOrDate = i.day === undefined ? i.date : i.day;\n        config._a = map(\n            [i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],\n            function (obj) {\n                return obj && parseInt(obj, 10);\n            }\n        );\n\n        configFromArray(config);\n    }\n\n    function createFromConfig(config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig(config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({ nullInput: true });\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        } else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC(input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (format === true || format === false) {\n            strict = format;\n            format = undefined;\n        }\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if (\n            (isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)\n        ) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n            'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other < this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        ),\n        prototypeMax = deprecate(\n            'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other > this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +new Date();\n    };\n\n    var ordering = [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second',\n        'millisecond',\n    ];\n\n    function isDurationValid(m) {\n        var key,\n            unitHasDecimal = false,\n            i,\n            orderLen = ordering.length;\n        for (key in m) {\n            if (\n                hasOwnProp(m, key) &&\n                !(\n                    indexOf.call(ordering, key) !== -1 &&\n                    (m[key] == null || !isNaN(m[key]))\n                )\n            ) {\n                return false;\n            }\n        }\n\n        for (i = 0; i < orderLen; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration(duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds =\n            +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days + weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months + quarters * 3 + years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration(obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if (\n                (dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))\n            ) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    // FORMATTING\n\n    function offset(token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset(),\n                sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return (\n                sign +\n                zeroFill(~~(offset / 60), 2) +\n                separator +\n                zeroFill(~~offset % 60, 2)\n            );\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z', matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher),\n            chunk,\n            parts,\n            minutes;\n\n        if (matches === null) {\n            return null;\n        }\n\n        chunk = matches[matches.length - 1] || [];\n        parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff =\n                (isMoment(input) || isDate(input)\n                    ? input.valueOf()\n                    : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset(m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset());\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset(input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(\n                        this,\n                        createDuration(input - offset, 'm'),\n                        1,\n                        false\n                    );\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone(input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC(keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal(keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset() {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            } else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset(input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime() {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted() {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {},\n            other;\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted =\n                this.isValid() && compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal() {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset() {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc() {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,\n        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n        // and further modified to allow for strings containing both week and day\n        isoRegex =\n            /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration(input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms: input._milliseconds,\n                d: input._days,\n                M: input._months,\n            };\n        } else if (isNumber(input) || !isNaN(+input)) {\n            duration = {};\n            if (key) {\n                duration[key] = +input;\n            } else {\n                duration.milliseconds = +input;\n            }\n        } else if ((match = aspNetRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: 0,\n                d: toInt(match[DATE]) * sign,\n                h: toInt(match[HOUR]) * sign,\n                m: toInt(match[MINUTE]) * sign,\n                s: toInt(match[SECOND]) * sign,\n                ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign, // the millisecond decimal point is included in the match\n            };\n        } else if ((match = isoRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: parseIso(match[2], sign),\n                M: parseIso(match[3], sign),\n                w: parseIso(match[4], sign),\n                d: parseIso(match[5], sign),\n                h: parseIso(match[6], sign),\n                m: parseIso(match[7], sign),\n                s: parseIso(match[8], sign),\n            };\n        } else if (duration == null) {\n            // checks for null or undefined\n            duration = {};\n        } else if (\n            typeof duration === 'object' &&\n            ('from' in duration || 'to' in duration)\n        ) {\n            diffRes = momentsDifference(\n                createLocal(duration.from),\n                createLocal(duration.to)\n            );\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        if (isDuration(input) && hasOwnProp(input, '_isValid')) {\n            ret._isValid = input._isValid;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso(inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months =\n            other.month() - base.month() + (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +base.clone().add(res.months, 'M');\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return { milliseconds: 0, months: 0 };\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(\n                    name,\n                    'moment().' +\n                        name +\n                        '(period, number) is deprecated. Please use moment().' +\n                        name +\n                        '(number, period). ' +\n                        'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'\n                );\n                tmp = val;\n                val = period;\n                period = tmp;\n            }\n\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract(mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add = createAdder(1, 'add'),\n        subtract = createAdder(-1, 'subtract');\n\n    function isString(input) {\n        return typeof input === 'string' || input instanceof String;\n    }\n\n    // type MomentInput = Moment | Date | string | number | (number | string)[] | MomentInputObject | void; // null | undefined\n    function isMomentInput(input) {\n        return (\n            isMoment(input) ||\n            isDate(input) ||\n            isString(input) ||\n            isNumber(input) ||\n            isNumberOrStringArray(input) ||\n            isMomentInputObject(input) ||\n            input === null ||\n            input === undefined\n        );\n    }\n\n    function isMomentInputObject(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'years',\n                'year',\n                'y',\n                'months',\n                'month',\n                'M',\n                'days',\n                'day',\n                'd',\n                'dates',\n                'date',\n                'D',\n                'hours',\n                'hour',\n                'h',\n                'minutes',\n                'minute',\n                'm',\n                'seconds',\n                'second',\n                's',\n                'milliseconds',\n                'millisecond',\n                'ms',\n            ],\n            i,\n            property,\n            propertyLen = properties.length;\n\n        for (i = 0; i < propertyLen; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function isNumberOrStringArray(input) {\n        var arrayTest = isArray(input),\n            dataTypeTest = false;\n        if (arrayTest) {\n            dataTypeTest =\n                input.filter(function (item) {\n                    return !isNumber(item) && isString(input);\n                }).length === 0;\n        }\n        return arrayTest && dataTypeTest;\n    }\n\n    function isCalendarSpec(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'sameDay',\n                'nextDay',\n                'lastDay',\n                'nextWeek',\n                'lastWeek',\n                'sameElse',\n            ],\n            i,\n            property;\n\n        for (i = 0; i < properties.length; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6\n            ? 'sameElse'\n            : diff < -1\n              ? 'lastWeek'\n              : diff < 0\n                ? 'lastDay'\n                : diff < 1\n                  ? 'sameDay'\n                  : diff < 2\n                    ? 'nextDay'\n                    : diff < 7\n                      ? 'nextWeek'\n                      : 'sameElse';\n    }\n\n    function calendar$1(time, formats) {\n        // Support for single parameter, formats only overload to the calendar function\n        if (arguments.length === 1) {\n            if (!arguments[0]) {\n                time = undefined;\n                formats = undefined;\n            } else if (isMomentInput(arguments[0])) {\n                time = arguments[0];\n                formats = undefined;\n            } else if (isCalendarSpec(arguments[0])) {\n                formats = arguments[0];\n                time = undefined;\n            }\n        }\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse',\n            output =\n                formats &&\n                (isFunction(formats[format])\n                    ? formats[format].call(this, now)\n                    : formats[format]);\n\n        return this.format(\n            output || this.localeData().calendar(format, this, createLocal(now))\n        );\n    }\n\n    function clone() {\n        return new Moment(this);\n    }\n\n    function isAfter(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween(from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (\n            (inclusivity[0] === '('\n                ? this.isAfter(localFrom, units)\n                : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')'\n                ? this.isBefore(localTo, units)\n                : !this.isAfter(localTo, units))\n        );\n    }\n\n    function isSame(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return (\n                this.clone().startOf(units).valueOf() <= inputMs &&\n                inputMs <= this.clone().endOf(units).valueOf()\n            );\n        }\n    }\n\n    function isSameOrAfter(input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore(input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff(input, units, asFloat) {\n        var that, zoneDelta, output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year':\n                output = monthDiff(this, that) / 12;\n                break;\n            case 'month':\n                output = monthDiff(this, that);\n                break;\n            case 'quarter':\n                output = monthDiff(this, that) / 3;\n                break;\n            case 'second':\n                output = (this - that) / 1e3;\n                break; // 1000\n            case 'minute':\n                output = (this - that) / 6e4;\n                break; // 1000 * 60\n            case 'hour':\n                output = (this - that) / 36e5;\n                break; // 1000 * 60 * 60\n            case 'day':\n                output = (this - that - zoneDelta) / 864e5;\n                break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week':\n                output = (this - that - zoneDelta) / 6048e5;\n                break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default:\n                output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff(a, b) {\n        if (a.date() < b.date()) {\n            // end-of-month calculations work correct when the start month has more\n            // days than the end month.\n            return -monthDiff(b, a);\n        }\n        // difference in months\n        var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2,\n            adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString() {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true,\n            m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(\n                m,\n                utc\n                    ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'\n                    : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'\n            );\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000)\n                    .toISOString()\n                    .replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(\n            m,\n            utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ'\n        );\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect() {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment',\n            zone = '',\n            prefix,\n            year,\n            datetime,\n            suffix;\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        prefix = '[' + func + '(\"]';\n        year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';\n        datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format(inputString) {\n        if (!inputString) {\n            inputString = this.isUtc()\n                ? hooks.defaultFormatUtc\n                : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ to: this, from: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow(withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ from: this, to: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow(withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale(key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData() {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000,\n        MS_PER_MINUTE = 60 * MS_PER_SECOND,\n        MS_PER_HOUR = 60 * MS_PER_MINUTE,\n        MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return ((dividend % divisor) + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(\n                    this.year(),\n                    this.month() - (this.month() % 3),\n                    1\n                );\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - this.weekday()\n                );\n                break;\n            case 'isoWeek':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - (this.isoWeekday() - 1)\n                );\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(\n                    time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                    MS_PER_HOUR\n                );\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month() - (this.month() % 3) + 3,\n                        1\n                    ) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - this.weekday() + 7\n                    ) - 1;\n                break;\n            case 'isoWeek':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - (this.isoWeekday() - 1) + 7\n                    ) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time +=\n                    MS_PER_HOUR -\n                    mod$1(\n                        time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                        MS_PER_HOUR\n                    ) -\n                    1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf() {\n        return this._d.valueOf() - (this._offset || 0) * 60000;\n    }\n\n    function unix() {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate() {\n        return new Date(this.valueOf());\n    }\n\n    function toArray() {\n        var m = this;\n        return [\n            m.year(),\n            m.month(),\n            m.date(),\n            m.hour(),\n            m.minute(),\n            m.second(),\n            m.millisecond(),\n        ];\n    }\n\n    function toObject() {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds(),\n        };\n    }\n\n    function toJSON() {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2() {\n        return isValid(this);\n    }\n\n    function parsingFlags() {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt() {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict,\n        };\n    }\n\n    addFormatToken('N', 0, 0, 'eraAbbr');\n    addFormatToken('NN', 0, 0, 'eraAbbr');\n    addFormatToken('NNN', 0, 0, 'eraAbbr');\n    addFormatToken('NNNN', 0, 0, 'eraName');\n    addFormatToken('NNNNN', 0, 0, 'eraNarrow');\n\n    addFormatToken('y', ['y', 1], 'yo', 'eraYear');\n    addFormatToken('y', ['yy', 2], 0, 'eraYear');\n    addFormatToken('y', ['yyy', 3], 0, 'eraYear');\n    addFormatToken('y', ['yyyy', 4], 0, 'eraYear');\n\n    addRegexToken('N', matchEraAbbr);\n    addRegexToken('NN', matchEraAbbr);\n    addRegexToken('NNN', matchEraAbbr);\n    addRegexToken('NNNN', matchEraName);\n    addRegexToken('NNNNN', matchEraNarrow);\n\n    addParseToken(\n        ['N', 'NN', 'NNN', 'NNNN', 'NNNNN'],\n        function (input, array, config, token) {\n            var era = config._locale.erasParse(input, token, config._strict);\n            if (era) {\n                getParsingFlags(config).era = era;\n            } else {\n                getParsingFlags(config).invalidEra = input;\n            }\n        }\n    );\n\n    addRegexToken('y', matchUnsigned);\n    addRegexToken('yy', matchUnsigned);\n    addRegexToken('yyy', matchUnsigned);\n    addRegexToken('yyyy', matchUnsigned);\n    addRegexToken('yo', matchEraYearOrdinal);\n\n    addParseToken(['y', 'yy', 'yyy', 'yyyy'], YEAR);\n    addParseToken(['yo'], function (input, array, config, token) {\n        var match;\n        if (config._locale._eraYearOrdinalRegex) {\n            match = input.match(config._locale._eraYearOrdinalRegex);\n        }\n\n        if (config._locale.eraYearOrdinalParse) {\n            array[YEAR] = config._locale.eraYearOrdinalParse(input, match);\n        } else {\n            array[YEAR] = parseInt(input, 10);\n        }\n    });\n\n    function localeEras(m, format) {\n        var i,\n            l,\n            date,\n            eras = this._eras || getLocale('en')._eras;\n        for (i = 0, l = eras.length; i < l; ++i) {\n            switch (typeof eras[i].since) {\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].since).startOf('day');\n                    eras[i].since = date.valueOf();\n                    break;\n            }\n\n            switch (typeof eras[i].until) {\n                case 'undefined':\n                    eras[i].until = +Infinity;\n                    break;\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].until).startOf('day').valueOf();\n                    eras[i].until = date.valueOf();\n                    break;\n            }\n        }\n        return eras;\n    }\n\n    function localeErasParse(eraName, format, strict) {\n        var i,\n            l,\n            eras = this.eras(),\n            name,\n            abbr,\n            narrow;\n        eraName = eraName.toUpperCase();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            name = eras[i].name.toUpperCase();\n            abbr = eras[i].abbr.toUpperCase();\n            narrow = eras[i].narrow.toUpperCase();\n\n            if (strict) {\n                switch (format) {\n                    case 'N':\n                    case 'NN':\n                    case 'NNN':\n                        if (abbr === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNN':\n                        if (name === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNNN':\n                        if (narrow === eraName) {\n                            return eras[i];\n                        }\n                        break;\n                }\n            } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {\n                return eras[i];\n            }\n        }\n    }\n\n    function localeErasConvertYear(era, year) {\n        var dir = era.since <= era.until ? +1 : -1;\n        if (year === undefined) {\n            return hooks(era.since).year();\n        } else {\n            return hooks(era.since).year() + (year - era.offset) * dir;\n        }\n    }\n\n    function getEraName() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].name;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].name;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraNarrow() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].narrow;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].narrow;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraAbbr() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].abbr;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].abbr;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraYear() {\n        var i,\n            l,\n            dir,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            dir = eras[i].since <= eras[i].until ? +1 : -1;\n\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (\n                (eras[i].since <= val && val <= eras[i].until) ||\n                (eras[i].until <= val && val <= eras[i].since)\n            ) {\n                return (\n                    (this.year() - hooks(eras[i].since).year()) * dir +\n                    eras[i].offset\n                );\n            }\n        }\n\n        return this.year();\n    }\n\n    function erasNameRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNameRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNameRegex : this._erasRegex;\n    }\n\n    function erasAbbrRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasAbbrRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasAbbrRegex : this._erasRegex;\n    }\n\n    function erasNarrowRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNarrowRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNarrowRegex : this._erasRegex;\n    }\n\n    function matchEraAbbr(isStrict, locale) {\n        return locale.erasAbbrRegex(isStrict);\n    }\n\n    function matchEraName(isStrict, locale) {\n        return locale.erasNameRegex(isStrict);\n    }\n\n    function matchEraNarrow(isStrict, locale) {\n        return locale.erasNarrowRegex(isStrict);\n    }\n\n    function matchEraYearOrdinal(isStrict, locale) {\n        return locale._eraYearOrdinalRegex || matchUnsigned;\n    }\n\n    function computeErasParse() {\n        var abbrPieces = [],\n            namePieces = [],\n            narrowPieces = [],\n            mixedPieces = [],\n            i,\n            l,\n            erasName,\n            erasAbbr,\n            erasNarrow,\n            eras = this.eras();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            erasName = regexEscape(eras[i].name);\n            erasAbbr = regexEscape(eras[i].abbr);\n            erasNarrow = regexEscape(eras[i].narrow);\n\n            namePieces.push(erasName);\n            abbrPieces.push(erasAbbr);\n            narrowPieces.push(erasNarrow);\n            mixedPieces.push(erasName);\n            mixedPieces.push(erasAbbr);\n            mixedPieces.push(erasNarrow);\n        }\n\n        this._erasRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._erasNameRegex = new RegExp('^(' + namePieces.join('|') + ')', 'i');\n        this._erasAbbrRegex = new RegExp('^(' + abbrPieces.join('|') + ')', 'i');\n        this._erasNarrowRegex = new RegExp(\n            '^(' + narrowPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken(token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg', 'weekYear');\n    addWeekYearFormatToken('ggggg', 'weekYear');\n    addWeekYearFormatToken('GGGG', 'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    // PARSING\n\n    addRegexToken('G', matchSigned);\n    addRegexToken('g', matchSigned);\n    addRegexToken('GG', match1to2, match2);\n    addRegexToken('gg', match1to2, match2);\n    addRegexToken('GGGG', match1to4, match4);\n    addRegexToken('gggg', match1to4, match4);\n    addRegexToken('GGGGG', match1to6, match6);\n    addRegexToken('ggggg', match1to6, match6);\n\n    addWeekParseToken(\n        ['gggg', 'ggggg', 'GGGG', 'GGGGG'],\n        function (input, week, config, token) {\n            week[token.substr(0, 2)] = toInt(input);\n        }\n    );\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.week(),\n            this.weekday() + this.localeData()._week.dow,\n            this.localeData()._week.dow,\n            this.localeData()._week.doy\n        );\n    }\n\n    function getSetISOWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.isoWeek(),\n            this.isoWeekday(),\n            1,\n            4\n        );\n    }\n\n    function getISOWeeksInYear() {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getISOWeeksInISOWeekYear() {\n        return weeksInYear(this.isoWeekYear(), 1, 4);\n    }\n\n    function getWeeksInYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getWeeksInWeekYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter(input) {\n        return input == null\n            ? Math.ceil((this.month() + 1) / 3)\n            : this.month((input - 1) * 3 + (this.month() % 3));\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // PARSING\n\n    addRegexToken('D', match1to2, match1to2NoLeadingZero);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict\n            ? locale._dayOfMonthOrdinalParse || locale._ordinalParse\n            : locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // PARSING\n\n    addRegexToken('DDD', match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear(input) {\n        var dayOfYear =\n            Math.round(\n                (this.clone().startOf('day') - this.clone().startOf('year')) / 864e5\n            ) + 1;\n        return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // PARSING\n\n    addRegexToken('m', match1to2, match1to2HasZero);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // PARSING\n\n    addRegexToken('s', match1to2, match1to2HasZero);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n    // PARSING\n\n    addRegexToken('S', match1to3, match1);\n    addRegexToken('SS', match1to3, match2);\n    addRegexToken('SSS', match1to3, match3);\n\n    var token, getSetMillisecond;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n\n    getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z', 0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr() {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName() {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add = add;\n    proto.calendar = calendar$1;\n    proto.clone = clone;\n    proto.diff = diff;\n    proto.endOf = endOf;\n    proto.format = format;\n    proto.from = from;\n    proto.fromNow = fromNow;\n    proto.to = to;\n    proto.toNow = toNow;\n    proto.get = stringGet;\n    proto.invalidAt = invalidAt;\n    proto.isAfter = isAfter;\n    proto.isBefore = isBefore;\n    proto.isBetween = isBetween;\n    proto.isSame = isSame;\n    proto.isSameOrAfter = isSameOrAfter;\n    proto.isSameOrBefore = isSameOrBefore;\n    proto.isValid = isValid$2;\n    proto.lang = lang;\n    proto.locale = locale;\n    proto.localeData = localeData;\n    proto.max = prototypeMax;\n    proto.min = prototypeMin;\n    proto.parsingFlags = parsingFlags;\n    proto.set = stringSet;\n    proto.startOf = startOf;\n    proto.subtract = subtract;\n    proto.toArray = toArray;\n    proto.toObject = toObject;\n    proto.toDate = toDate;\n    proto.toISOString = toISOString;\n    proto.inspect = inspect;\n    if (typeof Symbol !== 'undefined' && Symbol.for != null) {\n        proto[Symbol.for('nodejs.util.inspect.custom')] = function () {\n            return 'Moment<' + this.format() + '>';\n        };\n    }\n    proto.toJSON = toJSON;\n    proto.toString = toString;\n    proto.unix = unix;\n    proto.valueOf = valueOf;\n    proto.creationData = creationData;\n    proto.eraName = getEraName;\n    proto.eraNarrow = getEraNarrow;\n    proto.eraAbbr = getEraAbbr;\n    proto.eraYear = getEraYear;\n    proto.year = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week = proto.weeks = getSetWeek;\n    proto.isoWeek = proto.isoWeeks = getSetISOWeek;\n    proto.weeksInYear = getWeeksInYear;\n    proto.weeksInWeekYear = getWeeksInWeekYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;\n    proto.date = getSetDayOfMonth;\n    proto.day = proto.days = getSetDayOfWeek;\n    proto.weekday = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset = getSetOffset;\n    proto.utc = setOffsetToUTC;\n    proto.local = setOffsetToLocal;\n    proto.parseZone = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST = isDaylightSavingTime;\n    proto.isLocal = isLocal;\n    proto.isUtcOffset = isUtcOffset;\n    proto.isUtc = isUtc;\n    proto.isUTC = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates = deprecate(\n        'dates accessor is deprecated. Use date instead.',\n        getSetDayOfMonth\n    );\n    proto.months = deprecate(\n        'months accessor is deprecated. Use month instead',\n        getSetMonth\n    );\n    proto.years = deprecate(\n        'years accessor is deprecated. Use year instead',\n        getSetYear\n    );\n    proto.zone = deprecate(\n        'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',\n        getSetZone\n    );\n    proto.isDSTShifted = deprecate(\n        'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',\n        isDaylightSavingTimeShifted\n    );\n\n    function createUnix(input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone() {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat(string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar = calendar;\n    proto$1.longDateFormat = longDateFormat;\n    proto$1.invalidDate = invalidDate;\n    proto$1.ordinal = ordinal;\n    proto$1.preparse = preParsePostFormat;\n    proto$1.postformat = preParsePostFormat;\n    proto$1.relativeTime = relativeTime;\n    proto$1.pastFuture = pastFuture;\n    proto$1.set = set;\n    proto$1.eras = localeEras;\n    proto$1.erasParse = localeErasParse;\n    proto$1.erasConvertYear = localeErasConvertYear;\n    proto$1.erasAbbrRegex = erasAbbrRegex;\n    proto$1.erasNameRegex = erasNameRegex;\n    proto$1.erasNarrowRegex = erasNarrowRegex;\n\n    proto$1.months = localeMonths;\n    proto$1.monthsShort = localeMonthsShort;\n    proto$1.monthsParse = localeMonthsParse;\n    proto$1.monthsRegex = monthsRegex;\n    proto$1.monthsShortRegex = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays = localeWeekdays;\n    proto$1.weekdaysMin = localeWeekdaysMin;\n    proto$1.weekdaysShort = localeWeekdaysShort;\n    proto$1.weekdaysParse = localeWeekdaysParse;\n\n    proto$1.weekdaysRegex = weekdaysRegex;\n    proto$1.weekdaysShortRegex = weekdaysShortRegex;\n    proto$1.weekdaysMinRegex = weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1(format, index, field, setter) {\n        var locale = getLocale(),\n            utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl(format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i,\n            out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl(localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0,\n            i,\n            out = [];\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths(format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort(format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        eras: [\n            {\n                since: '0001-01-01',\n                until: +Infinity,\n                offset: 1,\n                name: 'Anno Domini',\n                narrow: 'AD',\n                abbr: 'AD',\n            },\n            {\n                since: '0000-12-31',\n                until: -Infinity,\n                offset: 1,\n                name: 'Before Christ',\n                narrow: 'BC',\n                abbr: 'BC',\n            },\n        ],\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal: function (number) {\n            var b = number % 10,\n                output =\n                    toInt((number % 100) / 10) === 1\n                        ? 'th'\n                        : b === 1\n                          ? 'st'\n                          : b === 2\n                            ? 'nd'\n                            : b === 3\n                              ? 'rd'\n                              : 'th';\n            return number + output;\n        },\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate(\n        'moment.lang is deprecated. Use moment.locale instead.',\n        getSetGlobalLocale\n    );\n    hooks.langData = deprecate(\n        'moment.langData is deprecated. Use moment.localeData instead.',\n        getLocale\n    );\n\n    var mathAbs = Math.abs;\n\n    function abs() {\n        var data = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days = mathAbs(this._days);\n        this._months = mathAbs(this._months);\n\n        data.milliseconds = mathAbs(data.milliseconds);\n        data.seconds = mathAbs(data.seconds);\n        data.minutes = mathAbs(data.minutes);\n        data.hours = mathAbs(data.hours);\n        data.months = mathAbs(data.months);\n        data.years = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1(duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days += direction * other._days;\n        duration._months += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1(input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1(input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil(number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble() {\n        var milliseconds = this._milliseconds,\n            days = this._days,\n            months = this._months,\n            data = this._data,\n            seconds,\n            minutes,\n            hours,\n            years,\n            monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (\n            !(\n                (milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0)\n            )\n        ) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds = absFloor(milliseconds / 1000);\n        data.seconds = seconds % 60;\n\n        minutes = absFloor(seconds / 60);\n        data.minutes = minutes % 60;\n\n        hours = absFloor(minutes / 60);\n        data.hours = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days = days;\n        data.months = months;\n        data.years = years;\n\n        return this;\n    }\n\n    function daysToMonths(days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return (days * 4800) / 146097;\n    }\n\n    function monthsToDays(months) {\n        // the reverse of daysToMonths\n        return (months * 146097) / 4800;\n    }\n\n    function as(units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days,\n            months,\n            milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':\n                    return months;\n                case 'quarter':\n                    return months / 3;\n                case 'year':\n                    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week':\n                    return days / 7 + milliseconds / 6048e5;\n                case 'day':\n                    return days + milliseconds / 864e5;\n                case 'hour':\n                    return days * 24 + milliseconds / 36e5;\n                case 'minute':\n                    return days * 1440 + milliseconds / 6e4;\n                case 'second':\n                    return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond':\n                    return Math.floor(days * 864e5) + milliseconds;\n                default:\n                    throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    function makeAs(alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms'),\n        asSeconds = makeAs('s'),\n        asMinutes = makeAs('m'),\n        asHours = makeAs('h'),\n        asDays = makeAs('d'),\n        asWeeks = makeAs('w'),\n        asMonths = makeAs('M'),\n        asQuarters = makeAs('Q'),\n        asYears = makeAs('y'),\n        valueOf$1 = asMilliseconds;\n\n    function clone$1() {\n        return createDuration(this);\n    }\n\n    function get$2(units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds'),\n        seconds = makeGetter('seconds'),\n        minutes = makeGetter('minutes'),\n        hours = makeGetter('hours'),\n        days = makeGetter('days'),\n        months = makeGetter('months'),\n        years = makeGetter('years');\n\n    function weeks() {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round,\n        thresholds = {\n            ss: 44, // a few seconds to seconds\n            s: 45, // seconds to minute\n            m: 45, // minutes to hour\n            h: 22, // hours to day\n            d: 26, // days to month/week\n            w: null, // weeks to month\n            M: 11, // months to year\n        };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1(posNegDuration, withoutSuffix, thresholds, locale) {\n        var duration = createDuration(posNegDuration).abs(),\n            seconds = round(duration.as('s')),\n            minutes = round(duration.as('m')),\n            hours = round(duration.as('h')),\n            days = round(duration.as('d')),\n            months = round(duration.as('M')),\n            weeks = round(duration.as('w')),\n            years = round(duration.as('y')),\n            a =\n                (seconds <= thresholds.ss && ['s', seconds]) ||\n                (seconds < thresholds.s && ['ss', seconds]) ||\n                (minutes <= 1 && ['m']) ||\n                (minutes < thresholds.m && ['mm', minutes]) ||\n                (hours <= 1 && ['h']) ||\n                (hours < thresholds.h && ['hh', hours]) ||\n                (days <= 1 && ['d']) ||\n                (days < thresholds.d && ['dd', days]);\n\n        if (thresholds.w != null) {\n            a =\n                a ||\n                (weeks <= 1 && ['w']) ||\n                (weeks < thresholds.w && ['ww', weeks]);\n        }\n        a = a ||\n            (months <= 1 && ['M']) ||\n            (months < thresholds.M && ['MM', months]) ||\n            (years <= 1 && ['y']) || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding(roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof roundingFunction === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold(threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize(argWithSuffix, argThresholds) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var withSuffix = false,\n            th = thresholds,\n            locale,\n            output;\n\n        if (typeof argWithSuffix === 'object') {\n            argThresholds = argWithSuffix;\n            argWithSuffix = false;\n        }\n        if (typeof argWithSuffix === 'boolean') {\n            withSuffix = argWithSuffix;\n        }\n        if (typeof argThresholds === 'object') {\n            th = Object.assign({}, thresholds, argThresholds);\n            if (argThresholds.s != null && argThresholds.ss == null) {\n                th.ss = argThresholds.s - 1;\n            }\n        }\n\n        locale = this.localeData();\n        output = relativeTime$1(this, !withSuffix, th, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return (x > 0) - (x < 0) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000,\n            days = abs$1(this._days),\n            months = abs$1(this._months),\n            minutes,\n            hours,\n            years,\n            s,\n            total = this.asSeconds(),\n            totalSign,\n            ymSign,\n            daysSign,\n            hmsSign;\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes = absFloor(seconds / 60);\n        hours = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n\n        totalSign = total < 0 ? '-' : '';\n        ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return (\n            totalSign +\n            'P' +\n            (years ? ymSign + years + 'Y' : '') +\n            (months ? ymSign + months + 'M' : '') +\n            (days ? daysSign + days + 'D' : '') +\n            (hours || minutes || seconds ? 'T' : '') +\n            (hours ? hmsSign + hours + 'H' : '') +\n            (minutes ? hmsSign + minutes + 'M' : '') +\n            (seconds ? hmsSign + s + 'S' : '')\n        );\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid = isValid$1;\n    proto$2.abs = abs;\n    proto$2.add = add$1;\n    proto$2.subtract = subtract$1;\n    proto$2.as = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds = asSeconds;\n    proto$2.asMinutes = asMinutes;\n    proto$2.asHours = asHours;\n    proto$2.asDays = asDays;\n    proto$2.asWeeks = asWeeks;\n    proto$2.asMonths = asMonths;\n    proto$2.asQuarters = asQuarters;\n    proto$2.asYears = asYears;\n    proto$2.valueOf = valueOf$1;\n    proto$2._bubble = bubble;\n    proto$2.clone = clone$1;\n    proto$2.get = get$2;\n    proto$2.milliseconds = milliseconds;\n    proto$2.seconds = seconds;\n    proto$2.minutes = minutes;\n    proto$2.hours = hours;\n    proto$2.days = days;\n    proto$2.weeks = weeks;\n    proto$2.months = months;\n    proto$2.years = years;\n    proto$2.humanize = humanize;\n    proto$2.toISOString = toISOString$1;\n    proto$2.toString = toISOString$1;\n    proto$2.toJSON = toISOString$1;\n    proto$2.locale = locale;\n    proto$2.localeData = localeData;\n\n    proto$2.toIsoString = deprecate(\n        'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',\n        toISOString$1\n    );\n    proto$2.lang = lang;\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    //! moment.js\n\n    hooks.version = '2.30.1';\n\n    setHookCallback(createLocal);\n\n    hooks.fn = proto;\n    hooks.min = min;\n    hooks.max = max;\n    hooks.now = now;\n    hooks.utc = createUTC;\n    hooks.unix = createUnix;\n    hooks.months = listMonths;\n    hooks.isDate = isDate;\n    hooks.locale = getSetGlobalLocale;\n    hooks.invalid = createInvalid;\n    hooks.duration = createDuration;\n    hooks.isMoment = isMoment;\n    hooks.weekdays = listWeekdays;\n    hooks.parseZone = createInZone;\n    hooks.localeData = getLocale;\n    hooks.isDuration = isDuration;\n    hooks.monthsShort = listMonthsShort;\n    hooks.weekdaysMin = listWeekdaysMin;\n    hooks.defineLocale = defineLocale;\n    hooks.updateLocale = updateLocale;\n    hooks.locales = listLocales;\n    hooks.weekdaysShort = listWeekdaysShort;\n    hooks.normalizeUnits = normalizeUnits;\n    hooks.relativeTimeRounding = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat = getCalendarFormat;\n    hooks.prototype = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss', // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS', // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD', // <input type=\"date\" />\n        TIME: 'HH:mm', // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss', // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS', // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW', // <input type=\"week\" />\n        MONTH: 'YYYY-MM', // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n\n\n//# sourceURL=webpack:///./src/libs/moment.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;